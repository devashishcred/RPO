using System;
using System.Collections.Generic;
using System.Data.Entity;
using System.Linq;
using System.Web;
using Rpo.ApiServices.Api.Controllers.JobDocument;
using Rpo.ApiServices.Model;
using Rpo.ApiServices.Model.Models;
using iTextSharp.text.pdf;
using System.IO;
namespace Rpo.ApiServices.Api.Tools
{
    public partial class GenerateJobDocuments
    {

        public static void GenerateL2RequestForWorkPermitSWOCivilPenaltyOverrideReductionWaiverRequest_new(int idJobDocument, JobDocumentCreateOrUpdateDTO jobDocumentCreateOrUpdateDTO)
        {
            RpoContext rpoContext = new RpoContext();
            var documentFieldList = rpoContext.DocumentFields.Include("Field").Where(x => x.IdDocument == jobDocumentCreateOrUpdateDTO.IdDocument).OrderByDescending(x => x.Field.IsDisplayInFrontend).ThenBy(x => x.DisplayOrder).ToList();


            JobDocument jobDocument = rpoContext.JobDocuments.FirstOrDefault(x => x.Id == idJobDocument);
            string documentDescription = string.Empty;
            string jobDocumentFor = string.Empty;
            if (documentFieldList != null && documentFieldList.Count > 0)
            {
                Job job = rpoContext.Jobs.Include("ProjectManager").
                    Include("Contact.ContactTitle").
                    Include("RfpAddress.Borough").
                    Include("Company.Addresses.AddressType").
                    Include("Company.Addresses.State")
                    .Where(x => x.Id == jobDocumentCreateOrUpdateDTO.IdJob).FirstOrDefault();

                string businessCompanyName = string.Empty;
                string businessPhone = string.Empty;
                string businessAddress = string.Empty;
                string businessFax = string.Empty;
                string businessCity = string.Empty;
                string businessState = string.Empty;
                string businessZip = string.Empty;
                string contactMobilePhone = string.Empty;
                string contactEmail = string.Empty;
                string floorWorkingOn = string.Empty;
                string licenseNumber = string.Empty;
                string lastName = string.Empty;
                string firstName = string.Empty;
                string middName = string.Empty;
                string fullName = string.Empty;


                string ownerrfpAddress = string.Empty;
                string ownerCity = string.Empty;
                string ownerZipCode = string.Empty;
                string applicationNumber = string.Empty;

                string overrideRequest = string.Empty;
                string reductionRequest = string.Empty;
                string stopWorkOrder = string.Empty;
                string waiverRequest = string.Empty;
                string docuementType = string.Empty;
                string engineerLicenseType = string.Empty;
                string architectLicenseType = string.Empty;
                string applicationNumber2 = string.Empty;
                string violation4 = string.Empty;
                string jobViolation = string.Empty;
                string strViolationNumber = string.Empty;
                var jobDocumentFieldList = rpoContext.JobDocumentFields.Where(x => x.IdJobDocument == idJobDocument).ToList();
                foreach (DocumentField item in documentFieldList)
                {
                    JobDocumentField updateJobDocumentField = jobDocumentFieldList.FirstOrDefault(x => x.IdDocumentField == item.Id);
                    var frontendFields = jobDocumentCreateOrUpdateDTO.JobDocumentFields.FirstOrDefault(x => x.IdDocumentField == item.Id);
                    if (frontendFields == null)
                    {
                        if (item.Field.FieldName == "JobFileInfo")
                        {
                            string jobFileInfo = job != null ? job.JobNumber + " - L2-79681.pdf" : string.Empty;
                            if (updateJobDocumentField == null)
                            {
                                JobDocumentField JobDocumentField = new JobDocumentField
                                {
                                    IdJobDocument = idJobDocument,
                                    IdDocumentField = Convert.ToInt32(item.Id),
                                    Value = jobFileInfo,
                                    ActualValue = jobFileInfo
                                };
                                rpoContext.JobDocumentFields.Add(JobDocumentField);
                            }
                            else
                            {
                                updateJobDocumentField.Value = jobFileInfo;
                                updateJobDocumentField.ActualValue = jobFileInfo;
                                rpoContext.Entry(updateJobDocumentField).State = EntityState.Modified;
                                rpoContext.SaveChanges();
                            }
                        }

                        else if (item.Field.FieldName == "chkNRV")
                        {
                            if (updateJobDocumentField == null)
                            {
                                JobDocumentField JobDocumentField = new JobDocumentField
                                {
                                    IdJobDocument = idJobDocument,
                                    IdDocumentField = Convert.ToInt32(item.Id),
                                    Value = overrideRequest,
                                    ActualValue = overrideRequest
                                };
                                rpoContext.JobDocumentFields.Add(JobDocumentField);
                            }
                            else
                            {
                                updateJobDocumentField.Value = overrideRequest;
                                updateJobDocumentField.ActualValue = overrideRequest;
                                rpoContext.Entry(updateJobDocumentField).State = EntityState.Modified;
                                rpoContext.SaveChanges();
                            }
                        }
                        else if (item.Field.FieldName == "chkREDT")
                        {
                            if (updateJobDocumentField == null)
                            {
                                JobDocumentField JobDocumentField = new JobDocumentField
                                {
                                    IdJobDocument = idJobDocument,
                                    IdDocumentField = Convert.ToInt32(item.Id),
                                    Value = reductionRequest,
                                    ActualValue = reductionRequest
                                };
                                rpoContext.JobDocumentFields.Add(JobDocumentField);
                            }
                            else
                            {
                                updateJobDocumentField.Value = reductionRequest;
                                updateJobDocumentField.ActualValue = reductionRequest;
                                rpoContext.Entry(updateJobDocumentField).State = EntityState.Modified;
                                rpoContext.SaveChanges();
                            }
                        }
                        else if (item.Field.FieldName == "chkLEG")
                        {
                            if (updateJobDocumentField == null)
                            {
                                JobDocumentField JobDocumentField = new JobDocumentField
                                {
                                    IdJobDocument = idJobDocument,
                                    IdDocumentField = Convert.ToInt32(item.Id),
                                    Value = reductionRequest,
                                    ActualValue = reductionRequest
                                };
                                rpoContext.JobDocumentFields.Add(JobDocumentField);
                            }
                            else
                            {
                                updateJobDocumentField.Value = reductionRequest;
                                updateJobDocumentField.ActualValue = reductionRequest;
                                rpoContext.Entry(updateJobDocumentField).State = EntityState.Modified;
                                rpoContext.SaveChanges();
                            }
                        }
                        else if (item.Field.FieldName == "chkBFP")
                        {
                            if (updateJobDocumentField == null)
                            {
                                JobDocumentField JobDocumentField = new JobDocumentField
                                {
                                    IdJobDocument = idJobDocument,
                                    IdDocumentField = Convert.ToInt32(item.Id),
                                    Value = waiverRequest,
                                    ActualValue = waiverRequest
                                };
                                rpoContext.JobDocumentFields.Add(JobDocumentField);
                            }
                            else
                            {
                                updateJobDocumentField.Value = waiverRequest;
                                updateJobDocumentField.ActualValue = waiverRequest;
                                rpoContext.Entry(updateJobDocumentField).State = EntityState.Modified;
                                rpoContext.SaveChanges();
                            }
                        }
                        else if (item.Field.FieldName == "chkCPP")
                        {
                            if (updateJobDocumentField == null)
                            {
                                JobDocumentField JobDocumentField = new JobDocumentField
                                {
                                    IdJobDocument = idJobDocument,
                                    IdDocumentField = Convert.ToInt32(item.Id),
                                    Value = waiverRequest,
                                    ActualValue = waiverRequest
                                };
                                rpoContext.JobDocumentFields.Add(JobDocumentField);
                            }
                            else
                            {
                                updateJobDocumentField.Value = waiverRequest;
                                updateJobDocumentField.ActualValue = waiverRequest;
                                rpoContext.Entry(updateJobDocumentField).State = EntityState.Modified;
                                rpoContext.SaveChanges();
                            }
                        }
                        else if (item.Field.FieldName == "chkDUPW")
                        {
                            if (updateJobDocumentField == null)
                            {
                                JobDocumentField JobDocumentField = new JobDocumentField
                                {
                                    IdJobDocument = idJobDocument,
                                    IdDocumentField = Convert.ToInt32(item.Id),
                                    Value = waiverRequest,
                                    ActualValue = waiverRequest
                                };
                                rpoContext.JobDocumentFields.Add(JobDocumentField);
                            }
                            else
                            {
                                updateJobDocumentField.Value = waiverRequest;
                                updateJobDocumentField.ActualValue = waiverRequest;
                                rpoContext.Entry(updateJobDocumentField).State = EntityState.Modified;
                                rpoContext.SaveChanges();
                            }
                        }
                        else if (item.Field.FieldName == "chkECB")
                        {
                            if (updateJobDocumentField == null)
                            {
                                JobDocumentField JobDocumentField = new JobDocumentField
                                {
                                    IdJobDocument = idJobDocument,
                                    IdDocumentField = Convert.ToInt32(item.Id),
                                    Value = waiverRequest,
                                    ActualValue = waiverRequest
                                };
                                rpoContext.JobDocumentFields.Add(JobDocumentField);
                            }
                            else
                            {
                                updateJobDocumentField.Value = string.Empty;
                                updateJobDocumentField.ActualValue = string.Empty;
                                rpoContext.Entry(updateJobDocumentField).State = EntityState.Modified;
                                rpoContext.SaveChanges();
                            }
                        }
                        else if (item.Field.FieldName == "chkEWG")
                        {
                            if (updateJobDocumentField == null)
                            {
                                JobDocumentField JobDocumentField = new JobDocumentField
                                {
                                    IdJobDocument = idJobDocument,
                                    IdDocumentField = Convert.ToInt32(item.Id),
                                    Value = waiverRequest,
                                    ActualValue = waiverRequest
                                };
                                rpoContext.JobDocumentFields.Add(JobDocumentField);
                            }
                            else
                            {
                                updateJobDocumentField.Value = waiverRequest;
                                updateJobDocumentField.ActualValue = waiverRequest;
                                rpoContext.Entry(updateJobDocumentField).State = EntityState.Modified;
                                rpoContext.SaveChanges();
                            }
                        }
                        else if (item.Field.FieldName == "chkEWP")
                        {
                            if (updateJobDocumentField == null)
                            {
                                JobDocumentField JobDocumentField = new JobDocumentField
                                {
                                    IdJobDocument = idJobDocument,
                                    IdDocumentField = Convert.ToInt32(item.Id),
                                    Value = waiverRequest,
                                    ActualValue = waiverRequest
                                };
                                rpoContext.JobDocumentFields.Add(JobDocumentField);
                            }
                            else
                            {
                                updateJobDocumentField.Value = waiverRequest;
                                updateJobDocumentField.ActualValue = waiverRequest;
                                rpoContext.Entry(updateJobDocumentField).State = EntityState.Modified;
                                rpoContext.SaveChanges();
                            }
                        }
                        else if (item.Field.FieldName == "chkEXP1")
                        {
                            if (updateJobDocumentField == null)
                            {
                                JobDocumentField JobDocumentField = new JobDocumentField
                                {
                                    IdJobDocument = idJobDocument,
                                    IdDocumentField = Convert.ToInt32(item.Id),
                                    Value = waiverRequest,
                                    ActualValue = waiverRequest
                                };
                                rpoContext.JobDocumentFields.Add(JobDocumentField);
                            }
                            else
                            {
                                updateJobDocumentField.Value = waiverRequest;
                                updateJobDocumentField.ActualValue = waiverRequest;
                                rpoContext.Entry(updateJobDocumentField).State = EntityState.Modified;
                                rpoContext.SaveChanges();
                            }
                        }
                        else if (item.Field.FieldName == "chkEXP2")
                        {
                            if (updateJobDocumentField == null)
                            {
                                JobDocumentField JobDocumentField = new JobDocumentField
                                {
                                    IdJobDocument = idJobDocument,
                                    IdDocumentField = Convert.ToInt32(item.Id),
                                    Value = waiverRequest,
                                    ActualValue = waiverRequest
                                };
                                rpoContext.JobDocumentFields.Add(JobDocumentField);
                            }
                            else
                            {
                                updateJobDocumentField.Value = waiverRequest;
                                updateJobDocumentField.ActualValue = waiverRequest;
                                rpoContext.Entry(updateJobDocumentField).State = EntityState.Modified;
                                rpoContext.SaveChanges();
                            }
                        }
                        else if (item.Field.FieldName == "chkGOV")
                        {
                            if (updateJobDocumentField == null)
                            {
                                JobDocumentField JobDocumentField = new JobDocumentField
                                {
                                    IdJobDocument = idJobDocument,
                                    IdDocumentField = Convert.ToInt32(item.Id),
                                    Value = waiverRequest,
                                    ActualValue = waiverRequest
                                };
                                rpoContext.JobDocumentFields.Add(JobDocumentField);
                            }
                            else
                            {
                                updateJobDocumentField.Value = waiverRequest;
                                updateJobDocumentField.ActualValue = waiverRequest;
                                rpoContext.Entry(updateJobDocumentField).State = EntityState.Modified;
                                rpoContext.SaveChanges();
                            }
                        }
                        else if (item.Field.FieldName == "chkTPT")
                        {
                            if (updateJobDocumentField == null)
                            {
                                JobDocumentField JobDocumentField = new JobDocumentField
                                {
                                    IdJobDocument = idJobDocument,
                                    IdDocumentField = Convert.ToInt32(item.Id),
                                    Value = waiverRequest,
                                    ActualValue = waiverRequest
                                };
                                rpoContext.JobDocumentFields.Add(JobDocumentField);
                            }
                            else
                            {
                                updateJobDocumentField.Value = waiverRequest;
                                updateJobDocumentField.ActualValue = waiverRequest;
                                rpoContext.Entry(updateJobDocumentField).State = EntityState.Modified;
                                rpoContext.SaveChanges();
                            }
                        }
                        else if (item.Field.FieldName == "txtCPP_BISInvoice_No")
                        {
                            if (updateJobDocumentField == null)
                            {
                                JobDocumentField JobDocumentField = new JobDocumentField
                                {
                                    IdJobDocument = idJobDocument,
                                    IdDocumentField = Convert.ToInt32(item.Id),
                                    Value = waiverRequest,
                                    ActualValue = waiverRequest
                                };
                                rpoContext.JobDocumentFields.Add(JobDocumentField);
                            }
                            else
                            {
                                updateJobDocumentField.Value = waiverRequest;
                                updateJobDocumentField.ActualValue = waiverRequest;
                                rpoContext.Entry(updateJobDocumentField).State = EntityState.Modified;
                                rpoContext.SaveChanges();
                            }
                        }
                        else if (item.Field.FieldName == "txtDUPW_BISInvoice_No")
                        {
                            if (updateJobDocumentField == null)
                            {
                                JobDocumentField JobDocumentField = new JobDocumentField
                                {
                                    IdJobDocument = idJobDocument,
                                    IdDocumentField = Convert.ToInt32(item.Id),
                                    Value = waiverRequest,
                                    ActualValue = waiverRequest
                                };
                                rpoContext.JobDocumentFields.Add(JobDocumentField);
                            }
                            else
                            {
                                updateJobDocumentField.Value = waiverRequest;
                                updateJobDocumentField.ActualValue = waiverRequest;
                                rpoContext.Entry(updateJobDocumentField).State = EntityState.Modified;
                                rpoContext.SaveChanges();
                            }
                        }
                        else if (item.Field.FieldName == "chkSWOE")
                        {
                            if (updateJobDocumentField == null)
                            {
                                JobDocumentField JobDocumentField = new JobDocumentField
                                {
                                    IdJobDocument = idJobDocument,
                                    IdDocumentField = Convert.ToInt32(item.Id),
                                    Value = stopWorkOrder,
                                    ActualValue = stopWorkOrder
                                };
                                rpoContext.JobDocumentFields.Add(JobDocumentField);
                            }
                            else
                            {
                                updateJobDocumentField.Value = stopWorkOrder;
                                updateJobDocumentField.ActualValue = stopWorkOrder;
                                rpoContext.Entry(updateJobDocumentField).State = EntityState.Modified;
                                rpoContext.SaveChanges();
                            }
                        }
                        else if (item.Field.FieldName == "chkSWBC")
                        {
                            if (updateJobDocumentField == null)
                            {
                                JobDocumentField JobDocumentField = new JobDocumentField
                                {
                                    IdJobDocument = idJobDocument,
                                    IdDocumentField = Convert.ToInt32(item.Id),
                                    Value = stopWorkOrder,
                                    ActualValue = stopWorkOrder
                                };
                                rpoContext.JobDocumentFields.Add(JobDocumentField);
                            }
                            else
                            {
                                updateJobDocumentField.Value = stopWorkOrder;
                                updateJobDocumentField.ActualValue = stopWorkOrder;
                                rpoContext.Entry(updateJobDocumentField).State = EntityState.Modified;
                                rpoContext.SaveChanges();
                            }
                        }
                        else if (item.Field.FieldName == "txtHouseNo")
                        {
                            string houseNo = job != null && job.RfpAddress != null ? job.RfpAddress.HouseNumber : string.Empty;
                            if (updateJobDocumentField == null)
                            {
                                JobDocumentField JobDocumentField = new JobDocumentField
                                {
                                    IdJobDocument = idJobDocument,
                                    IdDocumentField = Convert.ToInt32(item.Id),
                                    Value = houseNo,
                                    ActualValue = houseNo
                                };
                                rpoContext.JobDocumentFields.Add(JobDocumentField);
                            }
                            else
                            {
                                updateJobDocumentField.Value = houseNo;
                                updateJobDocumentField.ActualValue = houseNo;
                                rpoContext.Entry(updateJobDocumentField).State = EntityState.Modified;
                                rpoContext.SaveChanges();
                            }
                        }
                        else if (item.Field.FieldName == "txtStreet")
                        {
                            string street = job != null && job.RfpAddress != null ? job.RfpAddress.Street : string.Empty;
                            if (updateJobDocumentField == null)
                            {
                                JobDocumentField JobDocumentField = new JobDocumentField
                                {
                                    IdJobDocument = idJobDocument,
                                    IdDocumentField = Convert.ToInt32(item.Id),
                                    Value = street,
                                    ActualValue = street
                                };
                                rpoContext.JobDocumentFields.Add(JobDocumentField);
                            }
                            else
                            {
                                updateJobDocumentField.Value = street;
                                updateJobDocumentField.ActualValue = street;
                                rpoContext.Entry(updateJobDocumentField).State = EntityState.Modified;
                                rpoContext.SaveChanges();
                            }
                        }
                        else if (item.Field.FieldName == "txtBoro")
                        {
                            string borough = job != null && job.RfpAddress != null && job.RfpAddress.Borough != null ? job.RfpAddress.Borough.Description : string.Empty;
                            if (updateJobDocumentField == null)
                            {
                                JobDocumentField JobDocumentField = new JobDocumentField
                                {
                                    IdJobDocument = idJobDocument,
                                    IdDocumentField = Convert.ToInt32(item.Id),
                                    Value = borough,
                                    ActualValue = borough
                                };
                                rpoContext.JobDocumentFields.Add(JobDocumentField);
                            }
                            else
                            {
                                updateJobDocumentField.Value = borough;
                                updateJobDocumentField.ActualValue = borough;
                                rpoContext.Entry(updateJobDocumentField).State = EntityState.Modified;
                                rpoContext.SaveChanges();
                            }
                        }
                        else if (item.Field.FieldName == "txtBlock")
                        {
                            string block = job != null && job.RfpAddress != null ? job.RfpAddress.Block : string.Empty;
                            if (updateJobDocumentField == null)
                            {
                                JobDocumentField JobDocumentField = new JobDocumentField
                                {
                                    IdJobDocument = idJobDocument,
                                    IdDocumentField = Convert.ToInt32(item.Id),
                                    Value = block,
                                    ActualValue = block
                                };
                                rpoContext.JobDocumentFields.Add(JobDocumentField);
                            }
                            else
                            {
                                updateJobDocumentField.Value = block;
                                updateJobDocumentField.ActualValue = block;
                                rpoContext.Entry(updateJobDocumentField).State = EntityState.Modified;
                                rpoContext.SaveChanges();
                            }
                        }
                        else if (item.Field.FieldName == "txtLot")
                        {
                            string lot = job != null && job.RfpAddress != null ? job.RfpAddress.Lot : string.Empty;
                            if (updateJobDocumentField == null)
                            {
                                JobDocumentField JobDocumentField = new JobDocumentField
                                {
                                    IdJobDocument = idJobDocument,
                                    IdDocumentField = Convert.ToInt32(item.Id),
                                    Value = lot,
                                    ActualValue = lot
                                };
                                rpoContext.JobDocumentFields.Add(JobDocumentField);
                            }
                            else
                            {
                                updateJobDocumentField.Value = lot;
                                updateJobDocumentField.ActualValue = lot;
                                rpoContext.Entry(updateJobDocumentField).State = EntityState.Modified;
                                rpoContext.SaveChanges();
                            }
                        }
                        else if (item.Field.FieldName == "txtBIN")
                        {
                            string binNumber = job != null && job.RfpAddress != null ? job.RfpAddress.BinNumber : string.Empty;
                            if (updateJobDocumentField == null)
                            {
                                JobDocumentField JobDocumentField = new JobDocumentField
                                {
                                    IdJobDocument = idJobDocument,
                                    IdDocumentField = Convert.ToInt32(item.Id),
                                    Value = binNumber,
                                    ActualValue = binNumber
                                };
                                rpoContext.JobDocumentFields.Add(JobDocumentField);
                            }
                            else
                            {
                                updateJobDocumentField.Value = binNumber;
                                updateJobDocumentField.ActualValue = binNumber;
                                rpoContext.Entry(updateJobDocumentField).State = EntityState.Modified;
                                rpoContext.SaveChanges();
                            }
                        }
                        else if (item.Field.FieldName == "txtCB")
                        {
                            string comunityBoardNumber = job != null && job.RfpAddress != null ? job.RfpAddress.ComunityBoardNumber : string.Empty;
                            if (updateJobDocumentField == null)
                            {
                                JobDocumentField JobDocumentField = new JobDocumentField
                                {
                                    IdJobDocument = idJobDocument,
                                    IdDocumentField = Convert.ToInt32(item.Id),
                                    Value = comunityBoardNumber,
                                    ActualValue = comunityBoardNumber
                                };
                                rpoContext.JobDocumentFields.Add(JobDocumentField);
                            }
                            else
                            {
                                updateJobDocumentField.Value = comunityBoardNumber;
                                updateJobDocumentField.ActualValue = comunityBoardNumber;
                                rpoContext.Entry(updateJobDocumentField).State = EntityState.Modified;
                                rpoContext.SaveChanges();
                            }
                        }
                        else if (item.Field.FieldName == "txtFloors")
                        {
                            // floorWorkingOn = string.Empty;
                            if (updateJobDocumentField == null)
                            {
                                JobDocumentField JobDocumentField = new JobDocumentField
                                {
                                    IdJobDocument = idJobDocument,
                                    IdDocumentField = Convert.ToInt32(item.Id),
                                    Value = floorWorkingOn,
                                    ActualValue = floorWorkingOn
                                };
                                rpoContext.JobDocumentFields.Add(JobDocumentField);
                            }
                            else
                            {
                                updateJobDocumentField.Value = floorWorkingOn;
                                updateJobDocumentField.ActualValue = floorWorkingOn;
                                rpoContext.Entry(updateJobDocumentField).State = EntityState.Modified;
                                rpoContext.SaveChanges();
                            }
                        }
                        else if (item.Field.FieldName == "txtApt")
                        {
                            string aprt = job != null ? job.Apartment : string.Empty;
                            if (updateJobDocumentField == null)
                            {
                                JobDocumentField JobDocumentField = new JobDocumentField
                                {
                                    IdJobDocument = idJobDocument,
                                    IdDocumentField = Convert.ToInt32(item.Id),
                                    Value = aprt,
                                    ActualValue = aprt
                                };
                                rpoContext.JobDocumentFields.Add(JobDocumentField);
                            }
                            else
                            {
                                updateJobDocumentField.Value = aprt;
                                updateJobDocumentField.ActualValue = aprt;
                                rpoContext.Entry(updateJobDocumentField).State = EntityState.Modified;
                                rpoContext.SaveChanges();
                            }
                        }
                        else if (item.Field.FieldName == "txtOwner_Last")
                        {
                            string ownerLastName = job != null && job.RfpAddress != null && job.RfpAddress.OwnerContact != null ? job.RfpAddress.OwnerContact.LastName : string.Empty;
                            if (updateJobDocumentField == null)
                            {
                                JobDocumentField JobDocumentField = new JobDocumentField
                                {
                                    IdJobDocument = idJobDocument,
                                    IdDocumentField = Convert.ToInt32(item.Id),
                                    Value = ownerLastName,
                                    ActualValue = ownerLastName
                                };
                                rpoContext.JobDocumentFields.Add(JobDocumentField);
                            }
                            else
                            {
                                updateJobDocumentField.Value = ownerLastName;
                                updateJobDocumentField.ActualValue = ownerLastName;
                                rpoContext.Entry(updateJobDocumentField).State = EntityState.Modified;
                                rpoContext.SaveChanges();
                            }
                        }
                        else if (item.Field.FieldName == "txtOwner_First")
                        {
                            string ownerFirstName = job != null && job.RfpAddress != null && job.RfpAddress.OwnerContact != null ? job.RfpAddress.OwnerContact.FirstName : string.Empty;
                            if (updateJobDocumentField == null)
                            {
                                JobDocumentField JobDocumentField = new JobDocumentField
                                {
                                    IdJobDocument = idJobDocument,
                                    IdDocumentField = Convert.ToInt32(item.Id),
                                    Value = ownerFirstName,
                                    ActualValue = ownerFirstName
                                };
                                rpoContext.JobDocumentFields.Add(JobDocumentField);
                            }
                            else
                            {
                                updateJobDocumentField.Value = string.Empty;
                                updateJobDocumentField.ActualValue = string.Empty;
                                rpoContext.Entry(updateJobDocumentField).State = EntityState.Modified;
                                rpoContext.SaveChanges();
                            }
                        }
                        else if (item.Field.FieldName == "txtOwner_MI")
                        {
                            string ownerMiddName = job != null && job.RfpAddress != null && job.RfpAddress.OwnerContact != null ? job.RfpAddress.OwnerContact.MiddleName : string.Empty;
                            if (updateJobDocumentField == null)
                            {
                                JobDocumentField JobDocumentField = new JobDocumentField
                                {
                                    IdJobDocument = idJobDocument,
                                    IdDocumentField = Convert.ToInt32(item.Id),
                                    Value = ownerMiddName,
                                    ActualValue = ownerMiddName
                                };
                                rpoContext.JobDocumentFields.Add(JobDocumentField);
                            }
                            else
                            {
                                updateJobDocumentField.Value = ownerMiddName;
                                updateJobDocumentField.ActualValue = ownerMiddName;
                                rpoContext.Entry(updateJobDocumentField).State = EntityState.Modified;
                                rpoContext.SaveChanges();
                            }
                        }
                        else if (item.Field.FieldName == "txtOwner_Company")
                        {
                            string ownerCompanyName = job != null && job.RfpAddress != null && job.RfpAddress.OwnerContact != null && job.RfpAddress.OwnerContact.Company != null ? job.RfpAddress.OwnerContact.Company.Name : string.Empty;
                            if (updateJobDocumentField == null)
                            {
                                JobDocumentField JobDocumentField = new JobDocumentField
                                {
                                    IdJobDocument = idJobDocument,
                                    IdDocumentField = Convert.ToInt32(item.Id),
                                    Value = ownerCompanyName,
                                    ActualValue = ownerCompanyName
                                };
                                rpoContext.JobDocumentFields.Add(JobDocumentField);
                            }
                            else
                            {
                                updateJobDocumentField.Value = ownerCompanyName;
                                updateJobDocumentField.ActualValue = ownerCompanyName;
                                rpoContext.Entry(updateJobDocumentField).State = EntityState.Modified;
                                rpoContext.SaveChanges();
                            }
                        }
                        else if (item.Field.FieldName == "txtOwner_Phone")
                        {
                            // string ownerWorkPhone = job != null && job.RfpAddress != null && job.RfpAddress.OwnerContact != null ? job.RfpAddress.OwnerContact.WorkPhone : string.Empty;
                            string ownerWorkPhone = job != null && job.RfpAddress != null && job.RfpAddress.OwnerContact != null ? job.RfpAddress.OwnerContact.WorkPhone : string.Empty;
                            if (ownerWorkPhone == null || ownerWorkPhone == "")
                            {
                                ownerWorkPhone = job != null && job.RfpAddress != null && job.RfpAddress.OwnerContact != null ? job.RfpAddress.OwnerContact.MobilePhone : string.Empty;
                            }
                            if (updateJobDocumentField == null)
                            {
                                JobDocumentField JobDocumentField = new JobDocumentField
                                {
                                    IdJobDocument = idJobDocument,
                                    IdDocumentField = Convert.ToInt32(item.Id),
                                    Value = ownerWorkPhone,
                                    ActualValue = ownerWorkPhone
                                };
                                rpoContext.JobDocumentFields.Add(JobDocumentField);
                            }
                            else
                            {
                                updateJobDocumentField.Value = ownerWorkPhone;
                                updateJobDocumentField.ActualValue = ownerWorkPhone;
                                rpoContext.Entry(updateJobDocumentField).State = EntityState.Modified;
                                rpoContext.SaveChanges();
                            }
                        }
                        else if (item.Field.FieldName == "txtOwner_EMail")
                        {
                            string ownerEmail = job != null && job.RfpAddress != null && job.RfpAddress.OwnerContact != null ? job.RfpAddress.OwnerContact.Email : string.Empty;
                            if (updateJobDocumentField == null)
                            {
                                JobDocumentField JobDocumentField = new JobDocumentField
                                {
                                    IdJobDocument = idJobDocument,
                                    IdDocumentField = Convert.ToInt32(item.Id),
                                    Value = ownerEmail,
                                    ActualValue = ownerEmail
                                };
                                rpoContext.JobDocumentFields.Add(JobDocumentField);
                            }
                            else
                            {
                                updateJobDocumentField.Value = ownerEmail;
                                updateJobDocumentField.ActualValue = ownerEmail;
                                rpoContext.Entry(updateJobDocumentField).State = EntityState.Modified;
                                rpoContext.SaveChanges();
                            }
                        }
                        else if (item.Field.FieldName == "txtOwner_Address")
                        {

                            if (updateJobDocumentField == null)
                            {
                                JobDocumentField JobDocumentField = new JobDocumentField
                                {
                                    IdJobDocument = idJobDocument,
                                    IdDocumentField = Convert.ToInt32(item.Id),
                                    Value = ownerrfpAddress,
                                    ActualValue = ownerrfpAddress
                                };
                                rpoContext.JobDocumentFields.Add(JobDocumentField);
                            }
                            else
                            {
                                updateJobDocumentField.Value = ownerrfpAddress;
                                updateJobDocumentField.ActualValue = ownerrfpAddress;
                                rpoContext.Entry(updateJobDocumentField).State = EntityState.Modified;
                                rpoContext.SaveChanges();
                            }
                        }
                        else if (item.Field.FieldName == "txtOwner_CityState")
                        {
                            if (updateJobDocumentField == null)
                            {
                                JobDocumentField JobDocumentField = new JobDocumentField
                                {
                                    IdJobDocument = idJobDocument,
                                    IdDocumentField = Convert.ToInt32(item.Id),
                                    Value = ownerCity,
                                    ActualValue = ownerCity
                                };
                                rpoContext.JobDocumentFields.Add(JobDocumentField);
                            }
                            else
                            {
                                updateJobDocumentField.Value = ownerCity;
                                updateJobDocumentField.ActualValue = ownerCity;
                                rpoContext.Entry(updateJobDocumentField).State = EntityState.Modified;
                                rpoContext.SaveChanges();
                            }
                        }
                        else if (item.Field.FieldName == "txtOwner_Zip")
                        {
                            if (updateJobDocumentField == null)
                            {
                                JobDocumentField JobDocumentField = new JobDocumentField
                                {
                                    IdJobDocument = idJobDocument,
                                    IdDocumentField = Convert.ToInt32(item.Id),
                                    Value = ownerZipCode,
                                    ActualValue = ownerZipCode
                                };
                                rpoContext.JobDocumentFields.Add(JobDocumentField);
                            }
                            else
                            {
                                updateJobDocumentField.Value = ownerZipCode;
                                updateJobDocumentField.ActualValue = ownerZipCode;
                                rpoContext.Entry(updateJobDocumentField).State = EntityState.Modified;
                                rpoContext.SaveChanges();
                            }
                        }
                        else if (item.Field.FieldName == "txtName4")
                        {
                            if (updateJobDocumentField == null)
                            {
                                JobDocumentField JobDocumentField = new JobDocumentField
                                {
                                    IdJobDocument = idJobDocument,
                                    IdDocumentField = Convert.ToInt32(item.Id),
                                    Value = fullName,
                                    ActualValue = fullName
                                };
                                rpoContext.JobDocumentFields.Add(JobDocumentField);
                            }
                            else
                            {
                                updateJobDocumentField.Value = fullName;
                                updateJobDocumentField.ActualValue = fullName;
                                rpoContext.Entry(updateJobDocumentField).State = EntityState.Modified;
                                rpoContext.SaveChanges();
                            }
                        }
                        else if (item.Field.FieldName == "txtDate4")
                        {
                            //DateTime date = DateTime.Now;
                            //string format = "MM/dd/yy";

                            if (updateJobDocumentField == null)
                            {
                                JobDocumentField JobDocumentField = new JobDocumentField
                                {
                                    IdJobDocument = idJobDocument,
                                    IdDocumentField = Convert.ToInt32(item.Id),
                                    Value = string.Empty,
                                    ActualValue = string.Empty
                                };
                                rpoContext.JobDocumentFields.Add(JobDocumentField);
                            }
                            else
                            {
                                updateJobDocumentField.Value = string.Empty;
                                updateJobDocumentField.ActualValue = string.Empty;
                                rpoContext.Entry(updateJobDocumentField).State = EntityState.Modified;
                                rpoContext.SaveChanges();
                            }
                        }
                        else if (item.Field.FieldName == "txtTime4")
                        {
                            if (updateJobDocumentField == null)
                            {
                                JobDocumentField JobDocumentField = new JobDocumentField
                                {
                                    IdJobDocument = idJobDocument,
                                    IdDocumentField = Convert.ToInt32(item.Id),
                                    Value = string.Empty,
                                    ActualValue = string.Empty
                                };
                                rpoContext.JobDocumentFields.Add(JobDocumentField);
                            }
                            else
                            {
                                updateJobDocumentField.Value = string.Empty;
                                updateJobDocumentField.ActualValue = string.Empty;
                                rpoContext.Entry(updateJobDocumentField).State = EntityState.Modified;
                                rpoContext.SaveChanges();
                            }
                        }
                        else if (item.Field.FieldName == "opgAMPM")
                        {
                            if (updateJobDocumentField == null)
                            {
                                JobDocumentField JobDocumentField = new JobDocumentField
                                {
                                    IdJobDocument = idJobDocument,
                                    IdDocumentField = Convert.ToInt32(item.Id),
                                    Value = string.Empty,
                                    ActualValue = string.Empty
                                };
                                rpoContext.JobDocumentFields.Add(JobDocumentField);
                            }
                            else
                            {
                                updateJobDocumentField.Value = string.Empty;
                                updateJobDocumentField.ActualValue = string.Empty;
                                rpoContext.Entry(updateJobDocumentField).State = EntityState.Modified;
                                rpoContext.SaveChanges();
                            }
                        }
                        else if (item.Field.FieldName == "txtJob_4")
                        {
                            if (updateJobDocumentField == null)
                            {
                                JobDocumentField JobDocumentField = new JobDocumentField
                                {
                                    IdJobDocument = idJobDocument,
                                    IdDocumentField = Convert.ToInt32(item.Id),
                                    Value = applicationNumber2,
                                    ActualValue = applicationNumber2
                                };
                                rpoContext.JobDocumentFields.Add(JobDocumentField);
                            }
                            else
                            {
                                updateJobDocumentField.Value = applicationNumber2;
                                updateJobDocumentField.ActualValue = applicationNumber2;
                                rpoContext.Entry(updateJobDocumentField).State = EntityState.Modified;
                                rpoContext.SaveChanges();
                            }
                        }
                        else if (item.Field.FieldName == "txtViolation_4")
                        {
                            if (updateJobDocumentField == null)
                            {
                                JobDocumentField JobDocumentField = new JobDocumentField
                                {
                                    IdJobDocument = idJobDocument,
                                    IdDocumentField = Convert.ToInt32(item.Id),
                                    Value = violation4,
                                    ActualValue = violation4
                                };
                                rpoContext.JobDocumentFields.Add(JobDocumentField);
                            }
                            else
                            {
                                updateJobDocumentField.Value = violation4;
                                updateJobDocumentField.ActualValue = violation4;
                                rpoContext.Entry(updateJobDocumentField).State = EntityState.Modified;
                                rpoContext.SaveChanges();
                            }
                        }
                        else if (item.Field.FieldName == "txtWorkCompleted1")
                        {
                            if (updateJobDocumentField == null)
                            {
                                JobDocumentField JobDocumentField = new JobDocumentField
                                {
                                    IdJobDocument = idJobDocument,
                                    IdDocumentField = Convert.ToInt32(item.Id),
                                    Value = string.Empty,
                                    ActualValue = string.Empty
                                };
                                rpoContext.JobDocumentFields.Add(JobDocumentField);
                            }
                            else
                            {
                                updateJobDocumentField.Value = string.Empty;
                                updateJobDocumentField.ActualValue = string.Empty;
                                rpoContext.Entry(updateJobDocumentField).State = EntityState.Modified;
                                rpoContext.SaveChanges();
                            }
                        }
                        else if (item.Field.FieldName == "txtWorkCompleted2")
                        {
                            if (updateJobDocumentField == null)
                            {
                                JobDocumentField JobDocumentField = new JobDocumentField
                                {
                                    IdJobDocument = idJobDocument,
                                    IdDocumentField = Convert.ToInt32(item.Id),
                                    Value = string.Empty,
                                    ActualValue = string.Empty
                                };
                                rpoContext.JobDocumentFields.Add(JobDocumentField);
                            }
                            else
                            {
                                updateJobDocumentField.Value = string.Empty;
                                updateJobDocumentField.ActualValue = string.Empty;
                                rpoContext.Entry(updateJobDocumentField).State = EntityState.Modified;
                                rpoContext.SaveChanges();
                            }
                        }
                        else if (item.Field.FieldName == "txtLast")
                        {
                            if (updateJobDocumentField == null)
                            {
                                JobDocumentField JobDocumentField = new JobDocumentField
                                {
                                    IdJobDocument = idJobDocument,
                                    IdDocumentField = Convert.ToInt32(item.Id),
                                    Value = lastName,
                                    ActualValue = lastName
                                };
                                rpoContext.JobDocumentFields.Add(JobDocumentField);
                            }
                            else
                            {
                                updateJobDocumentField.Value = lastName;
                                updateJobDocumentField.ActualValue = lastName;
                                rpoContext.Entry(updateJobDocumentField).State = EntityState.Modified;
                                rpoContext.SaveChanges();
                            }
                        }
                        else if (item.Field.FieldName == "txtFirst")
                        {
                            if (updateJobDocumentField == null)
                            {
                                JobDocumentField JobDocumentField = new JobDocumentField
                                {
                                    IdJobDocument = idJobDocument,
                                    IdDocumentField = Convert.ToInt32(item.Id),
                                    Value = firstName,
                                    ActualValue = firstName
                                };
                                rpoContext.JobDocumentFields.Add(JobDocumentField);
                            }
                            else
                            {
                                updateJobDocumentField.Value = firstName;
                                updateJobDocumentField.ActualValue = firstName;
                                rpoContext.Entry(updateJobDocumentField).State = EntityState.Modified;
                                rpoContext.SaveChanges();
                            }
                        }
                        else if (item.Field.FieldName == "txtMI")
                        {
                            if (updateJobDocumentField == null)
                            {
                                JobDocumentField JobDocumentField = new JobDocumentField
                                {
                                    IdJobDocument = idJobDocument,
                                    IdDocumentField = Convert.ToInt32(item.Id),
                                    Value = middName,
                                    ActualValue = middName
                                };
                                rpoContext.JobDocumentFields.Add(JobDocumentField);
                            }
                            else
                            {
                                updateJobDocumentField.Value = middName;
                                updateJobDocumentField.ActualValue = middName;
                                rpoContext.Entry(updateJobDocumentField).State = EntityState.Modified;
                                rpoContext.SaveChanges();
                            }
                        }
                        else if (item.Field.FieldName == "txtCompany")
                        {
                            if (updateJobDocumentField == null)
                            {
                                JobDocumentField JobDocumentField = new JobDocumentField
                                {
                                    IdJobDocument = idJobDocument,
                                    IdDocumentField = Convert.ToInt32(item.Id),
                                    Value = businessCompanyName,
                                    ActualValue = businessCompanyName
                                };
                                rpoContext.JobDocumentFields.Add(JobDocumentField);
                            }
                            else
                            {
                                updateJobDocumentField.Value = businessCompanyName;
                                updateJobDocumentField.ActualValue = businessCompanyName;
                                rpoContext.Entry(updateJobDocumentField).State = EntityState.Modified;
                                rpoContext.SaveChanges();
                            }
                        }
                        else if (item.Field.FieldName == "txtPhone")
                        {
                            if (updateJobDocumentField == null)
                            {
                                JobDocumentField JobDocumentField = new JobDocumentField
                                {
                                    IdJobDocument = idJobDocument,
                                    IdDocumentField = Convert.ToInt32(item.Id),
                                    Value = businessPhone,
                                    ActualValue = businessPhone
                                };
                                rpoContext.JobDocumentFields.Add(JobDocumentField);
                            }
                            else
                            {
                                updateJobDocumentField.Value = businessPhone;
                                updateJobDocumentField.ActualValue = businessPhone;
                                rpoContext.Entry(updateJobDocumentField).State = EntityState.Modified;
                                rpoContext.SaveChanges();
                            }
                        }
                        else if (item.Field.FieldName == "txtAddress")
                        {
                            if (updateJobDocumentField == null)
                            {
                                JobDocumentField JobDocumentField = new JobDocumentField
                                {
                                    IdJobDocument = idJobDocument,
                                    IdDocumentField = Convert.ToInt32(item.Id),
                                    Value = businessAddress,
                                    ActualValue = businessAddress
                                };
                                rpoContext.JobDocumentFields.Add(JobDocumentField);
                            }
                            else
                            {
                                updateJobDocumentField.Value = businessAddress;
                                updateJobDocumentField.ActualValue = businessAddress;
                                rpoContext.Entry(updateJobDocumentField).State = EntityState.Modified;
                                rpoContext.SaveChanges();
                            }
                        }
                        else if (item.Field.FieldName == "txtCity")
                        {
                            if (updateJobDocumentField == null)
                            {
                                JobDocumentField JobDocumentField = new JobDocumentField
                                {
                                    IdJobDocument = idJobDocument,
                                    IdDocumentField = Convert.ToInt32(item.Id),
                                    Value = businessCity,
                                    ActualValue = businessCity
                                };
                                rpoContext.JobDocumentFields.Add(JobDocumentField);
                            }
                            else
                            {
                                updateJobDocumentField.Value = businessCity;
                                updateJobDocumentField.ActualValue = businessCity;
                                rpoContext.Entry(updateJobDocumentField).State = EntityState.Modified;
                                rpoContext.SaveChanges();
                            }
                        }
                        else if (item.Field.FieldName == "txtState")
                        {
                            if (updateJobDocumentField == null)
                            {
                                JobDocumentField JobDocumentField = new JobDocumentField
                                {
                                    IdJobDocument = idJobDocument,
                                    IdDocumentField = Convert.ToInt32(item.Id),
                                    Value = businessState,
                                    ActualValue = businessState
                                };
                                rpoContext.JobDocumentFields.Add(JobDocumentField);
                            }
                            else
                            {
                                updateJobDocumentField.Value = businessState;
                                updateJobDocumentField.ActualValue = businessState;
                                rpoContext.Entry(updateJobDocumentField).State = EntityState.Modified;
                                rpoContext.SaveChanges();
                            }
                        }
                        else if (item.Field.FieldName == "txtZip")
                        {
                            if (updateJobDocumentField == null)
                            {
                                JobDocumentField JobDocumentField = new JobDocumentField
                                {
                                    IdJobDocument = idJobDocument,
                                    IdDocumentField = Convert.ToInt32(item.Id),
                                    Value = businessZip,
                                    ActualValue = businessZip
                                };
                                rpoContext.JobDocumentFields.Add(JobDocumentField);
                            }
                            else
                            {
                                updateJobDocumentField.Value = businessZip;
                                updateJobDocumentField.ActualValue = businessZip;
                                rpoContext.Entry(updateJobDocumentField).State = EntityState.Modified;
                                rpoContext.SaveChanges();
                            }
                        }
                        else if (item.Field.FieldName == "box1_applicant")
                        {
                            if (updateJobDocumentField == null)
                            {
                                JobDocumentField JobDocumentField = new JobDocumentField
                                {
                                    IdJobDocument = idJobDocument,
                                    IdDocumentField = Convert.ToInt32(item.Id),
                                    Value = engineerLicenseType,
                                    ActualValue = engineerLicenseType
                                };
                                rpoContext.JobDocumentFields.Add(JobDocumentField);
                            }
                            else
                            {
                                updateJobDocumentField.Value = engineerLicenseType;
                                updateJobDocumentField.ActualValue = engineerLicenseType;
                                rpoContext.Entry(updateJobDocumentField).State = EntityState.Modified;
                                rpoContext.SaveChanges();
                            }
                        }
                        else if (item.Field.FieldName == "chkRA")
                        {
                            if (updateJobDocumentField == null)
                            {
                                JobDocumentField JobDocumentField = new JobDocumentField
                                {
                                    IdJobDocument = idJobDocument,
                                    IdDocumentField = Convert.ToInt32(item.Id),
                                    Value = architectLicenseType,
                                    ActualValue = architectLicenseType
                                };
                                rpoContext.JobDocumentFields.Add(JobDocumentField);
                            }
                            else
                            {
                                updateJobDocumentField.Value = architectLicenseType;
                                updateJobDocumentField.ActualValue = architectLicenseType;
                                rpoContext.Entry(updateJobDocumentField).State = EntityState.Modified;
                                rpoContext.SaveChanges();
                            }
                        }
                        else if (item.Field.FieldName == "chkOT")
                        {
                            if (updateJobDocumentField == null)
                            {
                                JobDocumentField JobDocumentField = new JobDocumentField
                                {
                                    IdJobDocument = idJobDocument,
                                    IdDocumentField = Convert.ToInt32(item.Id),
                                    Value = string.Empty,
                                    ActualValue = string.Empty
                                };
                                rpoContext.JobDocumentFields.Add(JobDocumentField);
                            }
                            else
                            {
                                updateJobDocumentField.Value = string.Empty;
                                updateJobDocumentField.ActualValue = string.Empty;
                                rpoContext.Entry(updateJobDocumentField).State = EntityState.Modified;
                                rpoContext.SaveChanges();
                            }
                        }
                        else if (item.Field.FieldName == "txtOtherLic_Type")
                        {
                            if (updateJobDocumentField == null)
                            {
                                JobDocumentField JobDocumentField = new JobDocumentField
                                {
                                    IdJobDocument = idJobDocument,
                                    IdDocumentField = Convert.ToInt32(item.Id),
                                    Value = string.Empty,
                                    ActualValue = string.Empty
                                };
                                rpoContext.JobDocumentFields.Add(JobDocumentField);
                            }
                            else
                            {
                                updateJobDocumentField.Value = string.Empty;
                                updateJobDocumentField.ActualValue = string.Empty;
                                rpoContext.Entry(updateJobDocumentField).State = EntityState.Modified;
                                rpoContext.SaveChanges();
                            }
                        }
                        else if (item.Field.FieldName == "lic_nbr_applicant")
                        {
                            if (updateJobDocumentField == null)
                            {
                                JobDocumentField JobDocumentField = new JobDocumentField
                                {
                                    IdJobDocument = idJobDocument,
                                    IdDocumentField = Convert.ToInt32(item.Id),
                                    Value = licenseNumber,
                                    ActualValue = licenseNumber
                                };
                                rpoContext.JobDocumentFields.Add(JobDocumentField);
                            }
                            else
                            {
                                updateJobDocumentField.Value = licenseNumber;
                                updateJobDocumentField.ActualValue = licenseNumber;
                                rpoContext.Entry(updateJobDocumentField).State = EntityState.Modified;
                                rpoContext.SaveChanges();
                            }
                        }
                        else if (item.Field.FieldName == "txtDate")
                        {
                            //DateTime time = DateTime.Now;
                            //string format = "MM/dd/yy";
                            if (updateJobDocumentField == null)
                            {
                                JobDocumentField JobDocumentField = new JobDocumentField
                                {
                                    IdJobDocument = idJobDocument,
                                    IdDocumentField = Convert.ToInt32(item.Id),
                                    Value = string.Empty,
                                    ActualValue = string.Empty
                                };
                                rpoContext.JobDocumentFields.Add(JobDocumentField);
                            }
                            else
                            {
                                updateJobDocumentField.Value = string.Empty;
                                updateJobDocumentField.ActualValue = string.Empty;
                                rpoContext.Entry(updateJobDocumentField).State = EntityState.Modified;
                                rpoContext.SaveChanges();
                            }
                        }

                        else if (item.Field.FieldName == "txtViolation")
                        {

                            if (updateJobDocumentField == null)
                            {
                                JobDocumentField JobDocumentField = new JobDocumentField
                                {
                                    IdJobDocument = idJobDocument,
                                    IdDocumentField = Convert.ToInt32(item.Id),
                                    Value = strViolationNumber,
                                    ActualValue = strViolationNumber
                                };
                                rpoContext.JobDocumentFields.Add(JobDocumentField);
                            }
                            else
                            {
                                updateJobDocumentField.Value = strViolationNumber;
                                updateJobDocumentField.ActualValue = strViolationNumber;
                                rpoContext.Entry(updateJobDocumentField).State = EntityState.Modified;
                                rpoContext.SaveChanges();
                            }
                        }


                        rpoContext.SaveChanges();
                    }
                    else
                    {
                        if (item.Field.FieldName == "txtName4")
                        {

                            if (docuementType.ToLower() == ("Reduction Request").ToLower())
                            {
                                int Certifierid = Convert.ToInt32(frontendFields.Value);
                                JobContact jobContact = rpoContext.JobContacts.Where(x => x.Id == Certifierid).FirstOrDefault();

                                lastName = jobContact != null && jobContact.Contact != null ? jobContact.Contact.LastName : string.Empty;
                                firstName = jobContact != null && jobContact.Contact != null ? jobContact.Contact.FirstName : string.Empty;
                                middName = jobContact != null && jobContact.Contact != null ? jobContact.Contact.MiddleName : string.Empty;

                                fullName = jobContact != null && jobContact.Contact != null ? jobContact.Contact.FirstName + " " + jobContact.Contact.LastName : string.Empty;

                                Address compnayAddress = Common.GetContactAddressForJobDocument(jobContact);
                                businessCompanyName = jobContact != null && jobContact.Company != null ? jobContact.Company.Name : string.Empty;
                                businessPhone = Common.GetContactPhoneNumberForJobDocument(jobContact);
                                businessAddress = compnayAddress != null ? compnayAddress.Address1 + " " + compnayAddress.Address2 : string.Empty;
                                businessFax = string.Empty;
                                businessCity = compnayAddress != null ? compnayAddress.City : string.Empty;
                                businessState = compnayAddress != null && compnayAddress.State != null ? compnayAddress.State.Acronym : string.Empty;
                                businessZip = compnayAddress != null ? compnayAddress.ZipCode : string.Empty;
                                contactMobilePhone = jobContact != null && jobContact.Contact != null ? jobContact.Contact.MobilePhone : string.Empty;
                                contactEmail = jobContact != null ? jobContact.Contact.Email : string.Empty;

                                string licenceTypeNumber = jobContact != null && jobContact.Contact != null && jobContact.Contact.ContactLicenses != null && jobContact.Contact.ContactLicenses.Count > 0 ?
                                jobContact.Contact.ContactLicenses.Select(x => x.Number).FirstOrDefault() : string.Empty;

                                documentDescription = documentDescription + (!string.IsNullOrEmpty(fullName) ? " | Applicant: " + fullName : string.Empty);
                                if (!string.IsNullOrEmpty(licenceTypeNumber))
                                {
                                    ContactLicense contactLicenseType = rpoContext.ContactLicenses.Where(a => a.Number == licenceTypeNumber).FirstOrDefault();
                                    ContactLicenseType LicenseType = rpoContext.ContactLicenseTypes.Where(b => b.Id == contactLicenseType.IdContactLicenseType).FirstOrDefault();
                                    if (LicenseType.Name.ToLower() == ("Engineer").ToLower())
                                    {
                                        engineerLicenseType = "pe";
                                        licenseNumber = licenceTypeNumber;
                                    }
                                    else if (LicenseType.Name.ToLower() == ("Architect").ToLower())
                                    {
                                        architectLicenseType = "ra";
                                        licenseNumber = licenceTypeNumber;
                                    }
                                }
                                else
                                {
                                    licenceTypeNumber = jobContact != null && jobContact.Contact != null && jobContact.Contact.ContactLicenses != null && jobContact.Contact.ContactLicenses.Count > 0 ?
                                    jobContact.Contact.ContactLicenses.Select(x => x.ContactLicenseType.Name).FirstOrDefault() : string.Empty;
                                    if (licenceTypeNumber.ToLower() == ("Engineer").ToLower())
                                    {
                                        engineerLicenseType = "pe";
                                    }
                                    else if (licenceTypeNumber.ToLower() == ("Architect").ToLower())
                                    {
                                        architectLicenseType = "ra";
                                    }
                                }
                                applicationNumber2 = applicationNumber;
                                violation4 = strViolationNumber;
                            }
                            if (updateJobDocumentField == null)
                            {
                                JobDocumentField JobDocumentField = new JobDocumentField
                                {
                                    IdJobDocument = idJobDocument,
                                    IdDocumentField = Convert.ToInt32(item.Id),
                                    Value = frontendFields.Value,
                                    ActualValue = fullName
                                };
                                rpoContext.JobDocumentFields.Add(JobDocumentField);
                                rpoContext.SaveChanges();
                            }
                            else
                            {
                                updateJobDocumentField.Value = frontendFields.Value;
                                updateJobDocumentField.ActualValue = fullName;
                                rpoContext.Entry(updateJobDocumentField).State = EntityState.Modified;
                                rpoContext.SaveChanges();
                            }
                        }
                        else if (item.Field.FieldName == "txtJob")
                        {
                            int Certifierid = Convert.ToInt32(frontendFields.Value);
                            JobApplication jobApplication = rpoContext.JobApplications.Where(x => x.Id == Certifierid).FirstOrDefault();

                            //Address ownerAddress = job != null && job.RfpAddress != null && job.RfpAddress.OwnerContact != null && job.RfpAddress.OwnerContact.Addresses != null && job.RfpAddress.OwnerContact.Addresses != null ? job.RfpAddress.OwnerContact.Addresses.FirstOrDefault(x => x.IsMainAddress == true) : null;
                            //ownerrfpAddress = ownerAddress != null ? ownerAddress.Address1 + " " + ownerAddress.Address2 : string.Empty;
                            //ownerCity = ownerAddress != null ? ownerAddress.City + " " + ownerAddress.State.Acronym : string.Empty;
                            //ownerZipCode = ownerAddress != null ? ownerAddress.ZipCode : string.Empty;
                            Contact contact = job.RfpAddress.OwnerContact;
                            Address jobcompanyAddress = Common.GetContactAddressForJobDocument(contact);


                            ownerrfpAddress = jobcompanyAddress != null ? jobcompanyAddress.Address1 + " " + jobcompanyAddress.Address2 : string.Empty;
                            ownerCity = jobcompanyAddress != null ? jobcompanyAddress.City + " " + jobcompanyAddress.State.Acronym : string.Empty;
                            ownerZipCode = jobcompanyAddress != null ? jobcompanyAddress.ZipCode : string.Empty;



                            applicationNumber = (jobApplication != null) ? jobApplication.ApplicationNumber : string.Empty;
                            documentDescription = documentDescription + (!string.IsNullOrEmpty(applicationNumber) ? "Application: " + applicationNumber : string.Empty);

                            floorWorkingOn = jobApplication != null ? jobApplication.FloorWorking : string.Empty;
                            if (updateJobDocumentField == null)
                            {
                                JobDocumentField JobDocumentField = new JobDocumentField
                                {
                                    IdJobDocument = idJobDocument,
                                    IdDocumentField = frontendFields.IdDocumentField,
                                    Value = frontendFields.Value,
                                    ActualValue = applicationNumber
                                };
                                rpoContext.JobDocumentFields.Add(JobDocumentField);
                                rpoContext.SaveChanges();
                            }
                            else
                            {
                                updateJobDocumentField.Value = frontendFields.Value;
                                updateJobDocumentField.ActualValue = applicationNumber;
                                rpoContext.Entry(updateJobDocumentField).State = EntityState.Modified;
                                rpoContext.SaveChanges();
                            }
                        }
                        else if (item.Field.FieldName == "txtType")
                        {
                            int jobDocumentTypeId = Convert.ToInt32(frontendFields.Value);
                            JobDocumentType jobDocumentType = rpoContext.JobDocumentTypes.FirstOrDefault(x => x.Id == jobDocumentTypeId);

                            docuementType = jobDocumentType != null ? jobDocumentType.Type : string.Empty;
                            if (docuementType.ToLower() == ("Override Request").ToLower())
                            {
                                overrideRequest = "Yes";
                            }
                            //else if (docuementType.ToLower() == ("Reduction Request").ToLower())
                            //{
                            //    reductionRequest = string.Empty;
                            //}
                            //else if (docuementType.ToLower() == ("Stop Work Order").ToLower())
                            //{
                            //    stopWorkOrder = string.Empty;
                            //}
                            //else if (docuementType.ToLower() == ("Waiver Request").ToLower())
                            //{
                            //    waiverRequest = string.Empty;
                            //}
                            documentDescription = documentDescription + (!string.IsNullOrEmpty(docuementType) ? "| Type: " + docuementType : string.Empty);
                            if (updateJobDocumentField == null)
                            {
                                JobDocumentField JobDocumentField = new JobDocumentField
                                {
                                    IdJobDocument = idJobDocument,
                                    IdDocumentField = Convert.ToInt32(item.Id),
                                    Value = frontendFields.Value,
                                    ActualValue = docuementType
                                };
                                rpoContext.JobDocumentFields.Add(JobDocumentField);
                            }
                            else
                            {
                                updateJobDocumentField.Value = frontendFields.Value;
                                updateJobDocumentField.ActualValue = docuementType;
                                rpoContext.Entry(updateJobDocumentField).State = EntityState.Modified;
                                rpoContext.SaveChanges();
                            }
                        }
                        else if (item.Field.FieldName == "txtViolation")
                        {

                            string summonsIds = Convert.ToString(frontendFields.Value);
                            //    List<int> summonTypesLst = !string.IsNullOrEmpty(summonsIds) ? (summonsIds.Split(',') != null && summonsIds.Split(',').Any() ? summonsIds.Split(',').Select(x => int.Parse(x)).ToList() : new List<int>()) : new List<int>();

                            //    var jobviolationType = rpoContext.JobViolations
                            //                                                //   .Include("JobWorkType")
                            //                                                .Where(x => summonTypesLst.Contains(x.Id)).ToList();

                            //var    jobviolationTypearr = jobviolationType.Select(x => x.SummonsNumber).ToArray();
                            //    strViolationNumber = jobviolationTypearr != null ? String.Join(",", Array.ConvertAll(jobviolationTypearr, x => x.ToString())) : string.Empty;


                            strViolationNumber = frontendFields.Value;

                            documentDescription = (documentDescription) + (!string.IsNullOrEmpty(strViolationNumber) ? " | Violation #: " + strViolationNumber : string.Empty);


                            if (updateJobDocumentField == null)
                            {
                                JobDocumentField JobDocumentField = new JobDocumentField
                                {
                                    IdJobDocument = idJobDocument,
                                    IdDocumentField = frontendFields.IdDocumentField,
                                    Value = frontendFields.Value,
                                    ActualValue = frontendFields.Value
                                };
                                rpoContext.JobDocumentFields.Add(JobDocumentField);
                                rpoContext.SaveChanges();
                            }
                            else
                            {
                                updateJobDocumentField.Value = frontendFields.Value;
                                updateJobDocumentField.ActualValue = frontendFields.Value;
                                rpoContext.Entry(updateJobDocumentField).State = EntityState.Modified;
                                rpoContext.SaveChanges();
                            }
                        }
                        else if (item.Field.FieldName == "Description")
                        {
                            documentDescription = documentDescription + (!string.IsNullOrEmpty(documentDescription) && !string.IsNullOrEmpty(documentDescription) ? " | " : string.Empty) + (!string.IsNullOrEmpty(documentDescription) ? "Optional Additional Description: " + frontendFields.Value : string.Empty);
                            if (updateJobDocumentField == null)
                            {
                                JobDocumentField JobDocumentField = new JobDocumentField
                                {
                                    IdJobDocument = idJobDocument,
                                    IdDocumentField = frontendFields.IdDocumentField,
                                    Value = frontendFields.Value,
                                    ActualValue = frontendFields.Value
                                };
                                rpoContext.JobDocumentFields.Add(JobDocumentField);
                                rpoContext.SaveChanges();
                            }
                            else
                            {
                                updateJobDocumentField.Value = frontendFields.Value;
                                updateJobDocumentField.ActualValue = frontendFields.Value;
                                rpoContext.Entry(updateJobDocumentField).State = EntityState.Modified;
                                rpoContext.SaveChanges();
                            }
                        }
                        else
                        {
                            if (updateJobDocumentField == null)
                            {
                                JobDocumentField JobDocumentField = new JobDocumentField
                                {
                                    IdJobDocument = idJobDocument,
                                    IdDocumentField = frontendFields.IdDocumentField,
                                    Value = frontendFields.Value,
                                    ActualValue = frontendFields.Value

                                };
                                rpoContext.JobDocumentFields.Add(JobDocumentField);
                                rpoContext.SaveChanges();
                            }
                            else
                            {
                                updateJobDocumentField.Value = frontendFields.Value;
                                updateJobDocumentField.ActualValue = frontendFields.Value;
                                rpoContext.Entry(updateJobDocumentField).State = EntityState.Modified;
                                rpoContext.SaveChanges();
                            }
                        }
                    }
                }
            }
            jobDocument.DocumentDescription = documentDescription;
            jobDocument.JobDocumentFor = jobDocumentFor;
            rpoContext.SaveChanges();
            GenerateJobDocument(idJobDocument);
        }
        public static void EditL2RequestForWorkPermitSWOCivilPenaltyOverrideReductionWaiverRequest_new(int idJobDocument, JobDocumentCreateOrUpdateDTO jobDocumentCreateOrUpdateDTO)
        {
            RpoContext rpoContext = new RpoContext();
            var documentFieldList = rpoContext.DocumentFields.Include("Field").Where(x => x.IdDocument == jobDocumentCreateOrUpdateDTO.IdDocument).OrderByDescending(x => x.Field.IsDisplayInFrontend).ThenBy(x => x.DisplayOrder).ToList();
            List<IdItemName> FieldsValue = new List<IdItemName>();
            List<string> pdfFields = new List<string>();
            List<int> DocumentFieldsIds = new List<int>();

            JobDocument jobDocument = rpoContext.JobDocuments.FirstOrDefault(x => x.Id == idJobDocument);
            string documentDescription = string.Empty;
            string jobDocumentFor = string.Empty;
            if (documentFieldList != null && documentFieldList.Count > 0)
            {
                Job job = rpoContext.Jobs.Include("ProjectManager").
                    Include("Contact.ContactTitle").
                    Include("RfpAddress.Borough").
                    Include("Company.Addresses.AddressType").
                    Include("Company.Addresses.State")
                    .Where(x => x.Id == jobDocumentCreateOrUpdateDTO.IdJob).FirstOrDefault();

                string businessCompanyName = string.Empty;
                string businessPhone = string.Empty;
                string businessAddress = string.Empty;
                string businessFax = string.Empty;
                string businessCity = string.Empty;
                string businessState = string.Empty;
                string businessZip = string.Empty;
                string contactMobilePhone = string.Empty;
                string contactEmail = string.Empty;
                string floorWorkingOn = string.Empty;
                string licenseNumber = string.Empty;
                string lastName = string.Empty;
                string firstName = string.Empty;
                string middName = string.Empty;
                string fullName = string.Empty;


                string ownerrfpAddress = string.Empty;
                string ownerCity = string.Empty;
                string ownerZipCode = string.Empty;
                string applicationNumber = string.Empty;

                string overrideRequest = string.Empty;
                string reductionRequest = string.Empty;
                string stopWorkOrder = string.Empty;
                string waiverRequest = string.Empty;
                string docuementType = string.Empty;
                string engineerLicenseType = string.Empty;
                string architectLicenseType = string.Empty;
                string applicationNumber2 = string.Empty;
                string violation4 = string.Empty;
                string jobViolation = string.Empty;
                string strViolationNumber = string.Empty;
                var jobDocumentFieldList = rpoContext.JobDocumentFields.Where(x => x.IdJobDocument == idJobDocument).ToList();
                foreach (DocumentField item in documentFieldList)
                {
                    JobDocumentField updateJobDocumentField = jobDocumentFieldList.FirstOrDefault(x => x.IdDocumentField == item.Id);
                    var frontendFields = jobDocumentCreateOrUpdateDTO.JobDocumentFields.FirstOrDefault(x => x.IdDocumentField == item.Id);
                    if (frontendFields == null)
                    {
                        if (item.Field.FieldName == "JobFileInfo")
                        {
                            string jobFileInfo = job != null ? job.JobNumber + " - L2-79681.pdf" : string.Empty;
                            if (updateJobDocumentField == null)
                            {
                                JobDocumentField JobDocumentField = new JobDocumentField
                                {
                                    IdJobDocument = idJobDocument,
                                    IdDocumentField = Convert.ToInt32(item.Id),
                                    Value = jobFileInfo,
                                    ActualValue = jobFileInfo
                                };
                                rpoContext.JobDocumentFields.Add(JobDocumentField);
                            }
                            else
                            {
                                string pdffield = rpoContext.DocumentFields.Where(x => x.IdField == item.IdField).Select(x => x.PdfFields).FirstOrDefault();
                                pdfFields.Add(pdffield);
                                updateJobDocumentField.Value = jobFileInfo;
                                updateJobDocumentField.ActualValue = jobFileInfo;
                                rpoContext.Entry(updateJobDocumentField).State = EntityState.Modified;
                                FieldsValue.Add(new IdItemName
                                {
                                    Id = pdffield,
                                    ItemName = updateJobDocumentField.ActualValue
                                });
                                rpoContext.SaveChanges();
                            }
                        }

                        else if (item.Field.FieldName == "chkNRV")
                        {
                            if (updateJobDocumentField == null)
                            {
                                JobDocumentField JobDocumentField = new JobDocumentField
                                {
                                    IdJobDocument = idJobDocument,
                                    IdDocumentField = Convert.ToInt32(item.Id),
                                    Value = overrideRequest,
                                    ActualValue = overrideRequest
                                };
                                rpoContext.JobDocumentFields.Add(JobDocumentField);
                            }
                            else
                            {
                                string pdffield = rpoContext.DocumentFields.Where(x => x.IdField == item.IdField).Select(x => x.PdfFields).FirstOrDefault();
                                pdfFields.Add(pdffield);
                                updateJobDocumentField.Value = overrideRequest;
                                updateJobDocumentField.ActualValue = overrideRequest;
                                rpoContext.Entry(updateJobDocumentField).State = EntityState.Modified;
                                FieldsValue.Add(new IdItemName
                                {
                                    Id = pdffield,
                                    ItemName = updateJobDocumentField.ActualValue
                                });
                                rpoContext.SaveChanges();
                            }
                        }
                        else if (item.Field.FieldName == "chkREDT")
                        {
                            if (updateJobDocumentField == null)
                            {
                                JobDocumentField JobDocumentField = new JobDocumentField
                                {
                                    IdJobDocument = idJobDocument,
                                    IdDocumentField = Convert.ToInt32(item.Id),
                                    Value = reductionRequest,
                                    ActualValue = reductionRequest
                                };
                                rpoContext.JobDocumentFields.Add(JobDocumentField);
                            }
                            else
                            {
                                string pdffield = rpoContext.DocumentFields.Where(x => x.IdField == item.IdField).Select(x => x.PdfFields).FirstOrDefault();
                                pdfFields.Add(pdffield);
                                updateJobDocumentField.Value = reductionRequest;
                                updateJobDocumentField.ActualValue = reductionRequest;
                                rpoContext.Entry(updateJobDocumentField).State = EntityState.Modified;
                                FieldsValue.Add(new IdItemName
                                {
                                    Id = pdffield,
                                    ItemName = updateJobDocumentField.ActualValue
                                });
                                rpoContext.SaveChanges();
                            }
                        }
                        else if (item.Field.FieldName == "chkLEG")
                        {
                            if (updateJobDocumentField == null)
                            {
                                JobDocumentField JobDocumentField = new JobDocumentField
                                {
                                    IdJobDocument = idJobDocument,
                                    IdDocumentField = Convert.ToInt32(item.Id),
                                    Value = reductionRequest,
                                    ActualValue = reductionRequest
                                };
                                rpoContext.JobDocumentFields.Add(JobDocumentField);
                            }
                            else
                            {
                                string pdffield = rpoContext.DocumentFields.Where(x => x.IdField == item.IdField).Select(x => x.PdfFields).FirstOrDefault();
                                pdfFields.Add(pdffield);
                                updateJobDocumentField.Value = reductionRequest;
                                updateJobDocumentField.ActualValue = reductionRequest;
                                rpoContext.Entry(updateJobDocumentField).State = EntityState.Modified;
                                FieldsValue.Add(new IdItemName
                                {
                                    Id = pdffield,
                                    ItemName = updateJobDocumentField.ActualValue
                                });
                                rpoContext.SaveChanges();
                            }
                        }

                        else if (item.Field.FieldName == "txtHouseNo")
                        {
                            string houseNo = job != null && job.RfpAddress != null ? job.RfpAddress.HouseNumber : string.Empty;
                            if (updateJobDocumentField == null)
                            {
                                JobDocumentField JobDocumentField = new JobDocumentField
                                {
                                    IdJobDocument = idJobDocument,
                                    IdDocumentField = Convert.ToInt32(item.Id),
                                    Value = houseNo,
                                    ActualValue = houseNo
                                };
                                rpoContext.JobDocumentFields.Add(JobDocumentField);
                            }
                            else
                            {
                                string pdffield = rpoContext.DocumentFields.Where(x => x.IdField == item.IdField).Select(x => x.PdfFields).FirstOrDefault();
                                pdfFields.Add(pdffield);
                                updateJobDocumentField.Value = houseNo;
                                updateJobDocumentField.ActualValue = houseNo;
                                rpoContext.Entry(updateJobDocumentField).State = EntityState.Modified;
                                FieldsValue.Add(new IdItemName
                                {
                                    Id = pdffield,
                                    ItemName = updateJobDocumentField.ActualValue
                                });
                                rpoContext.SaveChanges();
                            }
                        }
                        else if (item.Field.FieldName == "txtStreet")
                        {
                            string street = job != null && job.RfpAddress != null ? job.RfpAddress.Street : string.Empty;
                            if (updateJobDocumentField == null)
                            {
                                JobDocumentField JobDocumentField = new JobDocumentField
                                {
                                    IdJobDocument = idJobDocument,
                                    IdDocumentField = Convert.ToInt32(item.Id),
                                    Value = street,
                                    ActualValue = street
                                };
                                rpoContext.JobDocumentFields.Add(JobDocumentField);
                            }
                            else
                            {
                                string pdffield = rpoContext.DocumentFields.Where(x => x.IdField == item.IdField).Select(x => x.PdfFields).FirstOrDefault();
                                pdfFields.Add(pdffield);
                                updateJobDocumentField.Value = street;
                                updateJobDocumentField.ActualValue = street;
                                rpoContext.Entry(updateJobDocumentField).State = EntityState.Modified;
                                FieldsValue.Add(new IdItemName
                                {
                                    Id = pdffield,
                                    ItemName = updateJobDocumentField.ActualValue
                                });
                                rpoContext.SaveChanges();
                            }
                        }
                        else if (item.Field.FieldName == "txtBoro")
                        {
                            string borough = job != null && job.RfpAddress != null && job.RfpAddress.Borough != null ? job.RfpAddress.Borough.Description : string.Empty;
                            if (updateJobDocumentField == null)
                            {
                                JobDocumentField JobDocumentField = new JobDocumentField
                                {
                                    IdJobDocument = idJobDocument,
                                    IdDocumentField = Convert.ToInt32(item.Id),
                                    Value = borough,
                                    ActualValue = borough
                                };
                                rpoContext.JobDocumentFields.Add(JobDocumentField);
                            }
                            else
                            {
                                string pdffield = rpoContext.DocumentFields.Where(x => x.IdField == item.IdField).Select(x => x.PdfFields).FirstOrDefault();
                                pdfFields.Add(pdffield);
                                updateJobDocumentField.Value = borough;
                                updateJobDocumentField.ActualValue = borough;
                                rpoContext.Entry(updateJobDocumentField).State = EntityState.Modified;
                                FieldsValue.Add(new IdItemName
                                {
                                    Id = pdffield,
                                    ItemName = updateJobDocumentField.ActualValue
                                });
                                rpoContext.SaveChanges();
                            }
                        }
                        else if (item.Field.FieldName == "txtBlock")
                        {
                            string block = job != null && job.RfpAddress != null ? job.RfpAddress.Block : string.Empty;
                            if (updateJobDocumentField == null)
                            {
                                JobDocumentField JobDocumentField = new JobDocumentField
                                {
                                    IdJobDocument = idJobDocument,
                                    IdDocumentField = Convert.ToInt32(item.Id),
                                    Value = block,
                                    ActualValue = block
                                };
                                rpoContext.JobDocumentFields.Add(JobDocumentField);
                            }
                            else
                            {
                                string pdffield = rpoContext.DocumentFields.Where(x => x.IdField == item.IdField).Select(x => x.PdfFields).FirstOrDefault();
                                pdfFields.Add(pdffield);
                                updateJobDocumentField.Value = block;
                                updateJobDocumentField.ActualValue = block;
                                rpoContext.Entry(updateJobDocumentField).State = EntityState.Modified;
                                FieldsValue.Add(new IdItemName
                                {
                                    Id = pdffield,
                                    ItemName = updateJobDocumentField.ActualValue
                                });
                                rpoContext.SaveChanges();
                            }
                        }
                        else if (item.Field.FieldName == "txtLot")
                        {
                            string lot = job != null && job.RfpAddress != null ? job.RfpAddress.Lot : string.Empty;
                            if (updateJobDocumentField == null)
                            {
                                JobDocumentField JobDocumentField = new JobDocumentField
                                {
                                    IdJobDocument = idJobDocument,
                                    IdDocumentField = Convert.ToInt32(item.Id),
                                    Value = lot,
                                    ActualValue = lot
                                };
                                rpoContext.JobDocumentFields.Add(JobDocumentField);
                            }
                            else
                            {
                                string pdffield = rpoContext.DocumentFields.Where(x => x.IdField == item.IdField).Select(x => x.PdfFields).FirstOrDefault();
                                pdfFields.Add(pdffield);
                                updateJobDocumentField.Value = lot;
                                updateJobDocumentField.ActualValue = lot;
                                rpoContext.Entry(updateJobDocumentField).State = EntityState.Modified;
                                FieldsValue.Add(new IdItemName
                                {
                                    Id = pdffield,
                                    ItemName = updateJobDocumentField.ActualValue
                                });
                                rpoContext.SaveChanges();
                            }
                        }
                        else if (item.Field.FieldName == "txtBIN")
                        {
                            string binNumber = job != null && job.RfpAddress != null ? job.RfpAddress.BinNumber : string.Empty;
                            if (updateJobDocumentField == null)
                            {
                                JobDocumentField JobDocumentField = new JobDocumentField
                                {
                                    IdJobDocument = idJobDocument,
                                    IdDocumentField = Convert.ToInt32(item.Id),
                                    Value = binNumber,
                                    ActualValue = binNumber
                                };
                                rpoContext.JobDocumentFields.Add(JobDocumentField);
                            }
                            else
                            {
                                string pdffield = rpoContext.DocumentFields.Where(x => x.IdField == item.IdField).Select(x => x.PdfFields).FirstOrDefault();
                                pdfFields.Add(pdffield);
                                updateJobDocumentField.Value = binNumber;
                                updateJobDocumentField.ActualValue = binNumber;
                                rpoContext.Entry(updateJobDocumentField).State = EntityState.Modified;
                                FieldsValue.Add(new IdItemName
                                {
                                    Id = pdffield,
                                    ItemName = updateJobDocumentField.ActualValue
                                });
                                rpoContext.SaveChanges();
                            }
                        }
                        else if (item.Field.FieldName == "txtCB")
                        {
                            string comunityBoardNumber = job != null && job.RfpAddress != null ? job.RfpAddress.ComunityBoardNumber : string.Empty;
                            if (updateJobDocumentField == null)
                            {
                                JobDocumentField JobDocumentField = new JobDocumentField
                                {
                                    IdJobDocument = idJobDocument,
                                    IdDocumentField = Convert.ToInt32(item.Id),
                                    Value = comunityBoardNumber,
                                    ActualValue = comunityBoardNumber
                                };
                                rpoContext.JobDocumentFields.Add(JobDocumentField);
                            }
                            else
                            {
                                string pdffield = rpoContext.DocumentFields.Where(x => x.IdField == item.IdField).Select(x => x.PdfFields).FirstOrDefault();
                                pdfFields.Add(pdffield);
                                updateJobDocumentField.Value = comunityBoardNumber;
                                updateJobDocumentField.ActualValue = comunityBoardNumber;
                                rpoContext.Entry(updateJobDocumentField).State = EntityState.Modified;
                                FieldsValue.Add(new IdItemName
                                {
                                    Id = pdffield,
                                    ItemName = updateJobDocumentField.ActualValue
                                });
                                rpoContext.SaveChanges();
                            }
                        }
                        else if (item.Field.FieldName == "txtFloors")
                        {
                            //floorWorkingOn = string.Empty;
                            if (updateJobDocumentField == null)
                            {
                                JobDocumentField JobDocumentField = new JobDocumentField
                                {
                                    IdJobDocument = idJobDocument,
                                    IdDocumentField = Convert.ToInt32(item.Id),
                                    Value = floorWorkingOn,
                                    ActualValue = floorWorkingOn
                                };
                                rpoContext.JobDocumentFields.Add(JobDocumentField);
                            }
                            else
                            {
                                string pdffield = rpoContext.DocumentFields.Where(x => x.IdField == item.IdField).Select(x => x.PdfFields).FirstOrDefault();
                                pdfFields.Add(pdffield);
                                updateJobDocumentField.Value = floorWorkingOn;
                                updateJobDocumentField.ActualValue = floorWorkingOn;
                                rpoContext.Entry(updateJobDocumentField).State = EntityState.Modified;
                                FieldsValue.Add(new IdItemName
                                {
                                    Id = pdffield,
                                    ItemName = updateJobDocumentField.ActualValue
                                });
                                rpoContext.SaveChanges();
                            }
                        }
                        else if (item.Field.FieldName == "txtApt")
                        {
                            string aprt = job != null ? job.Apartment : string.Empty;
                            if (updateJobDocumentField == null)
                            {
                                JobDocumentField JobDocumentField = new JobDocumentField
                                {
                                    IdJobDocument = idJobDocument,
                                    IdDocumentField = Convert.ToInt32(item.Id),
                                    Value = aprt,
                                    ActualValue = aprt
                                };
                                rpoContext.JobDocumentFields.Add(JobDocumentField);
                            }
                            else
                            {
                                string pdffield = rpoContext.DocumentFields.Where(x => x.IdField == item.IdField).Select(x => x.PdfFields).FirstOrDefault();
                                pdfFields.Add(pdffield);
                                updateJobDocumentField.Value = aprt;
                                updateJobDocumentField.ActualValue = aprt;
                                rpoContext.Entry(updateJobDocumentField).State = EntityState.Modified;
                                FieldsValue.Add(new IdItemName
                                {
                                    Id = pdffield,
                                    ItemName = updateJobDocumentField.ActualValue
                                });
                                rpoContext.SaveChanges();
                            }
                        }
                        else if (item.Field.FieldName == "txtOwner_Last")
                        {
                            string ownerLastName = job != null && job.RfpAddress != null && job.RfpAddress.OwnerContact != null ? job.RfpAddress.OwnerContact.LastName : string.Empty;
                            if (updateJobDocumentField == null)
                            {
                                JobDocumentField JobDocumentField = new JobDocumentField
                                {
                                    IdJobDocument = idJobDocument,
                                    IdDocumentField = Convert.ToInt32(item.Id),
                                    Value = ownerLastName,
                                    ActualValue = ownerLastName
                                };
                                rpoContext.JobDocumentFields.Add(JobDocumentField);
                            }
                            else
                            {
                                string pdffield = rpoContext.DocumentFields.Where(x => x.IdField == item.IdField).Select(x => x.PdfFields).FirstOrDefault();
                                pdfFields.Add(pdffield);
                                updateJobDocumentField.Value = ownerLastName;
                                updateJobDocumentField.ActualValue = ownerLastName;
                                rpoContext.Entry(updateJobDocumentField).State = EntityState.Modified;
                                FieldsValue.Add(new IdItemName
                                {
                                    Id = pdffield,
                                    ItemName = updateJobDocumentField.ActualValue
                                });
                                rpoContext.SaveChanges();
                            }
                        }
                        else if (item.Field.FieldName == "txtOwner_First")
                        {
                            string ownerFirstName = job != null && job.RfpAddress != null && job.RfpAddress.OwnerContact != null ? job.RfpAddress.OwnerContact.FirstName : string.Empty;
                            if (updateJobDocumentField == null)
                            {
                                JobDocumentField JobDocumentField = new JobDocumentField
                                {
                                    IdJobDocument = idJobDocument,
                                    IdDocumentField = Convert.ToInt32(item.Id),
                                    Value = ownerFirstName,
                                    ActualValue = ownerFirstName
                                };
                                rpoContext.JobDocumentFields.Add(JobDocumentField);
                            }
                            else
                            {
                                string pdffield = rpoContext.DocumentFields.Where(x => x.IdField == item.IdField).Select(x => x.PdfFields).FirstOrDefault();
                                pdfFields.Add(pdffield);
                                updateJobDocumentField.Value = ownerFirstName;
                                updateJobDocumentField.ActualValue = ownerFirstName;
                                rpoContext.Entry(updateJobDocumentField).State = EntityState.Modified;
                                FieldsValue.Add(new IdItemName
                                {
                                    Id = pdffield,
                                    ItemName = updateJobDocumentField.ActualValue
                                });
                                rpoContext.SaveChanges();
                            }
                        }
                        else if (item.Field.FieldName == "txtOwner_MI")
                        {
                            string ownerMiddName = job != null && job.RfpAddress != null && job.RfpAddress.OwnerContact != null ? job.RfpAddress.OwnerContact.MiddleName : string.Empty;
                            if (updateJobDocumentField == null)
                            {
                                JobDocumentField JobDocumentField = new JobDocumentField
                                {
                                    IdJobDocument = idJobDocument,
                                    IdDocumentField = Convert.ToInt32(item.Id),
                                    Value = ownerMiddName,
                                    ActualValue = ownerMiddName
                                };
                                rpoContext.JobDocumentFields.Add(JobDocumentField);
                            }
                            else
                            {
                                string pdffield = rpoContext.DocumentFields.Where(x => x.IdField == item.IdField).Select(x => x.PdfFields).FirstOrDefault();
                                pdfFields.Add(pdffield);
                                updateJobDocumentField.Value = ownerMiddName;
                                updateJobDocumentField.ActualValue = ownerMiddName;
                                rpoContext.Entry(updateJobDocumentField).State = EntityState.Modified;
                                FieldsValue.Add(new IdItemName
                                {
                                    Id = pdffield,
                                    ItemName = updateJobDocumentField.ActualValue
                                });
                                rpoContext.SaveChanges();
                            }
                        }
                        else if (item.Field.FieldName == "txtOwner_Company")
                        {
                            string ownerCompanyName = job != null && job.RfpAddress != null && job.RfpAddress.OwnerContact != null && job.RfpAddress.OwnerContact.Company != null ? job.RfpAddress.OwnerContact.Company.Name : string.Empty;
                            if (updateJobDocumentField == null)
                            {
                                JobDocumentField JobDocumentField = new JobDocumentField
                                {
                                    IdJobDocument = idJobDocument,
                                    IdDocumentField = Convert.ToInt32(item.Id),
                                    Value = ownerCompanyName,
                                    ActualValue = ownerCompanyName
                                };
                                rpoContext.JobDocumentFields.Add(JobDocumentField);
                            }
                            else
                            {
                                string pdffield = rpoContext.DocumentFields.Where(x => x.IdField == item.IdField).Select(x => x.PdfFields).FirstOrDefault();
                                pdfFields.Add(pdffield);
                                updateJobDocumentField.Value = ownerCompanyName;
                                updateJobDocumentField.ActualValue = ownerCompanyName;
                                rpoContext.Entry(updateJobDocumentField).State = EntityState.Modified;
                                FieldsValue.Add(new IdItemName
                                {
                                    Id = pdffield,
                                    ItemName = updateJobDocumentField.ActualValue
                                });
                                rpoContext.SaveChanges();
                            }
                        }
                        else if (item.Field.FieldName == "txtOwner_Phone")
                        {
                            // string ownerWorkPhone = job != null && job.RfpAddress != null && job.RfpAddress.OwnerContact != null ? job.RfpAddress.OwnerContact.WorkPhone : string.Empty;
                            string ownerWorkPhone = job != null && job.RfpAddress != null && job.RfpAddress.OwnerContact != null ? job.RfpAddress.OwnerContact.WorkPhone : string.Empty;
                            if (ownerWorkPhone == null || ownerWorkPhone == "")
                            {
                                ownerWorkPhone = job != null && job.RfpAddress != null && job.RfpAddress.OwnerContact != null ? job.RfpAddress.OwnerContact.MobilePhone : string.Empty;
                            }
                            if (updateJobDocumentField == null)
                            {
                                JobDocumentField JobDocumentField = new JobDocumentField
                                {
                                    IdJobDocument = idJobDocument,
                                    IdDocumentField = Convert.ToInt32(item.Id),
                                    Value = ownerWorkPhone,
                                    ActualValue = ownerWorkPhone
                                };
                                rpoContext.JobDocumentFields.Add(JobDocumentField);
                            }
                            else
                            {
                                string pdffield = rpoContext.DocumentFields.Where(x => x.IdField == item.IdField).Select(x => x.PdfFields).FirstOrDefault();
                                pdfFields.Add(pdffield);
                                updateJobDocumentField.Value = ownerWorkPhone;
                                updateJobDocumentField.ActualValue = ownerWorkPhone;
                                rpoContext.Entry(updateJobDocumentField).State = EntityState.Modified;
                                FieldsValue.Add(new IdItemName
                                {
                                    Id = pdffield,
                                    ItemName = updateJobDocumentField.ActualValue
                                });
                                rpoContext.SaveChanges();
                            }
                        }
                        else if (item.Field.FieldName == "txtOwner_EMail")
                        {
                            string ownerEmail = job != null && job.RfpAddress != null && job.RfpAddress.OwnerContact != null ? job.RfpAddress.OwnerContact.Email : string.Empty;
                            if (updateJobDocumentField == null)
                            {
                                JobDocumentField JobDocumentField = new JobDocumentField
                                {
                                    IdJobDocument = idJobDocument,
                                    IdDocumentField = Convert.ToInt32(item.Id),
                                    Value = ownerEmail,
                                    ActualValue = ownerEmail
                                };
                                rpoContext.JobDocumentFields.Add(JobDocumentField);
                            }
                            else
                            {
                                string pdffield = rpoContext.DocumentFields.Where(x => x.IdField == item.IdField).Select(x => x.PdfFields).FirstOrDefault();
                                pdfFields.Add(pdffield);
                                updateJobDocumentField.Value = ownerEmail;
                                updateJobDocumentField.ActualValue = ownerEmail;
                                rpoContext.Entry(updateJobDocumentField).State = EntityState.Modified;
                                FieldsValue.Add(new IdItemName
                                {
                                    Id = pdffield,
                                    ItemName = updateJobDocumentField.ActualValue
                                });
                                rpoContext.SaveChanges();
                            }
                        }
                        else if (item.Field.FieldName == "txtOwner_Address")
                        {

                            if (updateJobDocumentField == null)
                            {
                                JobDocumentField JobDocumentField = new JobDocumentField
                                {
                                    IdJobDocument = idJobDocument,
                                    IdDocumentField = Convert.ToInt32(item.Id),
                                    Value = ownerrfpAddress,
                                    ActualValue = ownerrfpAddress
                                };
                                rpoContext.JobDocumentFields.Add(JobDocumentField);
                            }
                            else
                            {
                                string pdffield = rpoContext.DocumentFields.Where(x => x.IdField == item.IdField).Select(x => x.PdfFields).FirstOrDefault();
                                pdfFields.Add(pdffield);
                                updateJobDocumentField.Value = ownerrfpAddress;
                                updateJobDocumentField.ActualValue = ownerrfpAddress;
                                rpoContext.Entry(updateJobDocumentField).State = EntityState.Modified;
                                FieldsValue.Add(new IdItemName
                                {
                                    Id = pdffield,
                                    ItemName = updateJobDocumentField.ActualValue
                                });
                                rpoContext.SaveChanges();
                            }
                        }
                        else if (item.Field.FieldName == "txtOwner_CityState")
                        {
                            if (updateJobDocumentField == null)
                            {
                                JobDocumentField JobDocumentField = new JobDocumentField
                                {
                                    IdJobDocument = idJobDocument,
                                    IdDocumentField = Convert.ToInt32(item.Id),
                                    Value = ownerCity,
                                    ActualValue = ownerCity
                                };
                                rpoContext.JobDocumentFields.Add(JobDocumentField);
                            }
                            else
                            {
                                string pdffield = rpoContext.DocumentFields.Where(x => x.IdField == item.IdField).Select(x => x.PdfFields).FirstOrDefault();
                                pdfFields.Add(pdffield);
                                updateJobDocumentField.Value = ownerCity;
                                updateJobDocumentField.ActualValue = ownerCity;
                                rpoContext.Entry(updateJobDocumentField).State = EntityState.Modified;
                                FieldsValue.Add(new IdItemName
                                {
                                    Id = pdffield,
                                    ItemName = updateJobDocumentField.ActualValue
                                });
                                rpoContext.SaveChanges();
                            }
                        }
                        else if (item.Field.FieldName == "txtOwner_Zip")
                        {
                            if (updateJobDocumentField == null)
                            {
                                JobDocumentField JobDocumentField = new JobDocumentField
                                {
                                    IdJobDocument = idJobDocument,
                                    IdDocumentField = Convert.ToInt32(item.Id),
                                    Value = ownerZipCode,
                                    ActualValue = ownerZipCode
                                };
                                rpoContext.JobDocumentFields.Add(JobDocumentField);
                            }
                            else
                            {
                                string pdffield = rpoContext.DocumentFields.Where(x => x.IdField == item.IdField).Select(x => x.PdfFields).FirstOrDefault();
                                pdfFields.Add(pdffield);
                                updateJobDocumentField.Value = ownerZipCode;
                                updateJobDocumentField.ActualValue = ownerZipCode;
                                rpoContext.Entry(updateJobDocumentField).State = EntityState.Modified;
                                FieldsValue.Add(new IdItemName
                                {
                                    Id = pdffield,
                                    ItemName = updateJobDocumentField.ActualValue
                                });
                                rpoContext.SaveChanges();
                            }
                        }
                        else if (item.Field.FieldName == "txtName4")
                        {
                            if (updateJobDocumentField == null)
                            {
                                JobDocumentField JobDocumentField = new JobDocumentField
                                {
                                    IdJobDocument = idJobDocument,
                                    IdDocumentField = Convert.ToInt32(item.Id),
                                    Value = fullName,
                                    ActualValue = fullName
                                };
                                rpoContext.JobDocumentFields.Add(JobDocumentField);
                            }
                            else
                            {
                                string pdffield = rpoContext.DocumentFields.Where(x => x.IdField == item.IdField).Select(x => x.PdfFields).FirstOrDefault();
                                pdfFields.Add(pdffield);
                                updateJobDocumentField.Value = fullName;
                                updateJobDocumentField.ActualValue = fullName;
                                rpoContext.Entry(updateJobDocumentField).State = EntityState.Modified;
                                FieldsValue.Add(new IdItemName
                                {
                                    Id = pdffield,
                                    ItemName = updateJobDocumentField.ActualValue
                                });
                                rpoContext.SaveChanges();
                            }
                        }

                        else if (item.Field.FieldName == "txtJob_4")
                        {
                            if (updateJobDocumentField == null)
                            {
                                JobDocumentField JobDocumentField = new JobDocumentField
                                {
                                    IdJobDocument = idJobDocument,
                                    IdDocumentField = Convert.ToInt32(item.Id),
                                    Value = applicationNumber2,
                                    ActualValue = applicationNumber2
                                };
                                rpoContext.JobDocumentFields.Add(JobDocumentField);
                            }
                            else
                            {
                                string pdffield = rpoContext.DocumentFields.Where(x => x.IdField == item.IdField).Select(x => x.PdfFields).FirstOrDefault();
                                pdfFields.Add(pdffield);
                                updateJobDocumentField.Value = applicationNumber2;
                                updateJobDocumentField.ActualValue = applicationNumber2;
                                rpoContext.Entry(updateJobDocumentField).State = EntityState.Modified;
                                FieldsValue.Add(new IdItemName
                                {
                                    Id = pdffield,
                                    ItemName = updateJobDocumentField.ActualValue
                                });
                                rpoContext.SaveChanges();
                            }
                        }
                        else if (item.Field.FieldName == "txtViolation_4")
                        {
                            if (updateJobDocumentField == null)
                            {
                                JobDocumentField JobDocumentField = new JobDocumentField
                                {
                                    IdJobDocument = idJobDocument,
                                    IdDocumentField = Convert.ToInt32(item.Id),
                                    Value = violation4,
                                    ActualValue = violation4
                                };
                                rpoContext.JobDocumentFields.Add(JobDocumentField);
                            }
                            else
                            {
                                string pdffield = rpoContext.DocumentFields.Where(x => x.IdField == item.IdField).Select(x => x.PdfFields).FirstOrDefault();
                                pdfFields.Add(pdffield);
                                updateJobDocumentField.Value = violation4;
                                updateJobDocumentField.ActualValue = violation4;
                                rpoContext.Entry(updateJobDocumentField).State = EntityState.Modified;
                                FieldsValue.Add(new IdItemName
                                {
                                    Id = pdffield,
                                    ItemName = updateJobDocumentField.ActualValue
                                });
                                rpoContext.SaveChanges();
                            }
                        }


                        else if (item.Field.FieldName == "txtLast")
                        {
                            if (updateJobDocumentField == null)
                            {
                                JobDocumentField JobDocumentField = new JobDocumentField
                                {
                                    IdJobDocument = idJobDocument,
                                    IdDocumentField = Convert.ToInt32(item.Id),
                                    Value = lastName,
                                    ActualValue = lastName
                                };
                                rpoContext.JobDocumentFields.Add(JobDocumentField);
                            }
                            else
                            {
                                string pdffield = rpoContext.DocumentFields.Where(x => x.IdField == item.IdField).Select(x => x.PdfFields).FirstOrDefault();
                                pdfFields.Add(pdffield);
                                updateJobDocumentField.Value = lastName;
                                updateJobDocumentField.ActualValue = lastName;
                                rpoContext.Entry(updateJobDocumentField).State = EntityState.Modified;
                                FieldsValue.Add(new IdItemName
                                {
                                    Id = pdffield,
                                    ItemName = updateJobDocumentField.ActualValue
                                });
                                rpoContext.SaveChanges();
                            }
                        }
                        else if (item.Field.FieldName == "txtFirst")
                        {
                            if (updateJobDocumentField == null)
                            {
                                JobDocumentField JobDocumentField = new JobDocumentField
                                {
                                    IdJobDocument = idJobDocument,
                                    IdDocumentField = Convert.ToInt32(item.Id),
                                    Value = firstName,
                                    ActualValue = firstName
                                };
                                rpoContext.JobDocumentFields.Add(JobDocumentField);
                            }
                            else
                            {
                                string pdffield = rpoContext.DocumentFields.Where(x => x.IdField == item.IdField).Select(x => x.PdfFields).FirstOrDefault();
                                pdfFields.Add(pdffield);
                                updateJobDocumentField.Value = firstName;
                                updateJobDocumentField.ActualValue = firstName;
                                rpoContext.Entry(updateJobDocumentField).State = EntityState.Modified;
                                FieldsValue.Add(new IdItemName
                                {
                                    Id = pdffield,
                                    ItemName = updateJobDocumentField.ActualValue
                                });
                                rpoContext.SaveChanges();
                            }
                        }
                        else if (item.Field.FieldName == "txtMI")
                        {
                            if (updateJobDocumentField == null)
                            {
                                JobDocumentField JobDocumentField = new JobDocumentField
                                {
                                    IdJobDocument = idJobDocument,
                                    IdDocumentField = Convert.ToInt32(item.Id),
                                    Value = middName,
                                    ActualValue = middName
                                };
                                rpoContext.JobDocumentFields.Add(JobDocumentField);
                            }
                            else
                            {
                                string pdffield = rpoContext.DocumentFields.Where(x => x.IdField == item.IdField).Select(x => x.PdfFields).FirstOrDefault();
                                pdfFields.Add(pdffield);
                                updateJobDocumentField.Value = middName;
                                updateJobDocumentField.ActualValue = middName;
                                rpoContext.Entry(updateJobDocumentField).State = EntityState.Modified;
                                FieldsValue.Add(new IdItemName
                                {
                                    Id = pdffield,
                                    ItemName = updateJobDocumentField.ActualValue
                                });
                                rpoContext.SaveChanges();
                            }
                        }
                        else if (item.Field.FieldName == "txtCompany")
                        {
                            if (updateJobDocumentField == null)
                            {
                                JobDocumentField JobDocumentField = new JobDocumentField
                                {
                                    IdJobDocument = idJobDocument,
                                    IdDocumentField = Convert.ToInt32(item.Id),
                                    Value = businessCompanyName,
                                    ActualValue = businessCompanyName
                                };
                                rpoContext.JobDocumentFields.Add(JobDocumentField);
                            }
                            else
                            {
                                string pdffield = rpoContext.DocumentFields.Where(x => x.IdField == item.IdField).Select(x => x.PdfFields).FirstOrDefault();
                                pdfFields.Add(pdffield);
                                updateJobDocumentField.Value = businessCompanyName;
                                updateJobDocumentField.ActualValue = businessCompanyName;
                                rpoContext.Entry(updateJobDocumentField).State = EntityState.Modified;
                                FieldsValue.Add(new IdItemName
                                {
                                    Id = pdffield,
                                    ItemName = updateJobDocumentField.ActualValue
                                });
                                rpoContext.SaveChanges();
                            }
                        }
                        else if (item.Field.FieldName == "txtPhone")
                        {
                            if (updateJobDocumentField == null)
                            {
                                JobDocumentField JobDocumentField = new JobDocumentField
                                {
                                    IdJobDocument = idJobDocument,
                                    IdDocumentField = Convert.ToInt32(item.Id),
                                    Value = businessPhone,
                                    ActualValue = businessPhone
                                };
                                rpoContext.JobDocumentFields.Add(JobDocumentField);
                            }
                            else
                            {
                                string pdffield = rpoContext.DocumentFields.Where(x => x.IdField == item.IdField).Select(x => x.PdfFields).FirstOrDefault();
                                pdfFields.Add(pdffield);
                                updateJobDocumentField.Value = businessPhone;
                                updateJobDocumentField.ActualValue = businessPhone;
                                rpoContext.Entry(updateJobDocumentField).State = EntityState.Modified;
                                FieldsValue.Add(new IdItemName
                                {
                                    Id = pdffield,
                                    ItemName = updateJobDocumentField.ActualValue
                                });
                                rpoContext.SaveChanges();
                            }
                        }
                        else if (item.Field.FieldName == "txtAddress")
                        {
                            if (updateJobDocumentField == null)
                            {
                                JobDocumentField JobDocumentField = new JobDocumentField
                                {
                                    IdJobDocument = idJobDocument,
                                    IdDocumentField = Convert.ToInt32(item.Id),
                                    Value = businessAddress,
                                    ActualValue = businessAddress
                                };
                                rpoContext.JobDocumentFields.Add(JobDocumentField);
                            }
                            else
                            {
                                string pdffield = rpoContext.DocumentFields.Where(x => x.IdField == item.IdField).Select(x => x.PdfFields).FirstOrDefault();
                                pdfFields.Add(pdffield);
                                updateJobDocumentField.Value = businessAddress;
                                updateJobDocumentField.ActualValue = businessAddress;
                                rpoContext.Entry(updateJobDocumentField).State = EntityState.Modified;
                                FieldsValue.Add(new IdItemName
                                {
                                    Id = pdffield,
                                    ItemName = updateJobDocumentField.ActualValue
                                });
                                rpoContext.SaveChanges();
                            }
                        }
                        else if (item.Field.FieldName == "txtCity")
                        {
                            if (updateJobDocumentField == null)
                            {
                                JobDocumentField JobDocumentField = new JobDocumentField
                                {
                                    IdJobDocument = idJobDocument,
                                    IdDocumentField = Convert.ToInt32(item.Id),
                                    Value = businessCity,
                                    ActualValue = businessCity
                                };
                                rpoContext.JobDocumentFields.Add(JobDocumentField);
                            }
                            else
                            {
                                string pdffield = rpoContext.DocumentFields.Where(x => x.IdField == item.IdField).Select(x => x.PdfFields).FirstOrDefault();
                                pdfFields.Add(pdffield);
                                updateJobDocumentField.Value = businessCity;
                                updateJobDocumentField.ActualValue = businessCity;
                                rpoContext.Entry(updateJobDocumentField).State = EntityState.Modified;
                                FieldsValue.Add(new IdItemName
                                {
                                    Id = pdffield,
                                    ItemName = updateJobDocumentField.ActualValue
                                });
                                rpoContext.SaveChanges();
                            }
                        }
                        else if (item.Field.FieldName == "txtState")
                        {
                            if (updateJobDocumentField == null)
                            {
                                JobDocumentField JobDocumentField = new JobDocumentField
                                {
                                    IdJobDocument = idJobDocument,
                                    IdDocumentField = Convert.ToInt32(item.Id),
                                    Value = businessState,
                                    ActualValue = businessState
                                };
                                rpoContext.JobDocumentFields.Add(JobDocumentField);
                            }
                            else
                            {
                                string pdffield = rpoContext.DocumentFields.Where(x => x.IdField == item.IdField).Select(x => x.PdfFields).FirstOrDefault();
                                pdfFields.Add(pdffield);
                                updateJobDocumentField.Value = businessState;
                                updateJobDocumentField.ActualValue = businessState;
                                rpoContext.Entry(updateJobDocumentField).State = EntityState.Modified;
                                FieldsValue.Add(new IdItemName
                                {
                                    Id = pdffield,
                                    ItemName = updateJobDocumentField.ActualValue
                                });
                                rpoContext.SaveChanges();
                            }
                        }
                        else if (item.Field.FieldName == "txtZip")
                        {
                            if (updateJobDocumentField == null)
                            {
                                JobDocumentField JobDocumentField = new JobDocumentField
                                {
                                    IdJobDocument = idJobDocument,
                                    IdDocumentField = Convert.ToInt32(item.Id),
                                    Value = businessZip,
                                    ActualValue = businessZip
                                };
                                rpoContext.JobDocumentFields.Add(JobDocumentField);
                            }
                            else
                            {
                                string pdffield = rpoContext.DocumentFields.Where(x => x.IdField == item.IdField).Select(x => x.PdfFields).FirstOrDefault();
                                pdfFields.Add(pdffield);
                                updateJobDocumentField.Value = businessZip;
                                updateJobDocumentField.ActualValue = businessZip;
                                rpoContext.Entry(updateJobDocumentField).State = EntityState.Modified;
                                FieldsValue.Add(new IdItemName
                                {
                                    Id = pdffield,
                                    ItemName = updateJobDocumentField.ActualValue
                                });
                                rpoContext.SaveChanges();
                            }
                        }
                        else if (item.Field.FieldName == "chkPE")
                        {
                            if (updateJobDocumentField == null)
                            {
                                JobDocumentField JobDocumentField = new JobDocumentField
                                {
                                    IdJobDocument = idJobDocument,
                                    IdDocumentField = Convert.ToInt32(item.Id),
                                    Value = engineerLicenseType,
                                    ActualValue = engineerLicenseType
                                };
                                rpoContext.JobDocumentFields.Add(JobDocumentField);
                            }
                            else
                            {
                                string pdffield = rpoContext.DocumentFields.Where(x => x.IdField == item.IdField).Select(x => x.PdfFields).FirstOrDefault();
                                pdfFields.Add(pdffield);
                                updateJobDocumentField.Value = engineerLicenseType;
                                updateJobDocumentField.ActualValue = engineerLicenseType;
                                rpoContext.Entry(updateJobDocumentField).State = EntityState.Modified;
                                FieldsValue.Add(new IdItemName
                                {
                                    Id = pdffield,
                                    ItemName = updateJobDocumentField.ActualValue
                                });
                                rpoContext.SaveChanges();
                            }
                        }
                        else if (item.Field.FieldName == "chkRA")
                        {
                            if (updateJobDocumentField == null)
                            {
                                JobDocumentField JobDocumentField = new JobDocumentField
                                {
                                    IdJobDocument = idJobDocument,
                                    IdDocumentField = Convert.ToInt32(item.Id),
                                    Value = architectLicenseType,
                                    ActualValue = architectLicenseType
                                };
                                rpoContext.JobDocumentFields.Add(JobDocumentField);
                            }
                            else
                            {
                                string pdffield = rpoContext.DocumentFields.Where(x => x.IdField == item.IdField).Select(x => x.PdfFields).FirstOrDefault();
                                pdfFields.Add(pdffield);
                                updateJobDocumentField.Value = architectLicenseType;
                                updateJobDocumentField.ActualValue = architectLicenseType;
                                rpoContext.Entry(updateJobDocumentField).State = EntityState.Modified;
                                FieldsValue.Add(new IdItemName
                                {
                                    Id = pdffield,
                                    ItemName = updateJobDocumentField.ActualValue
                                });
                                rpoContext.SaveChanges();
                            }
                        }

                        else if (item.Field.FieldName == "txtLic_No")
                        {
                            if (updateJobDocumentField == null)
                            {
                                JobDocumentField JobDocumentField = new JobDocumentField
                                {
                                    IdJobDocument = idJobDocument,
                                    IdDocumentField = Convert.ToInt32(item.Id),
                                    Value = licenseNumber,
                                    ActualValue = licenseNumber
                                };
                                rpoContext.JobDocumentFields.Add(JobDocumentField);
                            }
                            else
                            {
                                string pdffield = rpoContext.DocumentFields.Where(x => x.IdField == item.IdField).Select(x => x.PdfFields).FirstOrDefault();
                                pdfFields.Add(pdffield);
                                updateJobDocumentField.Value = licenseNumber;
                                updateJobDocumentField.ActualValue = licenseNumber;
                                rpoContext.Entry(updateJobDocumentField).State = EntityState.Modified;
                                FieldsValue.Add(new IdItemName
                                {
                                    Id = pdffield,
                                    ItemName = updateJobDocumentField.ActualValue
                                });
                                rpoContext.SaveChanges();
                            }
                        }


                        else if (item.Field.FieldName == "txtViolation")
                        {

                            if (updateJobDocumentField == null)
                            {
                                JobDocumentField JobDocumentField = new JobDocumentField
                                {
                                    IdJobDocument = idJobDocument,
                                    IdDocumentField = Convert.ToInt32(item.Id),
                                    Value = strViolationNumber,
                                    ActualValue = strViolationNumber
                                };
                                rpoContext.JobDocumentFields.Add(JobDocumentField);
                            }
                            else
                            {
                                string pdffield = rpoContext.DocumentFields.Where(x => x.IdField == item.IdField).Select(x => x.PdfFields).FirstOrDefault();
                                pdfFields.Add(pdffield);
                                updateJobDocumentField.Value = strViolationNumber;
                                updateJobDocumentField.ActualValue = strViolationNumber;
                                rpoContext.Entry(updateJobDocumentField).State = EntityState.Modified;
                                FieldsValue.Add(new IdItemName
                                {
                                    Id = pdffield,
                                    ItemName = updateJobDocumentField.ActualValue
                                });
                                rpoContext.SaveChanges();
                            }
                        }


                        rpoContext.SaveChanges();
                    }
                    else
                    {
                        if (item.Field.FieldName == "txtName4")
                        {

                            if (docuementType.ToLower() == ("Reduction Request").ToLower())
                            {
                                int Certifierid = Convert.ToInt32(frontendFields.Value);
                                JobContact jobContact = rpoContext.JobContacts.Where(x => x.Id == Certifierid).FirstOrDefault();

                                lastName = jobContact != null && jobContact.Contact != null ? jobContact.Contact.LastName : string.Empty;
                                firstName = jobContact != null && jobContact.Contact != null ? jobContact.Contact.FirstName : string.Empty;
                                middName = jobContact != null && jobContact.Contact != null ? jobContact.Contact.MiddleName : string.Empty;

                                fullName = jobContact != null && jobContact.Contact != null ? jobContact.Contact.FirstName + " " + jobContact.Contact.LastName : string.Empty;

                                Address compnayAddress = Common.GetContactAddressForJobDocument(jobContact);
                                businessCompanyName = jobContact != null && jobContact.Company != null ? jobContact.Company.Name : string.Empty;
                                businessPhone = Common.GetContactPhoneNumberForJobDocument(jobContact);
                                businessAddress = compnayAddress != null ? compnayAddress.Address1 + " " + compnayAddress.Address2 : string.Empty;
                                businessFax = string.Empty;
                                businessCity = compnayAddress != null ? compnayAddress.City : string.Empty;
                                businessState = compnayAddress != null && compnayAddress.State != null ? compnayAddress.State.Acronym : string.Empty;
                                businessZip = compnayAddress != null ? compnayAddress.ZipCode : string.Empty;
                                contactMobilePhone = jobContact != null && jobContact.Contact != null ? jobContact.Contact.MobilePhone : string.Empty;
                                contactEmail = jobContact != null ? jobContact.Contact.Email : string.Empty;

                                string licenceTypeNumber = jobContact != null && jobContact.Contact != null && jobContact.Contact.ContactLicenses != null && jobContact.Contact.ContactLicenses.Count > 0 ?
                                jobContact.Contact.ContactLicenses.Select(x => x.Number).FirstOrDefault() : string.Empty;
                                documentDescription = documentDescription + (!string.IsNullOrEmpty(fullName) ? " | Applicant: " + fullName : string.Empty);
                                if (!string.IsNullOrEmpty(licenceTypeNumber))
                                {
                                    ContactLicense contactLicenseType = rpoContext.ContactLicenses.Where(a => a.Number == licenceTypeNumber).FirstOrDefault();
                                    ContactLicenseType LicenseType = rpoContext.ContactLicenseTypes.Where(b => b.Id == contactLicenseType.IdContactLicenseType).FirstOrDefault();
                                    if (LicenseType.Name.ToLower() == ("Engineer").ToLower())
                                    {
                                        engineerLicenseType = "Yes";
                                        licenseNumber = licenceTypeNumber;
                                    }
                                    else if (LicenseType.Name.ToLower() == ("Architect").ToLower())
                                    {
                                        architectLicenseType = "Yes";
                                        licenseNumber = licenceTypeNumber;
                                    }
                                }
                                else
                                {
                                    licenceTypeNumber = jobContact != null && jobContact.Contact != null && jobContact.Contact.ContactLicenses != null && jobContact.Contact.ContactLicenses.Count > 0 ?
                                    jobContact.Contact.ContactLicenses.Select(x => x.ContactLicenseType.Name).FirstOrDefault() : string.Empty;
                                    if (licenceTypeNumber.ToLower() == ("Engineer").ToLower())
                                    {
                                        engineerLicenseType = "Yes";
                                    }
                                    else if (licenceTypeNumber.ToLower() == ("Architect").ToLower())
                                    {
                                        architectLicenseType = "Yes";
                                    }
                                }
                                applicationNumber2 = applicationNumber;
                                violation4 = strViolationNumber;
                            }
                            if (updateJobDocumentField == null)
                            {
                                JobDocumentField JobDocumentField = new JobDocumentField
                                {
                                    IdJobDocument = idJobDocument,
                                    IdDocumentField = Convert.ToInt32(item.Id),
                                    Value = frontendFields.Value,
                                    ActualValue = fullName
                                };
                                rpoContext.JobDocumentFields.Add(JobDocumentField);
                                rpoContext.SaveChanges();
                            }
                            else
                            {
                                string pdffield = rpoContext.DocumentFields.Where(x => x.IdField == item.IdField).Select(x => x.PdfFields).FirstOrDefault();
                                pdfFields.Add(pdffield);
                                updateJobDocumentField.Value = frontendFields.Value;
                                updateJobDocumentField.ActualValue = fullName;
                                rpoContext.Entry(updateJobDocumentField).State = EntityState.Modified;
                                FieldsValue.Add(new IdItemName
                                {
                                    Id = pdffield,
                                    ItemName = updateJobDocumentField.ActualValue
                                });
                                rpoContext.SaveChanges();
                            }
                        }
                        else if (item.Field.FieldName == "txtJob")
                        {
                            int Certifierid = Convert.ToInt32(frontendFields.Value);
                            JobApplication jobApplication = rpoContext.JobApplications.Where(x => x.Id == Certifierid).FirstOrDefault();

                            //  Address ownerAddress = job != null && job.RfpAddress != null && job.RfpAddress.OwnerContact != null && job.RfpAddress.OwnerContact.Addresses != null && job.RfpAddress.OwnerContact.Addresses != null ? job.RfpAddress.OwnerContact.Addresses.FirstOrDefault(x => x.IsMainAddress == true) : null;

                            Contact contact = job.RfpAddress.OwnerContact;
                            Address jobcompanyAddress = Common.GetContactAddressForJobDocument(contact);


                            ownerrfpAddress = jobcompanyAddress != null ? jobcompanyAddress.Address1 + " " + jobcompanyAddress.Address2 : string.Empty;
                            ownerCity = jobcompanyAddress != null ? jobcompanyAddress.City + " " + jobcompanyAddress.State.Acronym : string.Empty;
                            ownerZipCode = jobcompanyAddress != null ? jobcompanyAddress.ZipCode : string.Empty;


                            applicationNumber = (jobApplication != null) ? jobApplication.ApplicationNumber : string.Empty;

                            documentDescription = documentDescription + (!string.IsNullOrEmpty(applicationNumber) ? "Application: " + applicationNumber : string.Empty);
                            floorWorkingOn = jobApplication != null ? jobApplication.FloorWorking : string.Empty;
                            if (updateJobDocumentField == null)
                            {
                                JobDocumentField JobDocumentField = new JobDocumentField
                                {
                                    IdJobDocument = idJobDocument,
                                    IdDocumentField = frontendFields.IdDocumentField,
                                    Value = frontendFields.Value,
                                    ActualValue = applicationNumber
                                };
                                rpoContext.JobDocumentFields.Add(JobDocumentField);
                                rpoContext.SaveChanges();
                            }
                            else
                            {
                                string pdffield = rpoContext.DocumentFields.Where(x => x.IdField == item.IdField).Select(x => x.PdfFields).FirstOrDefault();
                                pdfFields.Add(pdffield);
                                updateJobDocumentField.Value = frontendFields.Value;
                                updateJobDocumentField.ActualValue = applicationNumber;
                                rpoContext.Entry(updateJobDocumentField).State = EntityState.Modified;
                                FieldsValue.Add(new IdItemName
                                {
                                    Id = pdffield,
                                    ItemName = updateJobDocumentField.ActualValue
                                });
                                rpoContext.SaveChanges();
                            }
                        }
                        else if (item.Field.FieldName == "txtType")
                        {
                            int jobDocumentTypeId = Convert.ToInt32(frontendFields.Value);
                            JobDocumentType jobDocumentType = rpoContext.JobDocumentTypes.FirstOrDefault(x => x.Id == jobDocumentTypeId);

                            docuementType = jobDocumentType != null ? jobDocumentType.Type : string.Empty;
                            if (docuementType.ToLower() == ("Override Request").ToLower())
                            {
                                overrideRequest = "Yes";
                            }
                            //else if (docuementType.ToLower() == ("Reduction Request").ToLower())
                            //{
                            //    reductionRequest = string.Empty;
                            //}
                            //else if (docuementType.ToLower() == ("Stop Work Order").ToLower())
                            //{
                            //    stopWorkOrder = string.Empty;
                            //}
                            //else if (docuementType.ToLower() == ("Waiver Request").ToLower())
                            //{
                            //    waiverRequest = string.Empty;
                            //}
                            documentDescription = documentDescription + (!string.IsNullOrEmpty(docuementType) ? "| Type: " + docuementType : string.Empty);
                            if (updateJobDocumentField == null)
                            {
                                JobDocumentField JobDocumentField = new JobDocumentField
                                {
                                    IdJobDocument = idJobDocument,
                                    IdDocumentField = Convert.ToInt32(item.Id),
                                    Value = frontendFields.Value,
                                    ActualValue = docuementType
                                };
                                rpoContext.JobDocumentFields.Add(JobDocumentField);
                            }
                            else
                            {
                                string pdffield = rpoContext.DocumentFields.Where(x => x.IdField == item.IdField).Select(x => x.PdfFields).FirstOrDefault();
                                pdfFields.Add(pdffield);
                                updateJobDocumentField.Value = frontendFields.Value;
                                updateJobDocumentField.ActualValue = docuementType;
                                rpoContext.Entry(updateJobDocumentField).State = EntityState.Modified;
                                FieldsValue.Add(new IdItemName
                                {
                                    Id = pdffield,
                                    ItemName = updateJobDocumentField.ActualValue
                                });
                                rpoContext.SaveChanges();
                            }
                        }
                        else if (item.Field.FieldName == "txtViolation")
                        {

                            string summonsIds = Convert.ToString(frontendFields.Value);
                            //    List<int> summonTypesLst = !string.IsNullOrEmpty(summonsIds) ? (summonsIds.Split(',') != null && summonsIds.Split(',').Any() ? summonsIds.Split(',').Select(x => int.Parse(x)).ToList() : new List<int>()) : new List<int>();

                            //    var jobviolationType = rpoContext.JobViolations
                            //                                                //   .Include("JobWorkType")
                            //                                                .Where(x => summonTypesLst.Contains(x.Id)).ToList();

                            //var    jobviolationTypearr = jobviolationType.Select(x => x.SummonsNumber).ToArray();
                            //    strViolationNumber = jobviolationTypearr != null ? String.Join(",", Array.ConvertAll(jobviolationTypearr, x => x.ToString())) : string.Empty;


                            strViolationNumber = frontendFields.Value;

                            documentDescription = (documentDescription) + (!string.IsNullOrEmpty(strViolationNumber) ? " | Violation #: " + strViolationNumber : string.Empty);


                            if (updateJobDocumentField == null)
                            {
                                JobDocumentField JobDocumentField = new JobDocumentField
                                {
                                    IdJobDocument = idJobDocument,
                                    IdDocumentField = frontendFields.IdDocumentField,
                                    Value = frontendFields.Value,
                                    ActualValue = frontendFields.Value
                                };
                                rpoContext.JobDocumentFields.Add(JobDocumentField);
                                rpoContext.SaveChanges();
                            }
                            else
                            {
                                string pdffield = rpoContext.DocumentFields.Where(x => x.IdField == item.IdField).Select(x => x.PdfFields).FirstOrDefault();
                                pdfFields.Add(pdffield);
                                updateJobDocumentField.Value = frontendFields.Value;
                                updateJobDocumentField.ActualValue = frontendFields.Value;
                                rpoContext.Entry(updateJobDocumentField).State = EntityState.Modified;
                                FieldsValue.Add(new IdItemName
                                {
                                    Id = pdffield,
                                    ItemName = updateJobDocumentField.ActualValue
                                });
                                rpoContext.SaveChanges();
                            }
                        }
                        else if (item.Field.FieldName == "Description")
                        {
                            documentDescription = documentDescription + (!string.IsNullOrEmpty(documentDescription) && !string.IsNullOrEmpty(documentDescription) ? " | " : string.Empty) + (!string.IsNullOrEmpty(documentDescription) ? "Optional Additional Description: " + frontendFields.Value : string.Empty);
                            if (updateJobDocumentField == null)
                            {
                                JobDocumentField JobDocumentField = new JobDocumentField
                                {
                                    IdJobDocument = idJobDocument,
                                    IdDocumentField = frontendFields.IdDocumentField,
                                    Value = frontendFields.Value,
                                    ActualValue = frontendFields.Value
                                };
                                rpoContext.JobDocumentFields.Add(JobDocumentField);
                                rpoContext.SaveChanges();
                            }
                            else
                            {
                                updateJobDocumentField.Value = frontendFields.Value;
                                updateJobDocumentField.ActualValue = frontendFields.Value;
                                rpoContext.Entry(updateJobDocumentField).State = EntityState.Modified;
                                rpoContext.SaveChanges();
                            }
                        }
                        else
                        {
                            if (updateJobDocumentField == null)
                            {
                                JobDocumentField JobDocumentField = new JobDocumentField
                                {
                                    IdJobDocument = idJobDocument,
                                    IdDocumentField = frontendFields.IdDocumentField,
                                    Value = frontendFields.Value,
                                    ActualValue = frontendFields.Value

                                };
                                rpoContext.JobDocumentFields.Add(JobDocumentField);
                                rpoContext.SaveChanges();
                            }
                            else
                            {
                                updateJobDocumentField.Value = frontendFields.Value;
                                updateJobDocumentField.ActualValue = frontendFields.Value;
                                rpoContext.Entry(updateJobDocumentField).State = EntityState.Modified;
                                rpoContext.SaveChanges();
                            }
                        }
                    }
                }
            }
            List<string> newpdfString = pdfFields;
            List<int> newDocumentFieldId = DocumentFieldsIds;
            jobDocument.DocumentDescription = documentDescription;
            jobDocument.JobDocumentFor = jobDocumentFor;
            rpoContext.SaveChanges();
            GenerateEditedJobDocument(idJobDocument, pdfFields, newDocumentFieldId, FieldsValue);
        }

        
        public static void GeneratePlanorworkapprovalapplication2019(int idJobDocument, JobDocumentCreateOrUpdateDTO jobDocumentCreateOrUpdateDTO)
        {
            RpoContext rpoContext = new RpoContext();
            var documentFieldList = rpoContext.DocumentFields.Include("Field").Where(x => x.IdDocument == jobDocumentCreateOrUpdateDTO.IdDocument).OrderByDescending(x => x.Field.IsDisplayInFrontend).ThenBy(x => x.DisplayOrder).ToList();
            JobDocument jobDocument = rpoContext.JobDocuments.FirstOrDefault(x => x.Id == idJobDocument);
            string documentDescription = string.Empty;
            string jobDocumentFor = string.Empty;

            if (documentFieldList != null && documentFieldList.Count > 0)
            {
                Job job = rpoContext.Jobs.Include("ProjectManager").
                    Include("Contact.ContactTitle").
                    Include("RfpAddress.Borough").
                    Include("Company.Addresses.AddressType").
                    Include("Company.Addresses.State")
                    .Where(x => x.Id == jobDocumentCreateOrUpdateDTO.IdJob).FirstOrDefault();

                string contactName = string.Empty;
                string licenceName = string.Empty;
                string contactName2 = string.Empty;
                string companyName2 = string.Empty;
                string location2 = string.Empty;
                string docuementType = string.Empty;
                string floorWorkingOn = string.Empty;
                string applicantFirstName = string.Empty;
                string applicantMiddleName = string.Empty;
                string applicantLastName = string.Empty;
                string contactcompany = string.Empty;
                string businessAddress = string.Empty;
                //   string businessAddress = string.Empty;
                string businessCity = string.Empty;
                string businessState = string.Empty;
                string businessZip = string.Empty;
                string contactMobilePhone = string.Empty;
                string contactEmail = string.Empty;
                string contactTitle = string.Empty;
                string documentType = string.Empty;
                string documentName = string.Empty;
                //   string contactcompany = string.Empty;
                string applicantmobilenumber = string.Empty;
                string contactLic_state_engineer = string.Empty;
                string contactLic_state_architect = string.Empty;
                string contactLic_No = string.Empty;
                string filingRepresentativeCompany = string.Empty;
                string filingRepresentativePhone = string.Empty;
                string filingRepresentativeEmail = string.Empty;

                string filingRepresentativeCompany2 = string.Empty;
                string filingRepresentativePhone2 = string.Empty;
                string filingRepresentativeEmail2 = string.Empty;


                string filingRepresentativeCompany3 = string.Empty;
                string filingRepresentativePhone3 = string.Empty;
                string filingRepresentativeEmail3 = string.Empty;


                string filingRepresentativefirstname = string.Empty;
                string frfirstname = string.Empty;
                string frLastname = string.Empty;
                string filingRepresentative2firstname = string.Empty;
                string filingRepresentativef3irstname = string.Empty;
                string filingRepresentativelastname = string.Empty;
                string filingRepresentative2lastname = string.Empty;
                string filingRepresentative3lastname = string.Empty;
                string filingRepresentativeaddress = string.Empty;
                string filingRepresentativecity = string.Empty;
                string filingRepresentativestate = string.Empty;
                string filingRepresentativezip = string.Empty;
                string filingRepresentativemobile = string.Empty;
                string filingRepresentativeemail = string.Empty;
                string filingRepresentativRegnumber = string.Empty;
                string[] permitTypecodeArr = new string[20];
                string permitTypecode = string.Empty;
                string estfees = string.Empty;
                string LR_Name = string.Empty;
                string LR_Relationship = string.Empty;
                string LR_Company = string.Empty;
                string LR_Address = string.Empty;
                string LR_City = string.Empty;
                string LR_State = string.Empty;
                string LR_Zip = string.Empty;
                string LR_Phone = string.Empty;
                string LR_Fax = string.Empty;
                string LR_EMail = string.Empty;
                string applicantName = string.Empty;
                string comments = string.Empty;
                string applicationNumber = string.Empty;
                string ApplicationType = string.Empty;
                string desc = string.Empty;
                var jobDocumentFieldList = rpoContext.JobDocumentFields.Where(x => x.IdJobDocument == idJobDocument).ToList();
                foreach (DocumentField item in documentFieldList)
                {
                    JobDocumentField updateJobDocumentField = jobDocumentFieldList.FirstOrDefault(x => x.IdDocumentField == item.Id);
                    var frontendFields = jobDocumentCreateOrUpdateDTO.JobDocumentFields.FirstOrDefault(x => x.IdDocumentField == item.Id);
                    if (frontendFields == null)
                    {
                        if (item.Field.FieldName == "JobFileInfo")
                        {
                            string jobFileInfo = job != null ? job.JobNumber + " - pw1_2019.pdf" : string.Empty;
                            if (updateJobDocumentField == null)
                            {
                                JobDocumentField JobDocumentField = new JobDocumentField
                                {
                                    IdJobDocument = idJobDocument,
                                    IdDocumentField = Convert.ToInt32(item.Id),
                                    Value = jobFileInfo,
                                    ActualValue = jobFileInfo
                                };
                                rpoContext.JobDocumentFields.Add(JobDocumentField);
                            }
                            else
                            {
                                updateJobDocumentField.Value = jobFileInfo;
                                updateJobDocumentField.ActualValue = jobFileInfo;
                                rpoContext.Entry(updateJobDocumentField).State = EntityState.Modified;
                                rpoContext.SaveChanges();
                            }
                        }
                        else if (item.Field.FieldName == "chkPublic")
                        {
                            if (updateJobDocumentField == null)
                            {
                                JobDocumentField JobDocumentField = new JobDocumentField
                                {
                                    IdJobDocument = idJobDocument,
                                    IdDocumentField = Convert.ToInt32(item.Id),
                                    Value = "2",
                                    ActualValue = "2"
                                };
                                rpoContext.JobDocumentFields.Add(JobDocumentField);
                            }
                            else
                            {
                                updateJobDocumentField.Value = "2";
                                updateJobDocumentField.ActualValue = "2";
                                rpoContext.Entry(updateJobDocumentField).State = EntityState.Modified;
                                rpoContext.SaveChanges();
                            }
                        }

                        else if (item.Field.FieldName == "txtExistingStru_OC")
                        {
                            string ConstructionClassification = job != null && job.RfpAddress != null && job.RfpAddress.StructureOccupancyCategory != null ? job.RfpAddress.StructureOccupancyCategory.Code : string.Empty;
                            if (updateJobDocumentField == null)
                            {
                                JobDocumentField JobDocumentField = new JobDocumentField
                                {
                                    IdJobDocument = idJobDocument,
                                    IdDocumentField = Convert.ToInt32(item.Id),
                                    Value = ConstructionClassification,
                                    ActualValue = ConstructionClassification
                                };
                                rpoContext.JobDocumentFields.Add(JobDocumentField);
                            }
                            else
                            {
                                updateJobDocumentField.Value = ConstructionClassification;
                                updateJobDocumentField.ActualValue = ConstructionClassification;
                                rpoContext.Entry(updateJobDocumentField).State = EntityState.Modified;
                                rpoContext.SaveChanges();
                            }
                        }

                        else if (item.Field.FieldName == "txtExistingSeismicDesign")
                        {
                            string ConstructionClassification = job != null && job.RfpAddress != null && job.RfpAddress.SeismicDesignCategory != null ? job.RfpAddress.SeismicDesignCategory.Code : string.Empty;
                            if (updateJobDocumentField == null)
                            {
                                JobDocumentField JobDocumentField = new JobDocumentField
                                {
                                    IdJobDocument = idJobDocument,
                                    IdDocumentField = Convert.ToInt32(item.Id),
                                    Value = ConstructionClassification,
                                    ActualValue = ConstructionClassification
                                };
                                rpoContext.JobDocumentFields.Add(JobDocumentField);
                            }
                            else
                            {
                                updateJobDocumentField.Value = ConstructionClassification;
                                updateJobDocumentField.ActualValue = ConstructionClassification;
                                rpoContext.Entry(updateJobDocumentField).State = EntityState.Modified;
                                rpoContext.SaveChanges();
                            }
                        }
                        else if (item.Field.FieldName == "Job")
                        {

                            //  int jobApplicantId = Convert.ToInt32(frontendFields.Value);
                            //  JobApplication jobApplication = rpoContext.JobApplications.FirstOrDefault(x => x.Id == jobApplicantId);

                            // string applicationNumber = jobApplication != null ? jobApplication.ApplicationNumber : string.Empty;
                            if (updateJobDocumentField == null)
                            {
                                JobDocumentField JobDocumentField = new JobDocumentField
                                {
                                    IdJobDocument = idJobDocument,
                                    IdDocumentField = Convert.ToInt32(item.Id),
                                    Value = applicationNumber,
                                    ActualValue = applicationNumber
                                };
                                rpoContext.JobDocumentFields.Add(JobDocumentField);
                            }
                            else
                            {
                                updateJobDocumentField.Value = applicationNumber;
                                updateJobDocumentField.ActualValue = applicationNumber;
                                rpoContext.Entry(updateJobDocumentField).State = EntityState.Modified;
                                rpoContext.SaveChanges();
                            }
                        }

                        else if (item.Field.FieldName == "chkPlans_Yes")
                        {
                            if (updateJobDocumentField == null)
                            {
                                JobDocumentField JobDocumentField = new JobDocumentField
                                {
                                    IdJobDocument = idJobDocument,
                                    IdDocumentField = Convert.ToInt32(item.Id),
                                    Value = "1",
                                    ActualValue = "1"
                                };
                                rpoContext.JobDocumentFields.Add(JobDocumentField);
                            }
                            else
                            {
                                updateJobDocumentField.Value = "1";
                                updateJobDocumentField.ActualValue = "1";
                                rpoContext.Entry(updateJobDocumentField).State = EntityState.Modified;
                                rpoContext.SaveChanges();
                            }
                        }


                        else if (item.Field.FieldName == "chkAdultNo")
                        {
                            string AdultEsta = string.Empty;
                            if (docuementType == "Initial Filing")
                            {
                                // AdultEsta = "On";
                            }

                            if (updateJobDocumentField == null)
                            {
                                JobDocumentField JobDocumentField = new JobDocumentField
                                {
                                    IdJobDocument = idJobDocument,
                                    IdDocumentField = Convert.ToInt32(item.Id),
                                    Value = AdultEsta,
                                    ActualValue = AdultEsta
                                };
                                rpoContext.JobDocumentFields.Add(JobDocumentField);
                            }
                            else
                            {
                                updateJobDocumentField.Value = AdultEsta;
                                updateJobDocumentField.ActualValue = AdultEsta;
                                rpoContext.Entry(updateJobDocumentField).State = EntityState.Modified;
                                rpoContext.SaveChanges();
                            }
                        }
                        else if (item.Field.FieldName == "chkInfillZoningNo")
                        {
                            string fillZoning = string.Empty;
                            if (docuementType == "Initial Filing")
                            {
                                //  fillZoning = "On";
                            }

                            if (updateJobDocumentField == null)
                            {
                                JobDocumentField JobDocumentField = new JobDocumentField
                                {
                                    IdJobDocument = idJobDocument,
                                    IdDocumentField = Convert.ToInt32(item.Id),
                                    Value = fillZoning,
                                    ActualValue = fillZoning
                                };
                                rpoContext.JobDocumentFields.Add(JobDocumentField);
                            }
                            else
                            {
                                updateJobDocumentField.Value = fillZoning;
                                updateJobDocumentField.ActualValue = fillZoning;
                                rpoContext.Entry(updateJobDocumentField).State = EntityState.Modified;
                                rpoContext.SaveChanges();
                            }
                        }
                        else if (item.Field.FieldName == "chkCompensatedNo")
                        {
                            string Compensated = string.Empty;
                            if (docuementType == "Initial Filing")
                            {
                                //  Compensated = "On";
                            }

                            if (updateJobDocumentField == null)
                            {
                                JobDocumentField JobDocumentField = new JobDocumentField
                                {
                                    IdJobDocument = idJobDocument,
                                    IdDocumentField = Convert.ToInt32(item.Id),
                                    Value = Compensated,
                                    ActualValue = Compensated
                                };
                                rpoContext.JobDocumentFields.Add(JobDocumentField);
                            }
                            else
                            {
                                updateJobDocumentField.Value = Compensated;
                                updateJobDocumentField.ActualValue = Compensated;
                                rpoContext.Entry(updateJobDocumentField).State = EntityState.Modified;
                                rpoContext.SaveChanges();
                            }
                        }
                        else if (item.Field.FieldName == "chkLoftBoardNo")
                        {
                            string LoftBoard = string.Empty;
                            if (docuementType == "Initial Filing")
                            {
                                // LoftBoard = "On";
                            }

                            if (updateJobDocumentField == null)
                            {
                                JobDocumentField JobDocumentField = new JobDocumentField
                                {
                                    IdJobDocument = idJobDocument,
                                    IdDocumentField = Convert.ToInt32(item.Id),
                                    Value = LoftBoard,
                                    ActualValue = LoftBoard
                                };
                                rpoContext.JobDocumentFields.Add(JobDocumentField);
                            }
                            else
                            {
                                updateJobDocumentField.Value = LoftBoard;
                                updateJobDocumentField.ActualValue = LoftBoard;
                                rpoContext.Entry(updateJobDocumentField).State = EntityState.Modified;
                                rpoContext.SaveChanges();
                            }
                        }

                        else if (item.Field.FieldName == "chkLowIncomeNo")
                        {
                            string LowIncome = string.Empty;
                            if (docuementType == "Initial Filing")
                            {
                                //  LowIncome = "On";
                            }

                            if (updateJobDocumentField == null)
                            {
                                JobDocumentField JobDocumentField = new JobDocumentField
                                {
                                    IdJobDocument = idJobDocument,
                                    IdDocumentField = Convert.ToInt32(item.Id),
                                    Value = LowIncome,
                                    ActualValue = LowIncome
                                };
                                rpoContext.JobDocumentFields.Add(JobDocumentField);
                            }
                            else
                            {
                                updateJobDocumentField.Value = LowIncome;
                                updateJobDocumentField.ActualValue = LowIncome;
                                rpoContext.Entry(updateJobDocumentField).State = EntityState.Modified;
                                rpoContext.SaveChanges();
                            }
                        }
                        else if (item.Field.FieldName == "chkQualityHousingNo")
                        {
                            string QualityHousing = string.Empty;
                            if (docuementType == "Initial Filing")
                            {
                                //  QualityHousing = "On";
                            }

                            if (updateJobDocumentField == null)
                            {
                                JobDocumentField JobDocumentField = new JobDocumentField
                                {
                                    IdJobDocument = idJobDocument,
                                    IdDocumentField = Convert.ToInt32(item.Id),
                                    Value = QualityHousing,
                                    ActualValue = QualityHousing
                                };
                                rpoContext.JobDocumentFields.Add(JobDocumentField);
                            }
                            else
                            {
                                updateJobDocumentField.Value = QualityHousing;
                                updateJobDocumentField.ActualValue = QualityHousing;
                                rpoContext.Entry(updateJobDocumentField).State = EntityState.Modified;
                                rpoContext.SaveChanges();
                            }
                        }
                        else if (item.Field.FieldName == "chkSRONo")
                        {
                            string SRO = string.Empty;
                            if (docuementType == "Initial Filing")
                            {
                                //  SRO = "On";
                            }

                            if (updateJobDocumentField == null)
                            {
                                JobDocumentField JobDocumentField = new JobDocumentField
                                {
                                    IdJobDocument = idJobDocument,
                                    IdDocumentField = Convert.ToInt32(item.Id),
                                    Value = SRO,
                                    ActualValue = SRO
                                };
                                rpoContext.JobDocumentFields.Add(JobDocumentField);
                            }
                            else
                            {
                                updateJobDocumentField.Value = SRO;
                                updateJobDocumentField.ActualValue = SRO;
                                rpoContext.Entry(updateJobDocumentField).State = EntityState.Modified;
                                rpoContext.SaveChanges();
                            }
                        }
                        else if (item.Field.FieldName == "chkSiteSafetyNo")
                        {
                            string SiteSafety = string.Empty;
                            if (docuementType == "Initial Filing")
                            {
                                //   SiteSafety = "On";
                            }

                            if (updateJobDocumentField == null)
                            {
                                JobDocumentField JobDocumentField = new JobDocumentField
                                {
                                    IdJobDocument = idJobDocument,
                                    IdDocumentField = Convert.ToInt32(item.Id),
                                    Value = SiteSafety,
                                    ActualValue = SiteSafety
                                };
                                rpoContext.JobDocumentFields.Add(JobDocumentField);
                            }
                            else
                            {
                                updateJobDocumentField.Value = SiteSafety;
                                updateJobDocumentField.ActualValue = SiteSafety;
                                rpoContext.Entry(updateJobDocumentField).State = EntityState.Modified;
                                rpoContext.SaveChanges();
                            }
                        }
                        else if (item.Field.FieldName == "chkLotMergerNo")
                        {
                            string LotMerger = string.Empty;
                            if (docuementType == "Initial Filing")
                            {
                                // LotMerger = "On";
                            }

                            if (updateJobDocumentField == null)
                            {
                                JobDocumentField JobDocumentField = new JobDocumentField
                                {
                                    IdJobDocument = idJobDocument,
                                    IdDocumentField = Convert.ToInt32(item.Id),
                                    Value = LotMerger,
                                    ActualValue = LotMerger
                                };
                                rpoContext.JobDocumentFields.Add(JobDocumentField);
                            }
                            else
                            {
                                updateJobDocumentField.Value = LotMerger;
                                updateJobDocumentField.ActualValue = LotMerger;
                                rpoContext.Entry(updateJobDocumentField).State = EntityState.Modified;
                                rpoContext.SaveChanges();
                            }
                        }
                        else if (item.Field.FieldName == "chkLMCCCNo")
                        {
                            string LMCCC = string.Empty;
                            if (docuementType == "Initial Filing")
                            {
                                //  LMCCC = "On";
                            }

                            if (updateJobDocumentField == null)
                            {
                                JobDocumentField JobDocumentField = new JobDocumentField
                                {
                                    IdJobDocument = idJobDocument,
                                    IdDocumentField = Convert.ToInt32(item.Id),
                                    Value = LMCCC,
                                    ActualValue = LMCCC
                                };
                                rpoContext.JobDocumentFields.Add(JobDocumentField);
                            }
                            else
                            {
                                updateJobDocumentField.Value = LMCCC;
                                updateJobDocumentField.ActualValue = LMCCC;
                                rpoContext.Entry(updateJobDocumentField).State = EntityState.Modified;
                                rpoContext.SaveChanges();
                            }
                        }
                        else if (item.Field.FieldName == "chkLandmarkYes")
                        {
                            string Landmark = string.Empty;
                            if (docuementType == "Initial Filing")
                            {
                                //  Landmark = "On";
                            }

                            if (updateJobDocumentField == null)
                            {
                                JobDocumentField JobDocumentField = new JobDocumentField
                                {
                                    IdJobDocument = idJobDocument,
                                    IdDocumentField = Convert.ToInt32(item.Id),
                                    Value = Landmark,
                                    ActualValue = Landmark
                                };
                                rpoContext.JobDocumentFields.Add(JobDocumentField);
                            }
                            else
                            {
                                updateJobDocumentField.Value = Landmark;
                                updateJobDocumentField.ActualValue = Landmark;
                                rpoContext.Entry(updateJobDocumentField).State = EntityState.Modified;
                                rpoContext.SaveChanges();
                            }
                        }
                        else if (item.Field.FieldName == "chkFilingtoAddressViolationsNo")
                        {
                            string FilingtoAddressViolations = string.Empty;
                            if (docuementType == "Initial Filing")
                            {
                                // FilingtoAddressViolations = "On";
                            }

                            if (updateJobDocumentField == null)
                            {
                                JobDocumentField JobDocumentField = new JobDocumentField
                                {
                                    IdJobDocument = idJobDocument,
                                    IdDocumentField = Convert.ToInt32(item.Id),
                                    Value = FilingtoAddressViolations,
                                    ActualValue = FilingtoAddressViolations
                                };
                                rpoContext.JobDocumentFields.Add(JobDocumentField);
                            }
                            else
                            {
                                updateJobDocumentField.Value = FilingtoAddressViolations;
                                updateJobDocumentField.ActualValue = FilingtoAddressViolations;
                                rpoContext.Entry(updateJobDocumentField).State = EntityState.Modified;
                                rpoContext.SaveChanges();
                            }
                        }
                        else if (item.Field.FieldName == "chkLittleENo")
                        {
                            string LittleE = string.Empty;
                            if (docuementType == "Initial Filing")
                            {
                                // LittleE = "On";
                            }

                            if (updateJobDocumentField == null)
                            {
                                JobDocumentField JobDocumentField = new JobDocumentField
                                {
                                    IdJobDocument = idJobDocument,
                                    IdDocumentField = Convert.ToInt32(item.Id),
                                    Value = LittleE,
                                    ActualValue = LittleE
                                };
                                rpoContext.JobDocumentFields.Add(JobDocumentField);
                            }
                            else
                            {
                                updateJobDocumentField.Value = LittleE;
                                updateJobDocumentField.ActualValue = LittleE;
                                rpoContext.Entry(updateJobDocumentField).State = EntityState.Modified;
                                rpoContext.SaveChanges();
                            }
                        }

                        else if (item.Field.FieldName == "chkUnmappedStreetNo")
                        {
                            string UnmappedStreet = string.Empty;
                            if (docuementType == "Initial Filing")
                            {
                                //  UnmappedStreet = "On";
                            }

                            if (updateJobDocumentField == null)
                            {
                                JobDocumentField JobDocumentField = new JobDocumentField
                                {
                                    IdJobDocument = idJobDocument,
                                    IdDocumentField = Convert.ToInt32(item.Id),
                                    Value = UnmappedStreet,
                                    ActualValue = UnmappedStreet
                                };
                                rpoContext.JobDocumentFields.Add(JobDocumentField);
                            }
                            else
                            {
                                updateJobDocumentField.Value = UnmappedStreet;
                                updateJobDocumentField.ActualValue = UnmappedStreet;
                                rpoContext.Entry(updateJobDocumentField).State = EntityState.Modified;
                                rpoContext.SaveChanges();
                            }
                        }
                        else if (item.Field.FieldName == "chkRequestingLegalizationNo")
                        {
                            string RequestingLegalization = string.Empty;
                            if (docuementType == "Initial Filing")
                            {
                                //  RequestingLegalization = "On";
                            }

                            if (updateJobDocumentField == null)
                            {
                                JobDocumentField JobDocumentField = new JobDocumentField
                                {
                                    IdJobDocument = idJobDocument,
                                    IdDocumentField = Convert.ToInt32(item.Id),
                                    Value = RequestingLegalization,
                                    ActualValue = RequestingLegalization
                                };
                                rpoContext.JobDocumentFields.Add(JobDocumentField);
                            }
                            else
                            {
                                updateJobDocumentField.Value = RequestingLegalization;
                                updateJobDocumentField.ActualValue = RequestingLegalization;
                                rpoContext.Entry(updateJobDocumentField).State = EntityState.Modified;
                                rpoContext.SaveChanges();
                            }
                        }
                        else if (item.Field.FieldName == "chkOtherNo")
                        {
                            string Other = string.Empty;
                            if (docuementType == "Initial Filing")
                            {
                                //  Other = "On";
                            }

                            if (updateJobDocumentField == null)
                            {
                                JobDocumentField JobDocumentField = new JobDocumentField
                                {
                                    IdJobDocument = idJobDocument,
                                    IdDocumentField = Convert.ToInt32(item.Id),
                                    Value = Other,
                                    ActualValue = Other
                                };
                                rpoContext.JobDocumentFields.Add(JobDocumentField);
                            }
                            else
                            {
                                updateJobDocumentField.Value = Other;
                                updateJobDocumentField.ActualValue = Other;
                                rpoContext.Entry(updateJobDocumentField).State = EntityState.Modified;
                                rpoContext.SaveChanges();
                            }
                        }
                        else if (item.Field.FieldName == "chkLocalLawNo")
                        {
                            string LocalLaw = string.Empty;
                            if (docuementType == "Initial Filing")
                            {
                                //  LocalLaw = "On";
                            }

                            if (updateJobDocumentField == null)
                            {
                                JobDocumentField JobDocumentField = new JobDocumentField
                                {
                                    IdJobDocument = idJobDocument,
                                    IdDocumentField = Convert.ToInt32(item.Id),
                                    Value = LocalLaw,
                                    ActualValue = LocalLaw
                                };
                                rpoContext.JobDocumentFields.Add(JobDocumentField);
                            }
                            else
                            {
                                updateJobDocumentField.Value = LocalLaw;
                                updateJobDocumentField.ActualValue = LocalLaw;
                                rpoContext.Entry(updateJobDocumentField).State = EntityState.Modified;
                                rpoContext.SaveChanges();
                            }
                        }
                        else if (item.Field.FieldName == "chkRestrictive_Declaration_EasementNo")
                        {
                            string Restrictive_Declaration_Easement = string.Empty;
                            if (docuementType == "Initial Filing")
                            {
                                //  Restrictive_Declaration_Easement = "On";
                            }

                            if (updateJobDocumentField == null)
                            {
                                JobDocumentField JobDocumentField = new JobDocumentField
                                {
                                    IdJobDocument = idJobDocument,
                                    IdDocumentField = Convert.ToInt32(item.Id),
                                    Value = Restrictive_Declaration_Easement,
                                    ActualValue = Restrictive_Declaration_Easement
                                };
                                rpoContext.JobDocumentFields.Add(JobDocumentField);
                            }
                            else
                            {
                                updateJobDocumentField.Value = Restrictive_Declaration_Easement;
                                updateJobDocumentField.ActualValue = Restrictive_Declaration_Easement;
                                rpoContext.Entry(updateJobDocumentField).State = EntityState.Modified;
                                rpoContext.SaveChanges();
                            }
                        }
                        else if (item.Field.FieldName == "chkCRFNs_Zoning_ExhibitNo")
                        {
                            string CRFNs_Zoning_Exhibit = string.Empty;
                            if (docuementType == "Initial Filing")
                            {
                                //   CRFNs_Zoning_Exhibit = "On";
                            }

                            if (updateJobDocumentField == null)
                            {
                                JobDocumentField JobDocumentField = new JobDocumentField
                                {
                                    IdJobDocument = idJobDocument,
                                    IdDocumentField = Convert.ToInt32(item.Id),
                                    Value = CRFNs_Zoning_Exhibit,
                                    ActualValue = CRFNs_Zoning_Exhibit
                                };
                                rpoContext.JobDocumentFields.Add(JobDocumentField);
                            }
                            else
                            {
                                updateJobDocumentField.Value = CRFNs_Zoning_Exhibit;
                                updateJobDocumentField.ActualValue = CRFNs_Zoning_Exhibit;
                                rpoContext.Entry(updateJobDocumentField).State = EntityState.Modified;
                                rpoContext.SaveChanges();
                            }
                        }
                        else if (item.Field.FieldName == "chkBSANo")
                        {
                            string BSA = string.Empty;
                            if (docuementType == "Initial Filing")
                            {
                                // BSA = "On";
                            }

                            if (updateJobDocumentField == null)
                            {
                                JobDocumentField JobDocumentField = new JobDocumentField
                                {
                                    IdJobDocument = idJobDocument,
                                    IdDocumentField = Convert.ToInt32(item.Id),
                                    Value = BSA,
                                    ActualValue = BSA
                                };
                                rpoContext.JobDocumentFields.Add(JobDocumentField);
                            }
                            else
                            {
                                updateJobDocumentField.Value = BSA;
                                updateJobDocumentField.ActualValue = BSA;
                                rpoContext.Entry(updateJobDocumentField).State = EntityState.Modified;
                                rpoContext.SaveChanges();
                            }
                        }
                        else if (item.Field.FieldName == "chkCPCNo")
                        {
                            string CPC = string.Empty;
                            if (docuementType == "Initial Filing")
                            {
                                //  CPC = "On";
                            }

                            if (updateJobDocumentField == null)
                            {
                                JobDocumentField JobDocumentField = new JobDocumentField
                                {
                                    IdJobDocument = idJobDocument,
                                    IdDocumentField = Convert.ToInt32(item.Id),
                                    Value = CPC,
                                    ActualValue = CPC
                                };
                                rpoContext.JobDocumentFields.Add(JobDocumentField);
                            }
                            else
                            {
                                updateJobDocumentField.Value = CPC;
                                updateJobDocumentField.ActualValue = CPC;
                                rpoContext.Entry(updateJobDocumentField).State = EntityState.Modified;
                                rpoContext.SaveChanges();
                            }
                        }
                        else if (item.Field.FieldName == "chkLightingFixturesNo")
                        {
                            string LightingFixtures = string.Empty;
                            if (docuementType == "Initial Filing")
                            {
                                //  LightingFixtures = "On";
                            }

                            if (updateJobDocumentField == null)
                            {
                                JobDocumentField JobDocumentField = new JobDocumentField
                                {
                                    IdJobDocument = idJobDocument,
                                    IdDocumentField = Convert.ToInt32(item.Id),
                                    Value = LightingFixtures,
                                    ActualValue = LightingFixtures
                                };
                                rpoContext.JobDocumentFields.Add(JobDocumentField);
                            }
                            else
                            {
                                updateJobDocumentField.Value = LightingFixtures;
                                updateJobDocumentField.ActualValue = LightingFixtures;
                                rpoContext.Entry(updateJobDocumentField).State = EntityState.Modified;
                                rpoContext.SaveChanges();
                            }
                        }
                        else if (item.Field.FieldName == "chkModularConstructionStateNo")
                        {
                            string ModularConstructionState = string.Empty;
                            if (docuementType == "Initial Filing")
                            {
                                //  ModularConstructionState = "On";
                            }

                            if (updateJobDocumentField == null)
                            {
                                JobDocumentField JobDocumentField = new JobDocumentField
                                {
                                    IdJobDocument = idJobDocument,
                                    IdDocumentField = Convert.ToInt32(item.Id),
                                    Value = ModularConstructionState,
                                    ActualValue = ModularConstructionState
                                };
                                rpoContext.JobDocumentFields.Add(JobDocumentField);
                            }
                            else
                            {
                                updateJobDocumentField.Value = ModularConstructionState;
                                updateJobDocumentField.ActualValue = ModularConstructionState;
                                rpoContext.Entry(updateJobDocumentField).State = EntityState.Modified;
                                rpoContext.SaveChanges();
                            }
                        }
                        else if (item.Field.FieldName == "chkModularConstructionCityNo")
                        {
                            string ModularConstructionCity = string.Empty;
                            if (docuementType == "Initial Filing")
                            {
                                // ModularConstructionCity = "On";
                            }

                            if (updateJobDocumentField == null)
                            {
                                JobDocumentField JobDocumentField = new JobDocumentField
                                {
                                    IdJobDocument = idJobDocument,
                                    IdDocumentField = Convert.ToInt32(item.Id),
                                    Value = ModularConstructionCity,
                                    ActualValue = ModularConstructionCity
                                };
                                rpoContext.JobDocumentFields.Add(JobDocumentField);
                            }
                            else
                            {
                                updateJobDocumentField.Value = ModularConstructionCity;
                                updateJobDocumentField.ActualValue = ModularConstructionCity;
                                rpoContext.Entry(updateJobDocumentField).State = EntityState.Modified;
                                rpoContext.SaveChanges();
                            }
                        }
                        else if (item.Field.FieldName == "chkRemovalSSFSNo")
                        {
                            string RemovalSSFS = string.Empty;
                            if (docuementType == "Initial Filing")
                            {
                                //  RemovalSSFS = "On";
                            }

                            if (updateJobDocumentField == null)
                            {
                                JobDocumentField JobDocumentField = new JobDocumentField
                                {
                                    IdJobDocument = idJobDocument,
                                    IdDocumentField = Convert.ToInt32(item.Id),
                                    Value = RemovalSSFS,
                                    ActualValue = RemovalSSFS
                                };
                                rpoContext.JobDocumentFields.Add(JobDocumentField);
                            }
                            else
                            {
                                updateJobDocumentField.Value = RemovalSSFS;
                                updateJobDocumentField.ActualValue = RemovalSSFS;
                                rpoContext.Entry(updateJobDocumentField).State = EntityState.Modified;
                                rpoContext.SaveChanges();
                            }
                        }
                        else if (item.Field.FieldName == "chkPartialDemolitionNo")
                        {
                            string PartialDemolition = string.Empty;
                            if (docuementType == "Initial Filing")
                            {
                                //   PartialDemolition = "On";
                            }

                            if (updateJobDocumentField == null)
                            {
                                JobDocumentField JobDocumentField = new JobDocumentField
                                {
                                    IdJobDocument = idJobDocument,
                                    IdDocumentField = Convert.ToInt32(item.Id),
                                    Value = PartialDemolition,
                                    ActualValue = PartialDemolition
                                };
                                rpoContext.JobDocumentFields.Add(JobDocumentField);
                            }
                            else
                            {
                                updateJobDocumentField.Value = PartialDemolition;
                                updateJobDocumentField.ActualValue = PartialDemolition;
                                rpoContext.Entry(updateJobDocumentField).State = EntityState.Modified;
                                rpoContext.SaveChanges();
                            }
                        }
                        else if (item.Field.FieldName == "txtJob_Description")
                        {
                            string description = desc;
                            if (docuementType == "Post Approval Amendment" || docuementType == "Reinstatement" || docuementType == "Withdrwal - Entire Job" || docuementType == "Withdrwal - Partial")
                            {
                                description = string.Empty;
                            }

                            if (updateJobDocumentField == null)
                            {
                                JobDocumentField JobDocumentField = new JobDocumentField
                                {
                                    IdJobDocument = idJobDocument,
                                    IdDocumentField = Convert.ToInt32(item.Id),
                                    Value = description,
                                    ActualValue = description
                                };
                                rpoContext.JobDocumentFields.Add(JobDocumentField);
                            }
                            else
                            {
                                updateJobDocumentField.Value = description;
                                updateJobDocumentField.ActualValue = description;
                                rpoContext.Entry(updateJobDocumentField).State = EntityState.Modified;
                                rpoContext.SaveChanges();
                            }

                        }
                        else if (item.Field.FieldName == "txtHouseNo")
                        {
                            string houseNumber = job != null && job.RfpAddress != null ? job.RfpAddress.HouseNumber : string.Empty;

                            if (updateJobDocumentField == null)
                            {
                                JobDocumentField JobDocumentField = new JobDocumentField
                                {
                                    IdJobDocument = idJobDocument,
                                    IdDocumentField = Convert.ToInt32(item.Id),
                                    Value = houseNumber,
                                    ActualValue = houseNumber
                                };
                                rpoContext.JobDocumentFields.Add(JobDocumentField);
                            }
                            else
                            {
                                updateJobDocumentField.Value = houseNumber;
                                updateJobDocumentField.ActualValue = houseNumber;
                                rpoContext.Entry(updateJobDocumentField).State = EntityState.Modified;
                                rpoContext.SaveChanges();
                            }
                        }
                        else if (item.Field.FieldName == "txtStreet")
                        {
                            string street = job != null && job.RfpAddress != null ? job.RfpAddress.Street : string.Empty;

                            if (updateJobDocumentField == null)
                            {
                                JobDocumentField JobDocumentField = new JobDocumentField
                                {
                                    IdJobDocument = idJobDocument,
                                    IdDocumentField = Convert.ToInt32(item.Id),
                                    Value = street,
                                    ActualValue = street
                                };
                                rpoContext.JobDocumentFields.Add(JobDocumentField);
                            }
                            else
                            {
                                updateJobDocumentField.Value = street;
                                updateJobDocumentField.ActualValue = street;
                                rpoContext.Entry(updateJobDocumentField).State = EntityState.Modified;
                                rpoContext.SaveChanges();
                            }
                        }
                        else if (item.Field.FieldName == "txtBoro")
                        {

                            string borough = job != null && job.RfpAddress != null && job.RfpAddress.Borough != null ? job.RfpAddress.Borough.Description : string.Empty;

                            if (updateJobDocumentField == null)
                            {
                                JobDocumentField JobDocumentField = new JobDocumentField
                                {
                                    IdJobDocument = idJobDocument,
                                    IdDocumentField = Convert.ToInt32(item.Id),
                                    Value = borough,
                                    ActualValue = borough
                                };
                                rpoContext.JobDocumentFields.Add(JobDocumentField);
                            }
                            else
                            {
                                updateJobDocumentField.Value = borough;
                                updateJobDocumentField.ActualValue = borough;
                                rpoContext.Entry(updateJobDocumentField).State = EntityState.Modified;
                                rpoContext.SaveChanges();
                            }
                        }
                        else if (item.Field.FieldName == "txtBlock")
                        {
                            string block = job != null && job.RfpAddress != null ? job.RfpAddress.Block : string.Empty;
                            if (updateJobDocumentField == null)
                            {
                                JobDocumentField JobDocumentField = new JobDocumentField
                                {
                                    IdJobDocument = idJobDocument,
                                    IdDocumentField = Convert.ToInt32(item.Id),
                                    Value = block,
                                    ActualValue = block
                                };
                                rpoContext.JobDocumentFields.Add(JobDocumentField);
                            }
                            else
                            {
                                updateJobDocumentField.Value = block;
                                updateJobDocumentField.ActualValue = block;
                                rpoContext.Entry(updateJobDocumentField).State = EntityState.Modified;
                                rpoContext.SaveChanges();
                            }
                        }
                        else if (item.Field.FieldName == "txtLot")
                        {

                            string lot = job != null && job.RfpAddress != null ? job.RfpAddress.Lot : string.Empty;
                            if (updateJobDocumentField == null)
                            {
                                JobDocumentField JobDocumentField = new JobDocumentField
                                {
                                    IdJobDocument = idJobDocument,
                                    IdDocumentField = Convert.ToInt32(item.Id),
                                    Value = lot,
                                    ActualValue = lot
                                };
                                rpoContext.JobDocumentFields.Add(JobDocumentField);
                            }
                            else
                            {
                                updateJobDocumentField.Value = lot;
                                updateJobDocumentField.ActualValue = lot;
                                rpoContext.Entry(updateJobDocumentField).State = EntityState.Modified;
                                rpoContext.SaveChanges();
                            }
                        }
                        else if (item.Field.FieldName == "txtBIN")
                        {
                            string binNumber = job != null && job.RfpAddress != null ? job.RfpAddress.BinNumber : string.Empty;
                            if (updateJobDocumentField == null)
                            {
                                JobDocumentField JobDocumentField = new JobDocumentField
                                {
                                    IdJobDocument = idJobDocument,
                                    IdDocumentField = Convert.ToInt32(item.Id),
                                    Value = binNumber,
                                    ActualValue = binNumber
                                };
                                rpoContext.JobDocumentFields.Add(JobDocumentField);
                            }
                            else
                            {
                                updateJobDocumentField.Value = binNumber;
                                updateJobDocumentField.ActualValue = binNumber;
                                rpoContext.Entry(updateJobDocumentField).State = EntityState.Modified;
                                rpoContext.SaveChanges();
                            }
                        }
                        else if (item.Field.FieldName == "txtCB")
                        {
                            string comunityBoardNumber = job != null && job.RfpAddress != null ? job.RfpAddress.ComunityBoardNumber : string.Empty;

                            if (updateJobDocumentField == null)
                            {
                                JobDocumentField JobDocumentField = new JobDocumentField
                                {
                                    IdJobDocument = idJobDocument,
                                    IdDocumentField = Convert.ToInt32(item.Id),
                                    Value = comunityBoardNumber,
                                    ActualValue = comunityBoardNumber
                                };
                                rpoContext.JobDocumentFields.Add(JobDocumentField);
                            }
                            else
                            {
                                updateJobDocumentField.Value = comunityBoardNumber;
                                updateJobDocumentField.ActualValue = comunityBoardNumber;
                                rpoContext.Entry(updateJobDocumentField).State = EntityState.Modified;
                                rpoContext.SaveChanges();
                            }
                        }
                        else if (item.Field.FieldName == "txtFloors")
                        {
                            if (updateJobDocumentField == null)
                            {
                                JobDocumentField JobDocumentField = new JobDocumentField
                                {
                                    IdJobDocument = idJobDocument,
                                    IdDocumentField = Convert.ToInt32(item.Id),
                                    Value = floorWorkingOn,
                                    ActualValue = floorWorkingOn
                                };
                                rpoContext.JobDocumentFields.Add(JobDocumentField);
                            }
                            else
                            {
                                updateJobDocumentField.Value = floorWorkingOn;
                                updateJobDocumentField.ActualValue = floorWorkingOn;
                                rpoContext.Entry(updateJobDocumentField).State = EntityState.Modified;
                                rpoContext.SaveChanges();
                            }
                        }
                        else if (item.Field.FieldName == "txtApt")
                        {
                            string aptNo = job != null && job.RfpAddress != null ? job.Apartment : string.Empty;

                            if (updateJobDocumentField == null)
                            {
                                JobDocumentField JobDocumentField = new JobDocumentField
                                {
                                    IdJobDocument = idJobDocument,
                                    IdDocumentField = Convert.ToInt32(item.Id),
                                    Value = aptNo,
                                    ActualValue = aptNo
                                };
                                rpoContext.JobDocumentFields.Add(JobDocumentField);
                            }
                            else
                            {
                                updateJobDocumentField.Value = aptNo;
                                updateJobDocumentField.ActualValue = aptNo;
                                rpoContext.Entry(updateJobDocumentField).State = EntityState.Modified;
                                rpoContext.SaveChanges();
                            }
                        }
                        else if (item.Field.FieldName == "txtLast")
                        {
                            if (updateJobDocumentField == null)
                            {
                                JobDocumentField JobDocumentField = new JobDocumentField
                                {
                                    IdJobDocument = idJobDocument,
                                    IdDocumentField = Convert.ToInt32(item.Id),
                                    Value = applicantLastName,
                                    ActualValue = applicantLastName
                                };
                                rpoContext.JobDocumentFields.Add(JobDocumentField);
                            }
                            else
                            {
                                updateJobDocumentField.Value = applicantLastName;
                                updateJobDocumentField.ActualValue = applicantLastName;
                                rpoContext.Entry(updateJobDocumentField).State = EntityState.Modified;
                                rpoContext.SaveChanges();
                            }
                        }
                        else if (item.Field.FieldName == "txtFirst")
                        {
                            if (updateJobDocumentField == null)
                            {
                                JobDocumentField JobDocumentField = new JobDocumentField
                                {
                                    IdJobDocument = idJobDocument,
                                    IdDocumentField = Convert.ToInt32(item.Id),
                                    Value = applicantFirstName,
                                    ActualValue = applicantFirstName
                                };
                                rpoContext.JobDocumentFields.Add(JobDocumentField);
                            }
                            else
                            {
                                updateJobDocumentField.Value = applicantFirstName;
                                updateJobDocumentField.ActualValue = applicantFirstName;
                                rpoContext.Entry(updateJobDocumentField).State = EntityState.Modified;
                                rpoContext.SaveChanges();
                            }
                        }
                        else if (item.Field.FieldName == "txtMI")
                        {
                            if (updateJobDocumentField == null)
                            {
                                JobDocumentField JobDocumentField = new JobDocumentField
                                {
                                    IdJobDocument = idJobDocument,
                                    IdDocumentField = Convert.ToInt32(item.Id),
                                    Value = applicantMiddleName,
                                    ActualValue = applicantMiddleName
                                };
                                rpoContext.JobDocumentFields.Add(JobDocumentField);
                            }
                            else
                            {
                                updateJobDocumentField.Value = applicantMiddleName;
                                updateJobDocumentField.ActualValue = applicantMiddleName;
                                rpoContext.Entry(updateJobDocumentField).State = EntityState.Modified;
                                rpoContext.SaveChanges();
                            }
                        }
                        else if (item.Field.FieldName == "txtCompany")
                        {
                            if (updateJobDocumentField == null)
                            {
                                JobDocumentField JobDocumentField = new JobDocumentField
                                {
                                    IdJobDocument = idJobDocument,
                                    IdDocumentField = Convert.ToInt32(item.Id),
                                    Value = contactcompany,
                                    ActualValue = contactcompany
                                };
                                rpoContext.JobDocumentFields.Add(JobDocumentField);
                            }
                            else
                            {
                                updateJobDocumentField.Value = contactcompany;
                                updateJobDocumentField.ActualValue = contactcompany;
                                rpoContext.Entry(updateJobDocumentField).State = EntityState.Modified;
                                rpoContext.SaveChanges();
                            }
                        }
                        else if (item.Field.FieldName == "txtPhone")
                        {
                            if (updateJobDocumentField == null)
                            {
                                JobDocumentField JobDocumentField = new JobDocumentField
                                {
                                    IdJobDocument = idJobDocument,
                                    IdDocumentField = Convert.ToInt32(item.Id),
                                    Value = contactMobilePhone,
                                    ActualValue = contactMobilePhone
                                };
                                rpoContext.JobDocumentFields.Add(JobDocumentField);
                            }
                            else
                            {
                                updateJobDocumentField.Value = contactMobilePhone;
                                updateJobDocumentField.ActualValue = contactMobilePhone;
                                rpoContext.Entry(updateJobDocumentField).State = EntityState.Modified;
                                rpoContext.SaveChanges();
                            }
                        }
                        else if (item.Field.FieldName == "txtAddress")
                        {
                            if (updateJobDocumentField == null)
                            {
                                JobDocumentField JobDocumentField = new JobDocumentField
                                {
                                    IdJobDocument = idJobDocument,
                                    IdDocumentField = Convert.ToInt32(item.Id),
                                    Value = businessAddress,
                                    ActualValue = businessAddress
                                };
                                rpoContext.JobDocumentFields.Add(JobDocumentField);
                            }
                            else
                            {
                                updateJobDocumentField.Value = businessAddress;
                                updateJobDocumentField.ActualValue = businessAddress;
                                rpoContext.Entry(updateJobDocumentField).State = EntityState.Modified;
                                rpoContext.SaveChanges();
                            }
                        }
                        else if (item.Field.FieldName == "txtFax")
                        {
                            if (updateJobDocumentField == null)
                            {
                                JobDocumentField JobDocumentField = new JobDocumentField
                                {
                                    IdJobDocument = idJobDocument,
                                    IdDocumentField = Convert.ToInt32(item.Id),
                                    Value = string.Empty,
                                    ActualValue = string.Empty
                                };
                                rpoContext.JobDocumentFields.Add(JobDocumentField);
                            }
                            else
                            {
                                updateJobDocumentField.Value = string.Empty;
                                updateJobDocumentField.ActualValue = string.Empty;
                                rpoContext.Entry(updateJobDocumentField).State = EntityState.Modified;
                                rpoContext.SaveChanges();
                            }
                        }
                        else if (item.Field.FieldName == "txtCity")
                        {
                            if (updateJobDocumentField == null)
                            {
                                JobDocumentField JobDocumentField = new JobDocumentField
                                {
                                    IdJobDocument = idJobDocument,
                                    IdDocumentField = Convert.ToInt32(item.Id),
                                    Value = businessCity,
                                    ActualValue = businessCity
                                };
                                rpoContext.JobDocumentFields.Add(JobDocumentField);
                            }
                            else
                            {
                                updateJobDocumentField.Value = businessCity;
                                updateJobDocumentField.ActualValue = businessCity;
                                rpoContext.Entry(updateJobDocumentField).State = EntityState.Modified;
                                rpoContext.SaveChanges();
                            }
                        }
                        else if (item.Field.FieldName == "txtState")
                        {
                            if (updateJobDocumentField == null)
                            {
                                JobDocumentField JobDocumentField = new JobDocumentField
                                {
                                    IdJobDocument = idJobDocument,
                                    IdDocumentField = Convert.ToInt32(item.Id),
                                    Value = businessState,
                                    ActualValue = businessState
                                };
                                rpoContext.JobDocumentFields.Add(JobDocumentField);
                            }
                            else
                            {
                                updateJobDocumentField.Value = businessState;
                                updateJobDocumentField.ActualValue = businessState;
                                rpoContext.Entry(updateJobDocumentField).State = EntityState.Modified;
                                rpoContext.SaveChanges();
                            }
                        }
                        else if (item.Field.FieldName == "txtZip")
                        {
                            if (updateJobDocumentField == null)
                            {
                                JobDocumentField JobDocumentField = new JobDocumentField
                                {
                                    IdJobDocument = idJobDocument,
                                    IdDocumentField = Convert.ToInt32(item.Id),
                                    Value = businessZip,
                                    ActualValue = businessZip
                                };
                                rpoContext.JobDocumentFields.Add(JobDocumentField);
                            }
                            else
                            {
                                updateJobDocumentField.Value = businessZip;
                                updateJobDocumentField.ActualValue = businessZip;
                                rpoContext.Entry(updateJobDocumentField).State = EntityState.Modified;
                                rpoContext.SaveChanges();
                            }
                        }
                        else if (item.Field.FieldName == "txtMobilePhone")
                        {
                            if (updateJobDocumentField == null)
                            {
                                JobDocumentField JobDocumentField = new JobDocumentField
                                {
                                    IdJobDocument = idJobDocument,
                                    IdDocumentField = Convert.ToInt32(item.Id),
                                    Value = applicantmobilenumber,
                                    ActualValue = applicantmobilenumber
                                };
                                rpoContext.JobDocumentFields.Add(JobDocumentField);
                            }
                            else
                            {
                                updateJobDocumentField.Value = applicantmobilenumber;
                                updateJobDocumentField.ActualValue = applicantmobilenumber;
                                rpoContext.Entry(updateJobDocumentField).State = EntityState.Modified;
                                rpoContext.SaveChanges();
                            }
                        }
                        else if (item.Field.FieldName == "txtEMail")
                        {
                            if (updateJobDocumentField == null)
                            {
                                JobDocumentField JobDocumentField = new JobDocumentField
                                {
                                    IdJobDocument = idJobDocument,
                                    IdDocumentField = Convert.ToInt32(item.Id),
                                    Value = contactEmail,
                                    ActualValue = contactEmail
                                };
                                rpoContext.JobDocumentFields.Add(JobDocumentField);
                            }
                            else
                            {
                                updateJobDocumentField.Value = contactEmail;
                                updateJobDocumentField.ActualValue = contactEmail;
                                rpoContext.Entry(updateJobDocumentField).State = EntityState.Modified;
                                rpoContext.SaveChanges();
                            }
                        }
                        else if (item.Field.FieldName == "txtLic_No")
                        {
                            if (updateJobDocumentField == null)
                            {
                                JobDocumentField JobDocumentField = new JobDocumentField
                                {
                                    IdJobDocument = idJobDocument,
                                    IdDocumentField = Convert.ToInt32(item.Id),
                                    Value = contactLic_No,
                                    ActualValue = contactLic_No
                                };
                                rpoContext.JobDocumentFields.Add(JobDocumentField);
                            }
                            else
                            {
                                updateJobDocumentField.Value = contactLic_No;
                                updateJobDocumentField.ActualValue = contactLic_No;
                                rpoContext.Entry(updateJobDocumentField).State = EntityState.Modified;
                                rpoContext.SaveChanges();
                            }
                        }
                        else if (item.Field.FieldName == "chkPE")
                        {
                            if (updateJobDocumentField == null)
                            {
                                JobDocumentField JobDocumentField = new JobDocumentField
                                {
                                    IdJobDocument = idJobDocument,
                                    IdDocumentField = Convert.ToInt32(item.Id),
                                    Value = contactLic_state_engineer,
                                    ActualValue = contactLic_state_engineer
                                };
                                rpoContext.JobDocumentFields.Add(JobDocumentField);
                            }
                            else
                            {
                                updateJobDocumentField.Value = contactLic_state_engineer;
                                updateJobDocumentField.ActualValue = contactLic_state_engineer;
                                rpoContext.Entry(updateJobDocumentField).State = EntityState.Modified;
                                rpoContext.SaveChanges();
                            }
                        }
                        else if (item.Field.FieldName == "chkRA")
                        {
                            if (updateJobDocumentField == null)
                            {
                                JobDocumentField JobDocumentField = new JobDocumentField
                                {
                                    IdJobDocument = idJobDocument,
                                    IdDocumentField = Convert.ToInt32(item.Id),
                                    Value = contactLic_state_architect,
                                    ActualValue = contactLic_state_architect
                                };
                                rpoContext.JobDocumentFields.Add(JobDocumentField);
                            }
                            else
                            {
                                updateJobDocumentField.Value = contactLic_state_architect;
                                updateJobDocumentField.ActualValue = contactLic_state_architect;
                                rpoContext.Entry(updateJobDocumentField).State = EntityState.Modified;
                                rpoContext.SaveChanges();
                            }
                        }
                        else if (item.Field.FieldName == "chkSH")
                        {
                            if (updateJobDocumentField == null)
                            {
                                JobDocumentField JobDocumentField = new JobDocumentField
                                {
                                    IdJobDocument = idJobDocument,
                                    IdDocumentField = Convert.ToInt32(item.Id),
                                    Value = string.Empty,
                                    ActualValue = string.Empty
                                };
                                rpoContext.JobDocumentFields.Add(JobDocumentField);
                            }
                            else
                            {
                                updateJobDocumentField.Value = string.Empty;
                                updateJobDocumentField.ActualValue = string.Empty;
                                rpoContext.Entry(updateJobDocumentField).State = EntityState.Modified;
                                rpoContext.SaveChanges();
                            }
                        }
                        else if (item.Field.FieldName == "chkLic_Other")
                        {
                            if (updateJobDocumentField == null)
                            {
                                JobDocumentField JobDocumentField = new JobDocumentField
                                {
                                    IdJobDocument = idJobDocument,
                                    IdDocumentField = Convert.ToInt32(item.Id),
                                    Value = string.Empty,
                                    ActualValue = string.Empty
                                };
                                rpoContext.JobDocumentFields.Add(JobDocumentField);
                            }
                            else
                            {
                                updateJobDocumentField.Value = string.Empty;
                                updateJobDocumentField.ActualValue = string.Empty;
                                rpoContext.Entry(updateJobDocumentField).State = EntityState.Modified;
                                rpoContext.SaveChanges();
                            }
                        }
                        else if (item.Field.FieldName == "txtOtherLic_Type")
                        {
                            if (updateJobDocumentField == null)
                            {
                                JobDocumentField JobDocumentField = new JobDocumentField
                                {
                                    IdJobDocument = idJobDocument,
                                    IdDocumentField = Convert.ToInt32(item.Id),
                                    Value = string.Empty,
                                    ActualValue = string.Empty
                                };
                                rpoContext.JobDocumentFields.Add(JobDocumentField);
                            }
                            else
                            {
                                updateJobDocumentField.Value = string.Empty;
                                updateJobDocumentField.ActualValue = string.Empty;
                                rpoContext.Entry(updateJobDocumentField).State = EntityState.Modified;
                                rpoContext.SaveChanges();
                            }
                        }
                        else if (item.Field.FieldName == "txtFR_Last")
                        {
                            if (updateJobDocumentField == null)
                            {
                                JobDocumentField JobDocumentField = new JobDocumentField
                                {
                                    IdJobDocument = idJobDocument,
                                    IdDocumentField = Convert.ToInt32(item.Id),
                                    Value = filingRepresentativelastname,
                                    ActualValue = filingRepresentativelastname
                                };
                                rpoContext.JobDocumentFields.Add(JobDocumentField);
                            }
                            else
                            {
                                updateJobDocumentField.Value = filingRepresentativelastname;
                                updateJobDocumentField.ActualValue = filingRepresentativelastname;
                                rpoContext.Entry(updateJobDocumentField).State = EntityState.Modified;
                                rpoContext.SaveChanges();
                            }
                        }
                        else if (item.Field.FieldName == "txtFR_First")
                        {
                            if (updateJobDocumentField == null)
                            {
                                JobDocumentField JobDocumentField = new JobDocumentField
                                {
                                    IdJobDocument = idJobDocument,
                                    IdDocumentField = Convert.ToInt32(item.Id),
                                    Value = filingRepresentativefirstname,
                                    ActualValue = filingRepresentativefirstname
                                };
                                rpoContext.JobDocumentFields.Add(JobDocumentField);
                            }
                            else
                            {
                                updateJobDocumentField.Value = filingRepresentativefirstname;
                                updateJobDocumentField.ActualValue = filingRepresentativefirstname;
                                rpoContext.Entry(updateJobDocumentField).State = EntityState.Modified;
                                rpoContext.SaveChanges();
                            }
                        }
                        else if (item.Field.FieldName == "txtFR_MI")
                        {
                            if (updateJobDocumentField == null)
                            {
                                JobDocumentField JobDocumentField = new JobDocumentField
                                {
                                    IdJobDocument = idJobDocument,
                                    IdDocumentField = Convert.ToInt32(item.Id),
                                    Value = string.Empty,
                                    ActualValue = string.Empty
                                };
                                rpoContext.JobDocumentFields.Add(JobDocumentField);
                            }
                            else
                            {
                                updateJobDocumentField.Value = string.Empty;
                                updateJobDocumentField.ActualValue = string.Empty;
                                rpoContext.Entry(updateJobDocumentField).State = EntityState.Modified;
                                rpoContext.SaveChanges();
                            }
                        }
                        else if (item.Field.FieldName == "txtFR_Company")
                        {
                            if (updateJobDocumentField == null)
                            {
                                JobDocumentField JobDocumentField = new JobDocumentField
                                {
                                    IdJobDocument = idJobDocument,
                                    IdDocumentField = Convert.ToInt32(item.Id),
                                    Value = filingRepresentativeCompany,
                                    ActualValue = filingRepresentativeCompany
                                };
                                rpoContext.JobDocumentFields.Add(JobDocumentField);
                            }
                            else
                            {
                                updateJobDocumentField.Value = filingRepresentativeCompany;
                                updateJobDocumentField.ActualValue = filingRepresentativeCompany;
                                rpoContext.Entry(updateJobDocumentField).State = EntityState.Modified;
                                rpoContext.SaveChanges();
                            }
                        }
                        else if (item.Field.FieldName == "txtFR_Phone")
                        {
                            if (updateJobDocumentField == null)
                            {
                                JobDocumentField JobDocumentField = new JobDocumentField
                                {
                                    IdJobDocument = idJobDocument,
                                    IdDocumentField = Convert.ToInt32(item.Id),
                                    Value = filingRepresentativePhone,
                                    ActualValue = filingRepresentativePhone
                                };
                                rpoContext.JobDocumentFields.Add(JobDocumentField);
                            }
                            else
                            {
                                updateJobDocumentField.Value = filingRepresentativePhone;
                                updateJobDocumentField.ActualValue = filingRepresentativePhone;
                                rpoContext.Entry(updateJobDocumentField).State = EntityState.Modified;
                                rpoContext.SaveChanges();
                            }
                        }
                        else if (item.Field.FieldName == "txtFR_Address")
                        {
                            if (updateJobDocumentField == null)
                            {
                                JobDocumentField JobDocumentField = new JobDocumentField
                                {
                                    IdJobDocument = idJobDocument,
                                    IdDocumentField = Convert.ToInt32(item.Id),
                                    Value = filingRepresentativeaddress,
                                    ActualValue = filingRepresentativeaddress
                                };
                                rpoContext.JobDocumentFields.Add(JobDocumentField);
                            }
                            else
                            {
                                updateJobDocumentField.Value = filingRepresentativeaddress;
                                updateJobDocumentField.ActualValue = filingRepresentativeaddress;
                                rpoContext.Entry(updateJobDocumentField).State = EntityState.Modified;
                                rpoContext.SaveChanges();
                            }
                        }
                        else if (item.Field.FieldName == "txtFR_Fax")
                        {
                            if (updateJobDocumentField == null)
                            {
                                JobDocumentField JobDocumentField = new JobDocumentField
                                {
                                    IdJobDocument = idJobDocument,
                                    IdDocumentField = Convert.ToInt32(item.Id),
                                    Value = string.Empty,
                                    ActualValue = string.Empty
                                };
                                rpoContext.JobDocumentFields.Add(JobDocumentField);
                            }
                            else
                            {
                                updateJobDocumentField.Value = string.Empty;
                                updateJobDocumentField.ActualValue = string.Empty;
                                rpoContext.Entry(updateJobDocumentField).State = EntityState.Modified;
                                rpoContext.SaveChanges();
                            }
                        }
                        else if (item.Field.FieldName == "txtFR_City")
                        {
                            if (updateJobDocumentField == null)
                            {
                                JobDocumentField JobDocumentField = new JobDocumentField
                                {
                                    IdJobDocument = idJobDocument,
                                    IdDocumentField = Convert.ToInt32(item.Id),
                                    Value = filingRepresentativecity,
                                    ActualValue = filingRepresentativecity
                                };
                                rpoContext.JobDocumentFields.Add(JobDocumentField);
                            }
                            else
                            {
                                updateJobDocumentField.Value = filingRepresentativecity;
                                updateJobDocumentField.ActualValue = filingRepresentativecity;
                                rpoContext.Entry(updateJobDocumentField).State = EntityState.Modified;
                                rpoContext.SaveChanges();
                            }
                        }
                        else if (item.Field.FieldName == "txtFR_State")
                        {
                            if (updateJobDocumentField == null)
                            {
                                JobDocumentField JobDocumentField = new JobDocumentField
                                {
                                    IdJobDocument = idJobDocument,
                                    IdDocumentField = Convert.ToInt32(item.Id),
                                    Value = filingRepresentativestate,
                                    ActualValue = filingRepresentativestate
                                };
                                rpoContext.JobDocumentFields.Add(JobDocumentField);
                            }
                            else
                            {
                                updateJobDocumentField.Value = filingRepresentativestate;
                                updateJobDocumentField.ActualValue = filingRepresentativestate;
                                rpoContext.Entry(updateJobDocumentField).State = EntityState.Modified;
                                rpoContext.SaveChanges();
                            }
                        }
                        else if (item.Field.FieldName == "txtFR_Zip")
                        {
                            if (updateJobDocumentField == null)
                            {
                                JobDocumentField JobDocumentField = new JobDocumentField
                                {
                                    IdJobDocument = idJobDocument,
                                    IdDocumentField = Convert.ToInt32(item.Id),
                                    Value = filingRepresentativezip,
                                    ActualValue = filingRepresentativezip
                                };
                                rpoContext.JobDocumentFields.Add(JobDocumentField);
                            }
                            else
                            {
                                updateJobDocumentField.Value = filingRepresentativezip;
                                updateJobDocumentField.ActualValue = filingRepresentativezip;
                                rpoContext.Entry(updateJobDocumentField).State = EntityState.Modified;
                                rpoContext.SaveChanges();
                            }
                        }
                        else if (item.Field.FieldName == "txtFR_MobilePhone")
                        {
                            if (updateJobDocumentField == null)
                            {
                                JobDocumentField JobDocumentField = new JobDocumentField
                                {
                                    IdJobDocument = idJobDocument,
                                    IdDocumentField = Convert.ToInt32(item.Id),
                                    Value = filingRepresentativemobile,
                                    ActualValue = filingRepresentativemobile
                                };
                                rpoContext.JobDocumentFields.Add(JobDocumentField);
                            }
                            else
                            {
                                updateJobDocumentField.Value = filingRepresentativemobile;
                                updateJobDocumentField.ActualValue = filingRepresentativemobile;
                                rpoContext.Entry(updateJobDocumentField).State = EntityState.Modified;
                                rpoContext.SaveChanges();
                            }
                        }
                        else if (item.Field.FieldName == "txtFR_EMail")
                        {
                            if (updateJobDocumentField == null)
                            {
                                JobDocumentField JobDocumentField = new JobDocumentField
                                {
                                    IdJobDocument = idJobDocument,
                                    IdDocumentField = Convert.ToInt32(item.Id),
                                    Value = filingRepresentativeEmail,
                                    ActualValue = filingRepresentativeEmail
                                };
                                rpoContext.JobDocumentFields.Add(JobDocumentField);
                            }
                            else
                            {
                                updateJobDocumentField.Value = filingRepresentativeEmail;
                                updateJobDocumentField.ActualValue = filingRepresentativeEmail;
                                rpoContext.Entry(updateJobDocumentField).State = EntityState.Modified;
                                rpoContext.SaveChanges();
                            }
                        }
                        else if (item.Field.FieldName == "txtFR_RegNo")
                        {
                            if (updateJobDocumentField == null)
                            {
                                JobDocumentField JobDocumentField = new JobDocumentField
                                {
                                    IdJobDocument = idJobDocument,
                                    IdDocumentField = Convert.ToInt32(item.Id),
                                    Value = filingRepresentativRegnumber,
                                    ActualValue = filingRepresentativRegnumber
                                };
                                rpoContext.JobDocumentFields.Add(JobDocumentField);
                            }
                            else
                            {
                                updateJobDocumentField.Value = filingRepresentativRegnumber;
                                updateJobDocumentField.ActualValue = filingRepresentativRegnumber;
                                rpoContext.Entry(updateJobDocumentField).State = EntityState.Modified;
                                rpoContext.SaveChanges();
                            }
                        }
                        else if (item.Field.FieldName == "chkwIF")
                        {
                            string initialfiling = string.Empty;

                            if (docuementType == "Initial Filing")
                            {
                                initialfiling = "1";

                            }

                            if (updateJobDocumentField == null)
                            {
                                JobDocumentField JobDocumentField = new JobDocumentField
                                {
                                    IdJobDocument = idJobDocument,
                                    IdDocumentField = Convert.ToInt32(item.Id),
                                    Value = initialfiling,
                                    ActualValue = initialfiling
                                };
                                rpoContext.JobDocumentFields.Add(JobDocumentField);
                            }
                            else
                            {
                                updateJobDocumentField.Value = initialfiling;
                                updateJobDocumentField.ActualValue = initialfiling;
                                rpoContext.Entry(updateJobDocumentField).State = EntityState.Modified;
                                rpoContext.SaveChanges();
                            }
                        }
                        else if (item.Field.FieldName == "chkwPA")
                        {
                            string postapproval = string.Empty;

                            if (docuementType == "Initial Filing")
                            {

                                postapproval = string.Empty;

                            }
                            if (docuementType == "Post Approval Amendment")
                            {
                                postapproval = "1";
                            }

                            if (updateJobDocumentField == null)
                            {
                                JobDocumentField JobDocumentField = new JobDocumentField
                                {
                                    IdJobDocument = idJobDocument,
                                    IdDocumentField = Convert.ToInt32(item.Id),
                                    Value = postapproval,
                                    ActualValue = postapproval
                                };
                                rpoContext.JobDocumentFields.Add(JobDocumentField);
                            }
                            else
                            {
                                updateJobDocumentField.Value = postapproval;
                                updateJobDocumentField.ActualValue = postapproval;
                                rpoContext.Entry(updateJobDocumentField).State = EntityState.Modified;
                                rpoContext.SaveChanges();
                            }
                        }

                        else if (item.Field.FieldName == "txtExisting_OC")
                        {
                            string OccupancyClassification = job != null && job.RfpAddress != null && job.RfpAddress.OccupancyClassification != null ? job.RfpAddress.OccupancyClassification.Code : string.Empty;

                            if (updateJobDocumentField == null)
                            {
                                JobDocumentField JobDocumentField = new JobDocumentField
                                {
                                    IdJobDocument = idJobDocument,
                                    IdDocumentField = Convert.ToInt32(item.Id),
                                    Value = OccupancyClassification,
                                    ActualValue = OccupancyClassification
                                };
                                rpoContext.JobDocumentFields.Add(JobDocumentField);
                            }
                            else
                            {
                                updateJobDocumentField.Value = OccupancyClassification;
                                updateJobDocumentField.ActualValue = OccupancyClassification;
                                rpoContext.Entry(updateJobDocumentField).State = EntityState.Modified;
                                rpoContext.SaveChanges();
                            }
                        }

                        else if (item.Field.FieldName == "txtExisting_CC")
                        {
                            string ConstructionClassification = job != null && job.RfpAddress != null && job.RfpAddress.ConstructionClassification != null ? job.RfpAddress.ConstructionClassification.Code : string.Empty;

                            if (updateJobDocumentField == null)
                            {
                                JobDocumentField JobDocumentField = new JobDocumentField
                                {
                                    IdJobDocument = idJobDocument,
                                    IdDocumentField = Convert.ToInt32(item.Id),
                                    Value = ConstructionClassification,
                                    ActualValue = ConstructionClassification
                                };
                                rpoContext.JobDocumentFields.Add(JobDocumentField);
                            }
                            else
                            {
                                updateJobDocumentField.Value = ConstructionClassification;
                                updateJobDocumentField.ActualValue = ConstructionClassification;
                                rpoContext.Entry(updateJobDocumentField).State = EntityState.Modified;
                                rpoContext.SaveChanges();
                            }


                        }
                        else if (item.Field.FieldName == "txtExisting_MDC")
                        {
                            string DwellingClassification = job != null && job.RfpAddress != null && job.RfpAddress.MultipleDwellingClassification != null ? job.RfpAddress.MultipleDwellingClassification.Code : string.Empty;

                            if (updateJobDocumentField == null)
                            {
                                JobDocumentField JobDocumentField = new JobDocumentField
                                {
                                    IdJobDocument = idJobDocument,
                                    IdDocumentField = Convert.ToInt32(item.Id),
                                    Value = DwellingClassification,
                                    ActualValue = DwellingClassification
                                };
                                rpoContext.JobDocumentFields.Add(JobDocumentField);
                            }
                            else
                            {
                                updateJobDocumentField.Value = DwellingClassification;
                                updateJobDocumentField.ActualValue = DwellingClassification;
                                rpoContext.Entry(updateJobDocumentField).State = EntityState.Modified;
                                rpoContext.SaveChanges();
                            }

                        }
                        else if (item.Field.FieldName == "chkExisting_OC_2014_Yes")
                        {

                            //  string Existing_OC = "On";
                            string Existing_OC = string.Empty;

                            if (updateJobDocumentField == null)
                            {
                                JobDocumentField JobDocumentField = new JobDocumentField
                                {
                                    IdJobDocument = idJobDocument,
                                    IdDocumentField = Convert.ToInt32(item.Id),
                                    Value = Existing_OC,
                                    ActualValue = Existing_OC
                                };
                                rpoContext.JobDocumentFields.Add(JobDocumentField);
                            }
                            else
                            {
                                updateJobDocumentField.Value = Existing_OC;
                                updateJobDocumentField.ActualValue = Existing_OC;
                                rpoContext.Entry(updateJobDocumentField).State = EntityState.Modified;
                                rpoContext.SaveChanges();
                            }

                        }
                        else if (item.Field.FieldName == "chkExisting_CC_2014_Yes")
                        {

                            //  string Existing_CC_2008 = "On";
                            string Existing_CC_2008 = string.Empty;

                            if (updateJobDocumentField == null)
                            {
                                JobDocumentField JobDocumentField = new JobDocumentField
                                {
                                    IdJobDocument = idJobDocument,
                                    IdDocumentField = Convert.ToInt32(item.Id),
                                    Value = Existing_CC_2008,
                                    ActualValue = Existing_CC_2008
                                };
                                rpoContext.JobDocumentFields.Add(JobDocumentField);
                            }
                            else
                            {
                                updateJobDocumentField.Value = Existing_CC_2008;
                                updateJobDocumentField.ActualValue = Existing_CC_2008;
                                rpoContext.Entry(updateJobDocumentField).State = EntityState.Modified;
                                rpoContext.SaveChanges();
                            }

                        }


                        else if (item.Field.FieldName == "txtExisting_Height")
                        {
                            int? intheight = job != null && job.RfpAddress != null ? job.RfpAddress.Feet : 0;
                            string height = Convert.ToString(intheight);
                            if (intheight == 0)
                            {
                                height = string.Empty;
                            }
                            if (updateJobDocumentField == null)
                            {
                                JobDocumentField JobDocumentField = new JobDocumentField
                                {
                                    IdJobDocument = idJobDocument,
                                    IdDocumentField = Convert.ToInt32(item.Id),
                                    Value = height,
                                    ActualValue = height
                                };
                                rpoContext.JobDocumentFields.Add(JobDocumentField);
                            }
                            else
                            {
                                updateJobDocumentField.Value = height;
                                updateJobDocumentField.ActualValue = height;
                                rpoContext.Entry(updateJobDocumentField).State = EntityState.Modified;
                                rpoContext.SaveChanges();
                            }
                        }
                        else if (item.Field.FieldName == "txtProposed_Height")
                        {
                            int? intheight = job != null && job.RfpAddress != null ? job.RfpAddress.Height : 0;
                            string height = Convert.ToString(intheight);
                            if (intheight == 0)
                            {
                                // height = string.Empty;
                            }
                            if (updateJobDocumentField == null)
                            {
                                JobDocumentField JobDocumentField = new JobDocumentField
                                {
                                    IdJobDocument = idJobDocument,
                                    IdDocumentField = Convert.ToInt32(item.Id),
                                    Value = string.Empty,
                                    ActualValue = string.Empty
                                };
                                rpoContext.JobDocumentFields.Add(JobDocumentField);
                            }
                            else
                            {
                                updateJobDocumentField.Value = string.Empty;
                                updateJobDocumentField.ActualValue = string.Empty;
                                rpoContext.Entry(updateJobDocumentField).State = EntityState.Modified;
                                rpoContext.SaveChanges();
                            }
                        }

                        else if (item.Field.FieldName == "txtExisting_Stories")
                        {
                            int? intstories = job != null && job.RfpAddress != null ? job.RfpAddress.Stories : 0;
                            string stories = Convert.ToString(intstories);
                            if (intstories == 0)
                            {
                                stories = string.Empty;
                            }
                            if (updateJobDocumentField == null)
                            {
                                JobDocumentField JobDocumentField = new JobDocumentField
                                {
                                    IdJobDocument = idJobDocument,
                                    IdDocumentField = Convert.ToInt32(item.Id),
                                    Value = stories,
                                    ActualValue = stories
                                };
                                rpoContext.JobDocumentFields.Add(JobDocumentField);
                            }
                            else
                            {
                                updateJobDocumentField.Value = stories;
                                updateJobDocumentField.ActualValue = stories;
                                rpoContext.Entry(updateJobDocumentField).State = EntityState.Modified;
                                rpoContext.SaveChanges();
                            }
                        }
                        else if (item.Field.FieldName == "txtProposed_Stories")
                        {
                            int? intstories = job != null && job.RfpAddress != null ? job.RfpAddress.Stories : 0;
                            string stories = Convert.ToString(intstories);
                            if (intstories == 0)
                            {
                                stories = string.Empty;
                            }
                            if (updateJobDocumentField == null)
                            {
                                JobDocumentField JobDocumentField = new JobDocumentField
                                {
                                    IdJobDocument = idJobDocument,
                                    IdDocumentField = Convert.ToInt32(item.Id),
                                    Value = string.Empty,
                                    ActualValue = string.Empty
                                };
                                rpoContext.JobDocumentFields.Add(JobDocumentField);
                            }
                            else
                            {
                                updateJobDocumentField.Value = string.Empty;
                                updateJobDocumentField.ActualValue = string.Empty;
                                rpoContext.Entry(updateJobDocumentField).State = EntityState.Modified;
                                rpoContext.SaveChanges();
                            }
                        }
                        else if (item.Field.FieldName == "txtExisting_DwellingUnits")
                        {
                            int? intDwellingUnits = job != null && job.RfpAddress != null ? job.RfpAddress.DwellingUnits : 0;
                            string DwellingUnits = Convert.ToString(intDwellingUnits);
                            if (intDwellingUnits == 0)
                            {
                                DwellingUnits = string.Empty;
                            }
                            if (updateJobDocumentField == null)
                            {
                                JobDocumentField JobDocumentField = new JobDocumentField
                                {
                                    IdJobDocument = idJobDocument,
                                    IdDocumentField = Convert.ToInt32(item.Id),
                                    Value = DwellingUnits,
                                    ActualValue = DwellingUnits
                                };
                                rpoContext.JobDocumentFields.Add(JobDocumentField);
                            }
                            else
                            {
                                updateJobDocumentField.Value = DwellingUnits;
                                updateJobDocumentField.ActualValue = DwellingUnits;
                                rpoContext.Entry(updateJobDocumentField).State = EntityState.Modified;
                                rpoContext.SaveChanges();
                            }

                        }
                        else if (item.Field.FieldName == "txtProposed_DwellingUnits")
                        {
                            int? intDwellingUnits = job != null && job.RfpAddress != null ? job.RfpAddress.DwellingUnits : 0;
                            string DwellingUnits = Convert.ToString(intDwellingUnits);
                            if (intDwellingUnits == 0)
                            {
                                DwellingUnits = string.Empty;
                            }
                            if (updateJobDocumentField == null)
                            {
                                JobDocumentField JobDocumentField = new JobDocumentField
                                {
                                    IdJobDocument = idJobDocument,
                                    IdDocumentField = Convert.ToInt32(item.Id),
                                    Value = string.Empty,
                                    ActualValue = string.Empty
                                };
                                rpoContext.JobDocumentFields.Add(JobDocumentField);
                            }
                            else
                            {
                                updateJobDocumentField.Value = string.Empty;
                                updateJobDocumentField.ActualValue = string.Empty;
                                rpoContext.Entry(updateJobDocumentField).State = EntityState.Modified;
                                rpoContext.SaveChanges();
                            }

                        }
                        else if (item.Field.FieldName == "chkS")
                        {
                            string postapproval = string.Empty;

                            if (docuementType == "Initial Filing")
                            {
                                //  postapproval = "On";

                            }

                            if (updateJobDocumentField == null)
                            {
                                JobDocumentField JobDocumentField = new JobDocumentField
                                {
                                    IdJobDocument = idJobDocument,
                                    IdDocumentField = Convert.ToInt32(item.Id),
                                    Value = postapproval,
                                    ActualValue = postapproval
                                };
                                rpoContext.JobDocumentFields.Add(JobDocumentField);
                            }
                            else
                            {
                                updateJobDocumentField.Value = postapproval;
                                updateJobDocumentField.ActualValue = postapproval;
                                rpoContext.Entry(updateJobDocumentField).State = EntityState.Modified;
                                rpoContext.SaveChanges();
                            }
                        }
                        else if (item.Field.FieldName == "chkC")
                        {
                            string postapproval = string.Empty;

                            if (docuementType == "Initial Filing")
                            {
                                // postapproval = "On";

                            }

                            if (updateJobDocumentField == null)
                            {
                                JobDocumentField JobDocumentField = new JobDocumentField
                                {
                                    IdJobDocument = idJobDocument,
                                    IdDocumentField = Convert.ToInt32(item.Id),
                                    Value = postapproval,
                                    ActualValue = postapproval
                                };
                                rpoContext.JobDocumentFields.Add(JobDocumentField);
                            }
                            else
                            {
                                updateJobDocumentField.Value = postapproval;
                                updateJobDocumentField.ActualValue = postapproval;
                                rpoContext.Entry(updateJobDocumentField).State = EntityState.Modified;
                                rpoContext.SaveChanges();
                            }
                        }
                        else if (item.Field.FieldName == "chkO")
                        {
                            string postapproval = string.Empty;

                            if (docuementType == "Initial Filing")
                            {
                                // postapproval = "On";

                            }

                            if (updateJobDocumentField == null)
                            {
                                JobDocumentField JobDocumentField = new JobDocumentField
                                {
                                    IdJobDocument = idJobDocument,
                                    IdDocumentField = Convert.ToInt32(item.Id),
                                    Value = postapproval,
                                    ActualValue = postapproval
                                };
                                rpoContext.JobDocumentFields.Add(JobDocumentField);
                            }
                            else
                            {
                                updateJobDocumentField.Value = postapproval;
                                updateJobDocumentField.ActualValue = postapproval;
                                rpoContext.Entry(updateJobDocumentField).State = EntityState.Modified;
                                rpoContext.SaveChanges();
                            }
                        }
                        else if (item.Field.FieldName == "chkwC")
                        {
                            string priortoapproval = string.Empty;

                            //if (docuementType == "Prior to Approval - Subsequent Filing")
                            //{
                            //    priortoapproval = "On";

                            //}

                            if (updateJobDocumentField == null)
                            {
                                JobDocumentField JobDocumentField = new JobDocumentField
                                {
                                    IdJobDocument = idJobDocument,
                                    IdDocumentField = Convert.ToInt32(item.Id),
                                    Value = priortoapproval,
                                    ActualValue = priortoapproval
                                };
                                rpoContext.JobDocumentFields.Add(JobDocumentField);
                            }
                            else
                            {
                                updateJobDocumentField.Value = priortoapproval;
                                updateJobDocumentField.ActualValue = priortoapproval;
                                rpoContext.Entry(updateJobDocumentField).State = EntityState.Modified;
                                rpoContext.SaveChanges();
                            }
                        }
                        else if (item.Field.FieldName == "chkwCA")
                        {
                            string priortoapprovalexisting = string.Empty;

                            if (docuementType.Trim().ToLower() == "Prior to Approval - Amend Existing File".Trim().ToLower())
                            {
                                priortoapprovalexisting = "On";

                            }
                            if (updateJobDocumentField == null)
                            {
                                JobDocumentField JobDocumentField = new JobDocumentField
                                {
                                    IdJobDocument = idJobDocument,
                                    IdDocumentField = Convert.ToInt32(item.Id),
                                    Value = priortoapprovalexisting,
                                    ActualValue = priortoapprovalexisting
                                };
                                rpoContext.JobDocumentFields.Add(JobDocumentField);
                            }
                            else
                            {
                                updateJobDocumentField.Value = priortoapprovalexisting;
                                updateJobDocumentField.ActualValue = priortoapprovalexisting;
                                rpoContext.Entry(updateJobDocumentField).State = EntityState.Modified;
                                rpoContext.SaveChanges();
                            }
                        }
                        else if (item.Field.FieldName == "chkwCW")
                        {
                            string priortoapprovalsubsequent = string.Empty;

                            if (docuementType == "Prior to Approval - Subsequent Filing")
                            {
                                priortoapprovalsubsequent = "On";

                            }

                            if (updateJobDocumentField == null)
                            {
                                JobDocumentField JobDocumentField = new JobDocumentField
                                {
                                    IdJobDocument = idJobDocument,
                                    IdDocumentField = Convert.ToInt32(item.Id),
                                    Value = priortoapprovalsubsequent,
                                    ActualValue = priortoapprovalsubsequent
                                };
                                rpoContext.JobDocumentFields.Add(JobDocumentField);
                            }
                            else
                            {
                                updateJobDocumentField.Value = priortoapprovalsubsequent;
                                updateJobDocumentField.ActualValue = priortoapprovalsubsequent;
                                rpoContext.Entry(updateJobDocumentField).State = EntityState.Modified;
                                rpoContext.SaveChanges();
                            }
                        }
                        else if (item.Field.FieldName == "chkwPA")
                        {
                            string postapproval = string.Empty;

                            if (docuementType == "Initial Filing")
                            {
                                postapproval = "1";

                            }

                            if (updateJobDocumentField == null)
                            {
                                JobDocumentField JobDocumentField = new JobDocumentField
                                {
                                    IdJobDocument = idJobDocument,
                                    IdDocumentField = Convert.ToInt32(item.Id),
                                    Value = postapproval,
                                    ActualValue = postapproval
                                };
                                rpoContext.JobDocumentFields.Add(JobDocumentField);
                            }
                            else
                            {
                                updateJobDocumentField.Value = postapproval;
                                updateJobDocumentField.ActualValue = postapproval;
                                rpoContext.Entry(updateJobDocumentField).State = EntityState.Modified;
                                rpoContext.SaveChanges();
                            }
                        }
                        else if (item.Field.FieldName == "chkwRE")
                        {
                            string Reinstatement = string.Empty;

                            if (docuementType == "Reinstatement")
                            {
                                Reinstatement = "1";

                            }

                            if (updateJobDocumentField == null)
                            {
                                JobDocumentField JobDocumentField = new JobDocumentField
                                {
                                    IdJobDocument = idJobDocument,
                                    IdDocumentField = Convert.ToInt32(item.Id),
                                    Value = Reinstatement,
                                    ActualValue = Reinstatement
                                };
                                rpoContext.JobDocumentFields.Add(JobDocumentField);
                            }
                            else
                            {
                                updateJobDocumentField.Value = Reinstatement;
                                updateJobDocumentField.ActualValue = Reinstatement;
                                rpoContext.Entry(updateJobDocumentField).State = EntityState.Modified;
                                rpoContext.SaveChanges();
                            }
                        }
                        else if (item.Field.FieldName == "chkwW")
                        {
                            string withdraw = string.Empty;

                            if (docuementType == "Withdrwal - Partial" || docuementType == "Withdrwal - Entire Job")
                            {
                                withdraw = "1";

                            }

                            if (updateJobDocumentField == null)
                            {
                                JobDocumentField JobDocumentField = new JobDocumentField
                                {
                                    IdJobDocument = idJobDocument,
                                    IdDocumentField = Convert.ToInt32(item.Id),
                                    Value = withdraw,
                                    ActualValue = withdraw
                                };
                                rpoContext.JobDocumentFields.Add(JobDocumentField);
                            }
                            else
                            {
                                updateJobDocumentField.Value = withdraw;
                                updateJobDocumentField.ActualValue = withdraw;
                                rpoContext.Entry(updateJobDocumentField).State = EntityState.Modified;
                                rpoContext.SaveChanges();
                            }
                        }
                        else if (item.Field.FieldName == "chkwWP")
                        {
                            string withdrawpartial = string.Empty;

                            if (docuementType == "Withdrwal - Partial")
                            {
                                withdrawpartial = "1";

                            }
                            if (updateJobDocumentField == null)
                            {
                                JobDocumentField JobDocumentField = new JobDocumentField
                                {
                                    IdJobDocument = idJobDocument,
                                    IdDocumentField = Convert.ToInt32(item.Id),
                                    Value = withdrawpartial,
                                    ActualValue = withdrawpartial
                                };
                                rpoContext.JobDocumentFields.Add(JobDocumentField);
                            }
                            else
                            {
                                updateJobDocumentField.Value = withdrawpartial;
                                updateJobDocumentField.ActualValue = withdrawpartial;
                                rpoContext.Entry(updateJobDocumentField).State = EntityState.Modified;
                                rpoContext.SaveChanges();
                            }
                        }
                        else if (item.Field.FieldName == "chkwWE")
                        {
                            string withdrawentire = string.Empty;

                            if (docuementType == "Withdrwal - Entire Job")
                            {
                                withdrawentire = "On";

                            }


                            if (updateJobDocumentField == null)
                            {
                                JobDocumentField JobDocumentField = new JobDocumentField
                                {
                                    IdJobDocument = idJobDocument,
                                    IdDocumentField = Convert.ToInt32(item.Id),
                                    Value = withdrawentire,
                                    ActualValue = withdrawentire
                                };
                                rpoContext.JobDocumentFields.Add(JobDocumentField);
                            }
                            else
                            {
                                updateJobDocumentField.Value = withdrawentire;
                                updateJobDocumentField.ActualValue = withdrawentire;
                                rpoContext.Entry(updateJobDocumentField).State = EntityState.Modified;
                                rpoContext.SaveChanges();
                            }
                        }

                        else if (item.Field.FieldName == "chkwPA")
                        {
                            string pa = string.Empty;

                            if (docuementType == "Post Approval Amendment")
                            {
                                pa = "1";

                            }


                            if (updateJobDocumentField == null)
                            {
                                JobDocumentField JobDocumentField = new JobDocumentField
                                {
                                    IdJobDocument = idJobDocument,
                                    IdDocumentField = Convert.ToInt32(item.Id),
                                    Value = pa,
                                    ActualValue = pa
                                };
                                rpoContext.JobDocumentFields.Add(JobDocumentField);
                            }
                            else
                            {
                                updateJobDocumentField.Value = pa;
                                updateJobDocumentField.ActualValue = pa;
                                rpoContext.Entry(updateJobDocumentField).State = EntityState.Modified;
                                rpoContext.SaveChanges();
                            }
                        }
                        else if (item.Field.FieldName == "topmostSubform[0].Page1[0].Yes1[0]")
                        {
                            string withdrawentire = string.Empty;

                            //if (docuementType == "Withdrwal - Entire Job")
                            //{
                            //    withdrawentire = "On";

                            //}


                            if (updateJobDocumentField == null)
                            {
                                JobDocumentField JobDocumentField = new JobDocumentField
                                {
                                    IdJobDocument = idJobDocument,
                                    IdDocumentField = Convert.ToInt32(item.Id),
                                    Value = withdrawentire,
                                    ActualValue = withdrawentire
                                };
                                rpoContext.JobDocumentFields.Add(JobDocumentField);
                            }
                            else
                            {
                                updateJobDocumentField.Value = withdrawentire;
                                updateJobDocumentField.ActualValue = withdrawentire;
                                rpoContext.Entry(updateJobDocumentField).State = EntityState.Modified;
                                rpoContext.SaveChanges();
                            }
                        }
                        else if (item.Field.FieldName == "topmostSubform[0].Page1[0].No1[0]")
                        {
                            string withdrawentire = string.Empty;

                            //if (docuementType == "Withdrwal - Entire Job")
                            //{
                            //    withdrawentire = "On";

                            //}


                            if (updateJobDocumentField == null)
                            {
                                JobDocumentField JobDocumentField = new JobDocumentField
                                {
                                    IdJobDocument = idJobDocument,
                                    IdDocumentField = Convert.ToInt32(item.Id),
                                    Value = withdrawentire,
                                    ActualValue = withdrawentire
                                };
                                rpoContext.JobDocumentFields.Add(JobDocumentField);
                            }
                            else
                            {
                                updateJobDocumentField.Value = withdrawentire;
                                updateJobDocumentField.ActualValue = withdrawentire;
                                rpoContext.Entry(updateJobDocumentField).State = EntityState.Modified;
                                rpoContext.SaveChanges();
                            }
                        }

                        else if (item.Field.FieldName == "chkwNA")
                        {
                            string chkwNA = string.Empty;

                            if (docuementType == "New Applicant")
                            {
                                chkwNA = "1";

                            }


                            if (updateJobDocumentField == null)
                            {
                                JobDocumentField JobDocumentField = new JobDocumentField
                                {
                                    IdJobDocument = idJobDocument,
                                    IdDocumentField = Convert.ToInt32(item.Id),
                                    Value = chkwNA,
                                    ActualValue = chkwNA
                                };
                                rpoContext.JobDocumentFields.Add(JobDocumentField);
                            }
                            else
                            {
                                updateJobDocumentField.Value = chkwNA;
                                updateJobDocumentField.ActualValue = chkwNA;
                                rpoContext.Entry(updateJobDocumentField).State = EntityState.Modified;
                                rpoContext.SaveChanges();
                            }
                        }

                        else if (item.Field.FieldName == "chk6BL")
                        {
                            String val = String.Empty;

                            permitTypecodeArr = permitTypecode.Split(',').ToArray();

                            var str = Array.FindAll(permitTypecodeArr, s => s.Equals("BL"));

                            if (str.Length > 0)
                            {
                                val = "On";

                            }
                            if (updateJobDocumentField == null)
                            {
                                JobDocumentField JobDocumentField = new JobDocumentField
                                {
                                    IdJobDocument = idJobDocument,
                                    IdDocumentField = Convert.ToInt32(item.Id),
                                    Value = val,
                                    ActualValue = val
                                };
                                rpoContext.JobDocumentFields.Add(JobDocumentField);
                            }
                            else
                            {
                                updateJobDocumentField.Value = val;
                                updateJobDocumentField.ActualValue = val;
                                rpoContext.Entry(updateJobDocumentField).State = EntityState.Modified;
                                rpoContext.SaveChanges();
                            }
                        }
                        else if (item.Field.FieldName == "chk6FA")
                        {

                            String val = String.Empty;

                            permitTypecodeArr = permitTypecode.Split(',').ToArray();

                            var str = Array.FindAll(permitTypecodeArr, s => s.Equals("FA/New"));

                            if (str.Length > 0)
                            {
                                val = "On";

                            }


                            if (updateJobDocumentField == null)
                            {
                                JobDocumentField JobDocumentField = new JobDocumentField
                                {
                                    IdJobDocument = idJobDocument,
                                    IdDocumentField = Convert.ToInt32(item.Id),
                                    Value = val,
                                    ActualValue = val
                                };
                                rpoContext.JobDocumentFields.Add(JobDocumentField);
                            }
                            else
                            {
                                updateJobDocumentField.Value = val;
                                updateJobDocumentField.ActualValue = val;
                                rpoContext.Entry(updateJobDocumentField).State = EntityState.Modified;
                                rpoContext.SaveChanges();
                            }
                        }
                        else if (item.Field.FieldName == "chk6FB")
                        {

                            String val = String.Empty;

                            permitTypecodeArr = permitTypecode.Split(',').ToArray();

                            var str = Array.FindAll(permitTypecodeArr, s => s.Equals("FB"));

                            if (str.Length > 0)
                            {
                                val = "On";

                            }

                            if (updateJobDocumentField == null)
                            {
                                JobDocumentField JobDocumentField = new JobDocumentField
                                {
                                    IdJobDocument = idJobDocument,
                                    IdDocumentField = Convert.ToInt32(item.Id),
                                    Value = val,
                                    ActualValue = val
                                };
                                rpoContext.JobDocumentFields.Add(JobDocumentField);
                            }
                            else
                            {
                                updateJobDocumentField.Value = val;
                                updateJobDocumentField.ActualValue = val;
                                rpoContext.Entry(updateJobDocumentField).State = EntityState.Modified;
                                rpoContext.SaveChanges();
                            }
                        }
                        else if (item.Field.FieldName == "chk6FS")
                        {


                            String val = String.Empty;

                            permitTypecodeArr = permitTypecode.Split(',').ToArray();

                            var str = Array.FindAll(permitTypecodeArr, s => s.Equals("FS"));

                            if (str.Length > 0)
                            {
                                val = "On";
                            }

                            if (updateJobDocumentField == null)
                            {
                                JobDocumentField JobDocumentField = new JobDocumentField
                                {
                                    IdJobDocument = idJobDocument,
                                    IdDocumentField = Convert.ToInt32(item.Id),
                                    Value = val,
                                    ActualValue = val
                                };
                                rpoContext.JobDocumentFields.Add(JobDocumentField);
                            }
                            else
                            {
                                updateJobDocumentField.Value = val;
                                updateJobDocumentField.ActualValue = val;
                                rpoContext.Entry(updateJobDocumentField).State = EntityState.Modified;
                                rpoContext.SaveChanges();
                            }
                        }
                        else if (item.Field.FieldName == "chk6FP")
                        {


                            String val = String.Empty;

                            permitTypecodeArr = permitTypecode.Split(',').ToArray();

                            var str = Array.FindAll(permitTypecodeArr, s => s.Equals("FP"));

                            if (str.Length > 0)
                            {
                                val = "On";

                            }

                            if (updateJobDocumentField == null)
                            {
                                JobDocumentField JobDocumentField = new JobDocumentField
                                {
                                    IdJobDocument = idJobDocument,
                                    IdDocumentField = Convert.ToInt32(item.Id),
                                    Value = val,
                                    ActualValue = val
                                };
                                rpoContext.JobDocumentFields.Add(JobDocumentField);
                            }
                            else
                            {
                                updateJobDocumentField.Value = val;
                                updateJobDocumentField.ActualValue = val;
                                rpoContext.Entry(updateJobDocumentField).State = EntityState.Modified;
                                rpoContext.SaveChanges();
                            }
                        }
                        else if (item.Field.FieldName == "chk6MH")
                        {

                            String val = String.Empty;

                            permitTypecodeArr = permitTypecode.Split(',').ToArray();

                            var str = Array.FindAll(permitTypecodeArr, s => s.Equals("MH"));

                            if (str.Length > 0)
                            {
                                val = "On";

                            }

                            if (updateJobDocumentField == null)
                            {
                                JobDocumentField JobDocumentField = new JobDocumentField
                                {
                                    IdJobDocument = idJobDocument,
                                    IdDocumentField = Convert.ToInt32(item.Id),
                                    Value = val,
                                    ActualValue = val
                                };
                                rpoContext.JobDocumentFields.Add(JobDocumentField);
                            }
                            else
                            {
                                updateJobDocumentField.Value = val;
                                updateJobDocumentField.ActualValue = val;
                                rpoContext.Entry(updateJobDocumentField).State = EntityState.Modified;
                                rpoContext.SaveChanges();
                            }
                        }
                        else if (item.Field.FieldName == "chk6PL")
                        {

                            String val = String.Empty;

                            permitTypecodeArr = permitTypecode.Split(',').ToArray();

                            var str = Array.FindAll(permitTypecodeArr, s => s.Equals("PL"));

                            if (str.Length > 0)
                            {
                                val = "On";

                            }


                            if (updateJobDocumentField == null)
                            {
                                JobDocumentField JobDocumentField = new JobDocumentField
                                {
                                    IdJobDocument = idJobDocument,
                                    IdDocumentField = Convert.ToInt32(item.Id),
                                    Value = val,
                                    ActualValue = val
                                };
                                rpoContext.JobDocumentFields.Add(JobDocumentField);
                            }
                            else
                            {
                                updateJobDocumentField.Value = val;
                                updateJobDocumentField.ActualValue = val;
                                rpoContext.Entry(updateJobDocumentField).State = EntityState.Modified;
                                rpoContext.SaveChanges();
                            }
                        }
                        else if (item.Field.FieldName == "chk6SD")
                        {

                            String val = String.Empty;

                            permitTypecodeArr = permitTypecode.Split(',').ToArray();

                            var str = Array.FindAll(permitTypecodeArr, s => s.Equals("SD"));

                            if (str.Length > 0)
                            {
                                val = "On";

                            }


                            if (updateJobDocumentField == null)
                            {
                                JobDocumentField JobDocumentField = new JobDocumentField
                                {
                                    IdJobDocument = idJobDocument,
                                    IdDocumentField = Convert.ToInt32(item.Id),
                                    Value = val,
                                    ActualValue = val
                                };
                                rpoContext.JobDocumentFields.Add(JobDocumentField);
                            }
                            else
                            {
                                updateJobDocumentField.Value = val;
                                updateJobDocumentField.ActualValue = val;
                                rpoContext.Entry(updateJobDocumentField).State = EntityState.Modified;
                                rpoContext.SaveChanges();
                            }
                        }
                        else if (item.Field.FieldName == "chk6SP")
                        {

                            String val = String.Empty;

                            permitTypecodeArr = permitTypecode.Split(',').ToArray();

                            var str = Array.FindAll(permitTypecodeArr, s => s.Equals("SP"));

                            if (str.Length > 0)
                            {
                                val = "On";

                            }


                            if (updateJobDocumentField == null)
                            {
                                JobDocumentField JobDocumentField = new JobDocumentField
                                {
                                    IdJobDocument = idJobDocument,
                                    IdDocumentField = Convert.ToInt32(item.Id),
                                    Value = val,
                                    ActualValue = val
                                };
                                rpoContext.JobDocumentFields.Add(JobDocumentField);
                            }
                            else
                            {
                                updateJobDocumentField.Value = val;
                                updateJobDocumentField.ActualValue = val;
                                rpoContext.Entry(updateJobDocumentField).State = EntityState.Modified;
                                rpoContext.SaveChanges();
                            }
                        }
                        else if (item.Field.FieldName == "chk6EQ")
                        {
                            if (updateJobDocumentField == null)
                            {
                                JobDocumentField JobDocumentField = new JobDocumentField
                                {
                                    IdJobDocument = idJobDocument,
                                    IdDocumentField = Convert.ToInt32(item.Id),
                                    Value = string.Empty,
                                    ActualValue = string.Empty
                                };
                                rpoContext.JobDocumentFields.Add(JobDocumentField);
                            }
                            else
                            {
                                updateJobDocumentField.Value = string.Empty;
                                updateJobDocumentField.ActualValue = string.Empty;
                                rpoContext.Entry(updateJobDocumentField).State = EntityState.Modified;
                                rpoContext.SaveChanges();
                            }
                        }
                        else if (item.Field.FieldName == "chk6GC")
                        {
                            String val = String.Empty;

                            permitTypecodeArr = permitTypecode.Split(',').ToArray();

                            var str = Array.FindAll(permitTypecodeArr, s => s.Equals("OT/GC"));

                            if (str.Length > 0)
                            {
                                val = "On";

                            }

                            if (updateJobDocumentField == null)
                            {
                                JobDocumentField JobDocumentField = new JobDocumentField
                                {
                                    IdJobDocument = idJobDocument,
                                    IdDocumentField = Convert.ToInt32(item.Id),
                                    Value = val,
                                    ActualValue = val
                                };
                                rpoContext.JobDocumentFields.Add(JobDocumentField);
                            }
                            else
                            {
                                updateJobDocumentField.Value = val;
                                updateJobDocumentField.ActualValue = val;
                                rpoContext.Entry(updateJobDocumentField).State = EntityState.Modified;
                                rpoContext.SaveChanges();
                            }
                        }
                        else if (item.Field.FieldName == "chk6OT")
                        {
                            if (updateJobDocumentField == null)
                            {
                                JobDocumentField JobDocumentField = new JobDocumentField
                                {
                                    IdJobDocument = idJobDocument,
                                    IdDocumentField = Convert.ToInt32(item.Id),
                                    Value = string.Empty,
                                    ActualValue = string.Empty
                                };
                                rpoContext.JobDocumentFields.Add(JobDocumentField);
                            }
                            else
                            {
                                updateJobDocumentField.Value = string.Empty;
                                updateJobDocumentField.ActualValue = string.Empty;
                                rpoContext.Entry(updateJobDocumentField).State = EntityState.Modified;
                                rpoContext.SaveChanges();
                            }
                        }
                        else if (item.Field.FieldName == "txt6OT")
                        {
                            if (updateJobDocumentField == null)
                            {
                                JobDocumentField JobDocumentField = new JobDocumentField
                                {
                                    IdJobDocument = idJobDocument,
                                    IdDocumentField = Convert.ToInt32(item.Id),
                                    Value = string.Empty,
                                    ActualValue = string.Empty
                                };
                                rpoContext.JobDocumentFields.Add(JobDocumentField);
                            }
                            else
                            {
                                updateJobDocumentField.Value = string.Empty;
                                updateJobDocumentField.ActualValue = string.Empty;
                                rpoContext.Entry(updateJobDocumentField).State = EntityState.Modified;
                                rpoContext.SaveChanges();
                            }
                        }
                        else if (item.Field.FieldName == "chk6CC")
                        {
                            if (updateJobDocumentField == null)
                            {
                                JobDocumentField JobDocumentField = new JobDocumentField
                                {
                                    IdJobDocument = idJobDocument,
                                    IdDocumentField = Convert.ToInt32(item.Id),
                                    Value = string.Empty,
                                    ActualValue = string.Empty
                                };
                                rpoContext.JobDocumentFields.Add(JobDocumentField);
                            }
                            else
                            {
                                updateJobDocumentField.Value = string.Empty;
                                updateJobDocumentField.ActualValue = string.Empty;
                                rpoContext.Entry(updateJobDocumentField).State = EntityState.Modified;
                                rpoContext.SaveChanges();
                            }
                        }
                        else if (item.Field.FieldName == "chk6ANT")
                        {
                            if (updateJobDocumentField == null)
                            {
                                JobDocumentField JobDocumentField = new JobDocumentField
                                {
                                    IdJobDocument = idJobDocument,
                                    IdDocumentField = Convert.ToInt32(item.Id),
                                    Value = string.Empty,
                                    ActualValue = string.Empty
                                };
                                rpoContext.JobDocumentFields.Add(JobDocumentField);
                            }
                            else
                            {
                                updateJobDocumentField.Value = string.Empty;
                                updateJobDocumentField.ActualValue = string.Empty;
                                rpoContext.Entry(updateJobDocumentField).State = EntityState.Modified;
                                rpoContext.SaveChanges();
                            }
                        }
                        else if (item.Field.FieldName == "chk6BPP")
                        {
                            if (updateJobDocumentField == null)
                            {
                                JobDocumentField JobDocumentField = new JobDocumentField
                                {
                                    IdJobDocument = idJobDocument,
                                    IdDocumentField = Convert.ToInt32(item.Id),
                                    Value = string.Empty,
                                    ActualValue = string.Empty
                                };
                                rpoContext.JobDocumentFields.Add(JobDocumentField);
                            }
                            else
                            {
                                updateJobDocumentField.Value = string.Empty;
                                updateJobDocumentField.ActualValue = string.Empty;
                                rpoContext.Entry(updateJobDocumentField).State = EntityState.Modified;
                                rpoContext.SaveChanges();
                            }
                        }
                        else if (item.Field.FieldName == "chk6FPP")
                        {
                            if (updateJobDocumentField == null)
                            {
                                JobDocumentField JobDocumentField = new JobDocumentField
                                {
                                    IdJobDocument = idJobDocument,
                                    IdDocumentField = Convert.ToInt32(item.Id),
                                    Value = string.Empty,
                                    ActualValue = string.Empty
                                };
                                rpoContext.JobDocumentFields.Add(JobDocumentField);
                            }
                            else
                            {
                                updateJobDocumentField.Value = string.Empty;
                                updateJobDocumentField.ActualValue = string.Empty;
                                rpoContext.Entry(updateJobDocumentField).State = EntityState.Modified;
                                rpoContext.SaveChanges();
                            }
                        }
                        else if (item.Field.FieldName == "chk6MAR")
                        {
                            if (updateJobDocumentField == null)
                            {
                                JobDocumentField JobDocumentField = new JobDocumentField
                                {
                                    IdJobDocument = idJobDocument,
                                    IdDocumentField = Convert.ToInt32(item.Id),
                                    Value = string.Empty,
                                    ActualValue = string.Empty
                                };
                                rpoContext.JobDocumentFields.Add(JobDocumentField);
                            }
                            else
                            {
                                updateJobDocumentField.Value = string.Empty;
                                updateJobDocumentField.ActualValue = string.Empty;
                                rpoContext.Entry(updateJobDocumentField).State = EntityState.Modified;
                                rpoContext.SaveChanges();
                            }
                        }

                        else if (item.Field.FieldName == "txtTotalEstCost")
                        {
                            if (updateJobDocumentField == null)
                            {
                                JobDocumentField JobDocumentField = new JobDocumentField
                                {
                                    IdJobDocument = idJobDocument,
                                    IdDocumentField = Convert.ToInt32(item.Id),
                                    Value = estfees,
                                    ActualValue = estfees
                                };
                                rpoContext.JobDocumentFields.Add(JobDocumentField);
                            }
                            else
                            {
                                updateJobDocumentField.Value = estfees;
                                updateJobDocumentField.ActualValue = estfees;
                                rpoContext.Entry(updateJobDocumentField).State = EntityState.Modified;
                                rpoContext.SaveChanges();
                            }
                        }


                        else if (item.Field.FieldName == "txtApplicantName")
                        {

                            if (docuementType == "Withdrwal - Entire Job" || docuementType == "Withdrwal - Partial")
                            {
                                applicantName = string.Empty;
                            }
                            if (updateJobDocumentField == null)
                            {
                                JobDocumentField JobDocumentField = new JobDocumentField
                                {
                                    IdJobDocument = idJobDocument,
                                    IdDocumentField = Convert.ToInt32(item.Id),
                                    Value = applicantName,
                                    ActualValue = applicantName
                                };
                                rpoContext.JobDocumentFields.Add(JobDocumentField);
                            }
                            else
                            {
                                updateJobDocumentField.Value = applicantName;
                                updateJobDocumentField.ActualValue = applicantName;
                                rpoContext.Entry(updateJobDocumentField).State = EntityState.Modified;
                                rpoContext.SaveChanges();
                            }
                        }


                        else if (item.Field.FieldName == "txtLR_Name")
                        {
                            if (docuementType == "Prior to Approval - Subsequent Filing")
                            {
                                LR_Name = string.Empty;
                            }
                            if (updateJobDocumentField == null)
                            {
                                JobDocumentField JobDocumentField = new JobDocumentField
                                {
                                    IdJobDocument = idJobDocument,
                                    IdDocumentField = Convert.ToInt32(item.Id),
                                    Value = LR_Name,
                                    ActualValue = LR_Name
                                };
                                rpoContext.JobDocumentFields.Add(JobDocumentField);
                            }
                            else
                            {
                                updateJobDocumentField.Value = LR_Name;
                                updateJobDocumentField.ActualValue = LR_Name;
                                rpoContext.Entry(updateJobDocumentField).State = EntityState.Modified;
                                rpoContext.SaveChanges();
                            }
                        }
                        else if (item.Field.FieldName == "txtLR_Relationship")
                        {
                            if (docuementType == "Prior to Approval - Subsequent Filing")
                            {
                                LR_Relationship = string.Empty;
                            }
                            if (updateJobDocumentField == null)
                            {
                                JobDocumentField JobDocumentField = new JobDocumentField
                                {
                                    IdJobDocument = idJobDocument,
                                    IdDocumentField = Convert.ToInt32(item.Id),
                                    Value = LR_Relationship,
                                    ActualValue = LR_Relationship
                                };
                                rpoContext.JobDocumentFields.Add(JobDocumentField);
                            }
                            else
                            {
                                updateJobDocumentField.Value = LR_Relationship;
                                updateJobDocumentField.ActualValue = LR_Relationship;
                                rpoContext.Entry(updateJobDocumentField).State = EntityState.Modified;
                                rpoContext.SaveChanges();
                            }
                        }
                        else if (item.Field.FieldName == "txtLR_Company")
                        {
                            if (docuementType == "Prior to Approval - Subsequent Filing")
                            {
                                LR_Company = string.Empty;
                            }
                            if (updateJobDocumentField == null)
                            {
                                JobDocumentField JobDocumentField = new JobDocumentField
                                {
                                    IdJobDocument = idJobDocument,
                                    IdDocumentField = Convert.ToInt32(item.Id),
                                    Value = LR_Company,
                                    ActualValue = LR_Company
                                };
                                rpoContext.JobDocumentFields.Add(JobDocumentField);
                            }
                            else
                            {
                                updateJobDocumentField.Value = LR_Company;
                                updateJobDocumentField.ActualValue = LR_Company;
                                rpoContext.Entry(updateJobDocumentField).State = EntityState.Modified;
                                rpoContext.SaveChanges();
                            }
                        }
                        else if (item.Field.FieldName == "txtLR_Address")
                        {
                            if (docuementType == "Prior to Approval - Subsequent Filing")
                            {
                                LR_Address = string.Empty;
                            }
                            if (updateJobDocumentField == null)
                            {
                                JobDocumentField JobDocumentField = new JobDocumentField
                                {
                                    IdJobDocument = idJobDocument,
                                    IdDocumentField = Convert.ToInt32(item.Id),
                                    Value = LR_Address,
                                    ActualValue = LR_Address
                                };
                                rpoContext.JobDocumentFields.Add(JobDocumentField);
                            }
                            else
                            {
                                updateJobDocumentField.Value = LR_Address;
                                updateJobDocumentField.ActualValue = LR_Address;
                                rpoContext.Entry(updateJobDocumentField).State = EntityState.Modified;
                                rpoContext.SaveChanges();
                            }
                        }
                        else if (item.Field.FieldName == "txtLR_City")
                        {
                            if (docuementType == "Prior to Approval - Subsequent Filing")
                            {
                                LR_City = string.Empty;
                            }
                            if (updateJobDocumentField == null)
                            {
                                JobDocumentField JobDocumentField = new JobDocumentField
                                {
                                    IdJobDocument = idJobDocument,
                                    IdDocumentField = Convert.ToInt32(item.Id),
                                    Value = LR_City,
                                    ActualValue = LR_City
                                };
                                rpoContext.JobDocumentFields.Add(JobDocumentField);
                            }
                            else
                            {
                                updateJobDocumentField.Value = LR_City;
                                updateJobDocumentField.ActualValue = LR_City;
                                rpoContext.Entry(updateJobDocumentField).State = EntityState.Modified;
                                rpoContext.SaveChanges();
                            }
                        }
                        else if (item.Field.FieldName == "txtLR_State")
                        {
                            if (docuementType == "Prior to Approval - Subsequent Filing")
                            {
                                LR_State = string.Empty;
                            }
                            if (updateJobDocumentField == null)
                            {
                                JobDocumentField JobDocumentField = new JobDocumentField
                                {
                                    IdJobDocument = idJobDocument,
                                    IdDocumentField = Convert.ToInt32(item.Id),
                                    Value = LR_State,
                                    ActualValue = LR_State
                                };
                                rpoContext.JobDocumentFields.Add(JobDocumentField);
                            }
                            else
                            {
                                updateJobDocumentField.Value = LR_State;
                                updateJobDocumentField.ActualValue = LR_State;
                                rpoContext.Entry(updateJobDocumentField).State = EntityState.Modified;
                                rpoContext.SaveChanges();
                            }
                        }
                        else if (item.Field.FieldName == "txtLR_Zip")
                        {
                            if (docuementType == "Prior to Approval - Subsequent Filing")
                            {
                                LR_Zip = string.Empty;
                            }
                            if (updateJobDocumentField == null)
                            {
                                JobDocumentField JobDocumentField = new JobDocumentField
                                {
                                    IdJobDocument = idJobDocument,
                                    IdDocumentField = Convert.ToInt32(item.Id),
                                    Value = LR_Zip,
                                    ActualValue = LR_Zip
                                };
                                rpoContext.JobDocumentFields.Add(JobDocumentField);
                            }
                            else
                            {
                                updateJobDocumentField.Value = LR_Zip;
                                updateJobDocumentField.ActualValue = LR_Zip;
                                rpoContext.Entry(updateJobDocumentField).State = EntityState.Modified;
                                rpoContext.SaveChanges();
                            }
                        }
                        else if (item.Field.FieldName == "txtLR_Phone")
                        {
                            if (docuementType == "Prior to Approval - Subsequent Filing")
                            {
                                LR_Phone = string.Empty;
                            }
                            if (updateJobDocumentField == null)
                            {
                                JobDocumentField JobDocumentField = new JobDocumentField
                                {
                                    IdJobDocument = idJobDocument,
                                    IdDocumentField = Convert.ToInt32(item.Id),
                                    Value = LR_Phone,
                                    ActualValue = LR_Phone
                                };
                                rpoContext.JobDocumentFields.Add(JobDocumentField);
                            }
                            else
                            {
                                updateJobDocumentField.Value = LR_Phone;
                                updateJobDocumentField.ActualValue = LR_Phone;
                                rpoContext.Entry(updateJobDocumentField).State = EntityState.Modified;
                                rpoContext.SaveChanges();
                            }
                        }
                        else if (item.Field.FieldName == "txtLR_Fax")
                        {
                            if (docuementType == "Prior to Approval - Subsequent Filing")
                            {
                                LR_Fax = string.Empty;
                            }
                            if (updateJobDocumentField == null)
                            {
                                JobDocumentField JobDocumentField = new JobDocumentField
                                {
                                    IdJobDocument = idJobDocument,
                                    IdDocumentField = Convert.ToInt32(item.Id),
                                    Value = LR_Fax,
                                    ActualValue = LR_Fax
                                };
                                rpoContext.JobDocumentFields.Add(JobDocumentField);
                            }
                            else
                            {
                                updateJobDocumentField.Value = LR_Fax;
                                updateJobDocumentField.ActualValue = LR_Fax;
                                rpoContext.Entry(updateJobDocumentField).State = EntityState.Modified;
                                rpoContext.SaveChanges();
                            }
                        }
                        else if (item.Field.FieldName == "txtLR_EMail")
                        {
                            if (docuementType == "Prior to Approval - Subsequent Filing")
                            {
                                LR_EMail = string.Empty;
                            }
                            if (updateJobDocumentField == null)
                            {
                                JobDocumentField JobDocumentField = new JobDocumentField
                                {
                                    IdJobDocument = idJobDocument,
                                    IdDocumentField = Convert.ToInt32(item.Id),
                                    Value = LR_EMail,
                                    ActualValue = LR_EMail
                                };
                                rpoContext.JobDocumentFields.Add(JobDocumentField);
                            }
                            else
                            {
                                updateJobDocumentField.Value = LR_EMail;
                                updateJobDocumentField.ActualValue = LR_EMail;
                                rpoContext.Entry(updateJobDocumentField).State = EntityState.Modified;
                                rpoContext.SaveChanges();
                            }
                        }

                        else if (item.Field.FieldName == "txtComments")
                        {
                            if (updateJobDocumentField == null)
                            {
                                JobDocumentField JobDocumentField = new JobDocumentField
                                {
                                    IdJobDocument = idJobDocument,
                                    IdDocumentField = Convert.ToInt32(item.Id),
                                    Value = comments,
                                    ActualValue = comments
                                };
                                rpoContext.JobDocumentFields.Add(JobDocumentField);
                            }
                            else
                            {
                                updateJobDocumentField.Value = comments;
                                updateJobDocumentField.ActualValue = comments;
                                rpoContext.Entry(updateJobDocumentField).State = EntityState.Modified;
                                rpoContext.SaveChanges();
                            }
                        }
                        else if (item.Field.FieldName == "txtZoning_District")
                        {
                            string zoneDistrict = job != null && job.RfpAddress != null ? job.RfpAddress.ZoneDistrict : string.Empty;


                            if (updateJobDocumentField == null)
                            {
                                JobDocumentField JobDocumentField = new JobDocumentField
                                {
                                    IdJobDocument = idJobDocument,
                                    IdDocumentField = Convert.ToInt32(item.Id),
                                    Value = zoneDistrict,
                                    ActualValue = zoneDistrict
                                };
                                rpoContext.JobDocumentFields.Add(JobDocumentField);
                            }
                            else
                            {
                                updateJobDocumentField.Value = zoneDistrict;
                                updateJobDocumentField.ActualValue = zoneDistrict;
                                rpoContext.Entry(updateJobDocumentField).State = EntityState.Modified;
                                rpoContext.SaveChanges();
                            }
                        }
                        else if (item.Field.FieldName == "txtZoning_Overlay")
                        {
                            if (updateJobDocumentField == null)
                            {
                                JobDocumentField JobDocumentField = new JobDocumentField
                                {
                                    IdJobDocument = idJobDocument,
                                    IdDocumentField = Convert.ToInt32(item.Id),
                                    Value = job != null && job.RfpAddress != null ? job.RfpAddress.Overlay : string.Empty,
                                    ActualValue = job != null && job.RfpAddress != null ? job.RfpAddress.Overlay : string.Empty
                                };
                                rpoContext.JobDocumentFields.Add(JobDocumentField);
                            }
                            else
                            {
                                updateJobDocumentField.Value = job != null && job.RfpAddress != null ? job.RfpAddress.Overlay : string.Empty;
                                updateJobDocumentField.ActualValue = job != null && job.RfpAddress != null ? job.RfpAddress.Overlay : string.Empty;
                                rpoContext.Entry(updateJobDocumentField).State = EntityState.Modified;
                                rpoContext.SaveChanges();
                            }
                        }

                        else if (item.Field.FieldName == "txtZoning_SpecialDistrict")
                        {
                            string zonespecialDistrict = job != null && job.RfpAddress != null ? job.RfpAddress.SpecialDistrict : string.Empty;

                            if (updateJobDocumentField == null)
                            {
                                JobDocumentField JobDocumentField = new JobDocumentField
                                {
                                    IdJobDocument = idJobDocument,
                                    IdDocumentField = Convert.ToInt32(item.Id),
                                    Value = zonespecialDistrict,
                                    ActualValue = zonespecialDistrict
                                };
                                rpoContext.JobDocumentFields.Add(JobDocumentField);
                            }
                            else
                            {
                                updateJobDocumentField.Value = zonespecialDistrict;
                                updateJobDocumentField.ActualValue = zonespecialDistrict;
                                rpoContext.Entry(updateJobDocumentField).State = EntityState.Modified;
                                rpoContext.SaveChanges();
                            }
                        }


                        else if (item.Field.FieldName == "txtMap_No")
                        {
                            string map = job != null && job.RfpAddress != null ? job.RfpAddress.Map : string.Empty;

                            if (updateJobDocumentField == null)
                            {
                                JobDocumentField JobDocumentField = new JobDocumentField
                                {
                                    IdJobDocument = idJobDocument,
                                    IdDocumentField = Convert.ToInt32(item.Id),
                                    Value = map,
                                    ActualValue = map
                                };
                                rpoContext.JobDocumentFields.Add(JobDocumentField);
                            }
                            else
                            {
                                updateJobDocumentField.Value = map;
                                updateJobDocumentField.ActualValue = map;
                                rpoContext.Entry(updateJobDocumentField).State = EntityState.Modified;
                                rpoContext.SaveChanges();
                            }
                        }


                        else if (item.Field.FieldName == "txtSt_Leg_Wth")
                        {
                            string StreetLegalWidth = job != null && job.RfpAddress != null ? Convert.ToString(job.RfpAddress.StreetLegalWidth) : string.Empty;
                            if (updateJobDocumentField == null)
                            {
                                JobDocumentField JobDocumentField = new JobDocumentField
                                {
                                    IdJobDocument = idJobDocument,
                                    IdDocumentField = Convert.ToInt32(item.Id),
                                    Value = StreetLegalWidth,
                                    ActualValue = StreetLegalWidth
                                };
                                rpoContext.JobDocumentFields.Add(JobDocumentField);
                            }
                            else
                            {
                                updateJobDocumentField.Value = StreetLegalWidth;
                                updateJobDocumentField.ActualValue = StreetLegalWidth;
                                rpoContext.Entry(updateJobDocumentField).State = EntityState.Modified;
                                rpoContext.SaveChanges();
                            }
                        }


                        else if (item.Field.FieldName == "txtOwner_Name")
                        {
                            string val = job != null && job.RfpAddress != null && job.RfpAddress.OwnerContact != null ? job.RfpAddress.OwnerContact.FirstName + " " + job.RfpAddress.OwnerContact.LastName : string.Empty;
                            if (docuementType == "Post Approval Amendment")
                            {
                                val = string.Empty;
                            }

                            if (updateJobDocumentField == null)
                            {
                                JobDocumentField JobDocumentField = new JobDocumentField
                                {
                                    IdJobDocument = idJobDocument,
                                    IdDocumentField = Convert.ToInt32(item.Id),
                                    Value = val,
                                    ActualValue = val
                                };
                                rpoContext.JobDocumentFields.Add(JobDocumentField);
                            }
                            else
                            {
                                updateJobDocumentField.Value = val;
                                updateJobDocumentField.ActualValue = val;
                                rpoContext.Entry(updateJobDocumentField).State = EntityState.Modified;
                                rpoContext.SaveChanges();
                            }
                        }
                        else if (item.Field.FieldName == "txtOwner_Relationship")
                        {
                            string val = job != null && job.RfpAddress != null && job.RfpAddress.OwnerContact != null && job.RfpAddress.OwnerContact.ContactTitle != null ? job.RfpAddress.OwnerContact.ContactTitle.Name : string.Empty;
                            if (docuementType == "Post Approval Amendment")
                            {
                                val = string.Empty;
                            }
                            if (updateJobDocumentField == null)
                            {
                                JobDocumentField JobDocumentField = new JobDocumentField
                                {
                                    IdJobDocument = idJobDocument,
                                    IdDocumentField = Convert.ToInt32(item.Id),
                                    Value = val,
                                    ActualValue = val
                                };
                                rpoContext.JobDocumentFields.Add(JobDocumentField);
                            }
                            else
                            {
                                updateJobDocumentField.Value = val;
                                updateJobDocumentField.ActualValue = val;
                                rpoContext.Entry(updateJobDocumentField).State = EntityState.Modified;
                                rpoContext.SaveChanges();
                            }
                        }
                        else if (item.Field.FieldName == "txtOwner_Company")
                        {
                            Contact owner = job != null && job.RfpAddress != null && job.RfpAddress.OwnerContact != null ? job.RfpAddress.OwnerContact : null;
                            string val = owner != null && owner.Company != null ? owner.Company.Name : string.Empty;
                            if (docuementType == "Post Approval Amendment")
                            {
                                val = string.Empty;
                            }

                            if (updateJobDocumentField == null)
                            {
                                JobDocumentField JobDocumentField = new JobDocumentField
                                {
                                    IdJobDocument = idJobDocument,
                                    IdDocumentField = Convert.ToInt32(item.Id),
                                    Value = val,
                                    ActualValue = val
                                };
                                rpoContext.JobDocumentFields.Add(JobDocumentField);
                            }
                            else
                            {
                                updateJobDocumentField.Value = val;
                                updateJobDocumentField.ActualValue = val;
                                rpoContext.Entry(updateJobDocumentField).State = EntityState.Modified;
                                rpoContext.SaveChanges();
                            }
                        }
                        else if (item.Field.FieldName == "txtOwner_Address")
                        {
                            Address ownerAddress = new Address();
                            ownerAddress = job != null && job.RfpAddress != null && job.RfpAddress.OwnerContact != null && job.RfpAddress.OwnerContact.Addresses != null ? job.RfpAddress.OwnerContact.Addresses.FirstOrDefault(x => x.IsMainAddress == true) : null;
                            if (job != null && job.RfpAddress != null && job.RfpAddress.OwnerContact != null && job.RfpAddress.OwnerContact != null && job.RfpAddress.OwnerContact.IsPrimaryCompanyAddress == true)
                            {
                                int? company_id = job != null && job.RfpAddress != null && job.RfpAddress.OwnerContact != null && job.RfpAddress.OwnerContact != null && job.RfpAddress.OwnerContact != null ? job.RfpAddress.OwnerContact.IdCompany : 0;
                                ownerAddress = job != null && job.RfpAddress != null && job.RfpAddress.OwnerContact != null && job.RfpAddress.OwnerContact.Addresses != null && job.RfpAddress.OwnerContact.Company != null ? job.RfpAddress.OwnerContact.Company.Addresses.FirstOrDefault(x => x.IdCompany == company_id) : null;
                            }
                            string val = ownerAddress != null ? ownerAddress.Address1 + " " + ownerAddress.Address2 : string.Empty;
                            if (docuementType == "Post Approval Amendment")
                            {
                                val = string.Empty;
                            }
                            if (updateJobDocumentField == null)
                            {
                                JobDocumentField JobDocumentField = new JobDocumentField
                                {
                                    IdJobDocument = idJobDocument,
                                    IdDocumentField = Convert.ToInt32(item.Id),
                                    Value = val,
                                    ActualValue = val
                                };
                                rpoContext.JobDocumentFields.Add(JobDocumentField);
                            }
                            else
                            {
                                updateJobDocumentField.Value = val;
                                updateJobDocumentField.ActualValue = val;
                                rpoContext.Entry(updateJobDocumentField).State = EntityState.Modified;
                                rpoContext.SaveChanges();
                            }
                        }
                        else if (item.Field.FieldName == "txtOwner_City")
                        {
                            Address ownerAddress = new Address();
                            ownerAddress = job != null && job.RfpAddress != null && job.RfpAddress.OwnerContact != null && job.RfpAddress.OwnerContact.Addresses != null ? job.RfpAddress.OwnerContact.Addresses.FirstOrDefault(x => x.IsMainAddress == true) : null;
                            if (job != null && job.RfpAddress != null && job.RfpAddress.OwnerContact != null && job.RfpAddress.OwnerContact != null && job.RfpAddress.OwnerContact.IsPrimaryCompanyAddress == true)
                            {
                                int? company_id = job != null && job.RfpAddress != null && job.RfpAddress.OwnerContact != null && job.RfpAddress.OwnerContact != null && job.RfpAddress.OwnerContact != null ? job.RfpAddress.OwnerContact.IdCompany : 0;
                                ownerAddress = job != null && job.RfpAddress != null && job.RfpAddress.OwnerContact != null && job.RfpAddress.OwnerContact.Addresses != null && job.RfpAddress.OwnerContact.Company != null ? job.RfpAddress.OwnerContact.Company.Addresses.FirstOrDefault(x => x.IdCompany == company_id) : null;
                            }
                            string val = ownerAddress != null ? ownerAddress.City : string.Empty;
                            if (docuementType == "Post Approval Amendment")
                            {
                                val = string.Empty;
                            }
                            if (updateJobDocumentField == null)
                            {
                                JobDocumentField JobDocumentField = new JobDocumentField
                                {
                                    IdJobDocument = idJobDocument,
                                    IdDocumentField = Convert.ToInt32(item.Id),
                                    Value = val,
                                    ActualValue = val
                                };
                                rpoContext.JobDocumentFields.Add(JobDocumentField);
                            }
                            else
                            {
                                updateJobDocumentField.Value = val;
                                updateJobDocumentField.ActualValue = val;
                                rpoContext.Entry(updateJobDocumentField).State = EntityState.Modified;
                                rpoContext.SaveChanges();
                            }
                        }
                        else if (item.Field.FieldName == "txtOwner_State")
                        {
                            Address ownerAddress = new Address();
                            ownerAddress = job != null && job.RfpAddress != null && job.RfpAddress.OwnerContact != null && job.RfpAddress.OwnerContact.Addresses != null ? job.RfpAddress.OwnerContact.Addresses.FirstOrDefault(x => x.IsMainAddress == true) : null;
                            if (job != null && job.RfpAddress != null && job.RfpAddress.OwnerContact != null && job.RfpAddress.OwnerContact != null && job.RfpAddress.OwnerContact.IsPrimaryCompanyAddress == true)
                            {
                                int? company_id = job != null && job.RfpAddress != null && job.RfpAddress.OwnerContact != null && job.RfpAddress.OwnerContact != null && job.RfpAddress.OwnerContact != null ? job.RfpAddress.OwnerContact.IdCompany : 0;
                                ownerAddress = job != null && job.RfpAddress != null && job.RfpAddress.OwnerContact != null && job.RfpAddress.OwnerContact.Addresses != null && job.RfpAddress.OwnerContact.Company != null ? job.RfpAddress.OwnerContact.Company.Addresses.FirstOrDefault(x => x.IdCompany == company_id) : null;
                            }

                            string val = ownerAddress != null && ownerAddress.State != null ? ownerAddress.State.Acronym : string.Empty;
                            if (docuementType == "Post Approval Amendment")
                            {
                                val = string.Empty;
                            }
                            if (updateJobDocumentField == null)
                            {
                                JobDocumentField JobDocumentField = new JobDocumentField
                                {
                                    IdJobDocument = idJobDocument,
                                    IdDocumentField = Convert.ToInt32(item.Id),
                                    Value = val,
                                    ActualValue = val
                                };
                                rpoContext.JobDocumentFields.Add(JobDocumentField);
                            }
                            else
                            {
                                updateJobDocumentField.Value = val;
                                updateJobDocumentField.ActualValue = val;
                                rpoContext.Entry(updateJobDocumentField).State = EntityState.Modified;
                                rpoContext.SaveChanges();
                            }
                        }
                        else if (item.Field.FieldName == "txtOwner_Zip")
                        {
                            Address ownerAddress = new Address();
                            ownerAddress = job != null && job.RfpAddress != null && job.RfpAddress.OwnerContact != null && job.RfpAddress.OwnerContact.Addresses != null ? job.RfpAddress.OwnerContact.Addresses.FirstOrDefault(x => x.IsMainAddress == true) : null;
                            if (job != null && job.RfpAddress != null && job.RfpAddress.OwnerContact != null && job.RfpAddress.OwnerContact != null && job.RfpAddress.OwnerContact.IsPrimaryCompanyAddress == true)
                            {
                                int? company_id = job != null && job.RfpAddress != null && job.RfpAddress.OwnerContact != null && job.RfpAddress.OwnerContact != null && job.RfpAddress.OwnerContact != null ? job.RfpAddress.OwnerContact.IdCompany : 0;
                                ownerAddress = job != null && job.RfpAddress != null && job.RfpAddress.OwnerContact != null && job.RfpAddress.OwnerContact.Addresses != null && job.RfpAddress.OwnerContact.Company != null ? job.RfpAddress.OwnerContact.Company.Addresses.FirstOrDefault(x => x.IdCompany == company_id) : null;
                            }

                            string val = ownerAddress != null ? ownerAddress.ZipCode : string.Empty;
                            if (docuementType == "Post Approval Amendment")
                            {
                                val = string.Empty;
                            }
                            if (updateJobDocumentField == null)
                            {
                                JobDocumentField JobDocumentField = new JobDocumentField
                                {
                                    IdJobDocument = idJobDocument,
                                    IdDocumentField = Convert.ToInt32(item.Id),
                                    Value = val,
                                    ActualValue = val
                                };
                                rpoContext.JobDocumentFields.Add(JobDocumentField);
                            }
                            else
                            {
                                updateJobDocumentField.Value = val;
                                updateJobDocumentField.ActualValue = val;
                                rpoContext.Entry(updateJobDocumentField).State = EntityState.Modified;
                                rpoContext.SaveChanges();
                            }
                        }
                        else if (item.Field.FieldName == "txtOwner_Phone")
                        {
                            string ownerPhone = job != null && job.RfpAddress != null && job.RfpAddress.OwnerContact != null ? job.RfpAddress.OwnerContact.WorkPhone : string.Empty;
                            if (ownerPhone == null || ownerPhone == "")
                            {
                                ownerPhone = job != null && job.RfpAddress != null && job.RfpAddress.OwnerContact != null ? job.RfpAddress.OwnerContact.MobilePhone : string.Empty;
                            }
                            if (docuementType == "Post Approval Amendment")
                            {
                                ownerPhone = string.Empty;
                            }
                            if (updateJobDocumentField == null)
                            {
                                JobDocumentField JobDocumentField = new JobDocumentField
                                {
                                    IdJobDocument = idJobDocument,
                                    IdDocumentField = Convert.ToInt32(item.Id),
                                    Value = ownerPhone,
                                    ActualValue = ownerPhone
                                };
                                rpoContext.JobDocumentFields.Add(JobDocumentField);
                            }
                            else
                            {
                                updateJobDocumentField.Value = ownerPhone;
                                updateJobDocumentField.ActualValue = ownerPhone;
                                rpoContext.Entry(updateJobDocumentField).State = EntityState.Modified;
                                rpoContext.SaveChanges();
                            }
                        }
                        else if (item.Field.FieldName == "txtOwner_EMail")
                        {
                            string val = job != null && job.RfpAddress != null && job.RfpAddress.OwnerContact != null ? job.RfpAddress.OwnerContact.Email : string.Empty;
                            if (docuementType == "Post Approval Amendment")
                            {
                                val = string.Empty;
                            }

                            if (updateJobDocumentField == null)
                            {
                                JobDocumentField JobDocumentField = new JobDocumentField
                                {
                                    IdJobDocument = idJobDocument,
                                    IdDocumentField = Convert.ToInt32(item.Id),
                                    Value = val,
                                    ActualValue = val
                                };
                                rpoContext.JobDocumentFields.Add(JobDocumentField);
                            }
                            else
                            {
                                updateJobDocumentField.Value = val;
                                updateJobDocumentField.ActualValue = val;
                                rpoContext.Entry(updateJobDocumentField).State = EntityState.Modified;
                                rpoContext.SaveChanges();
                            }
                        }

                        else if (item.Field.FieldName == "txtSO_Name")
                        {
                            // string val = job != null && job.RfpAddress != null ? Convert.ToString(job.RfpAddress.StreetLegalWidth) : string.Empty;

                            string val = string.Empty;
                            string ownertype = job != null && job.RfpAddress != null && job.RfpAddress.OwnerType != null && !string.IsNullOrEmpty(job.RfpAddress.OwnerType.Name) ? job.RfpAddress.OwnerType.Name : string.Empty;
                            if (ownertype.ToLower() == "Condo/Co-Op".ToLower() || ownertype.ToLower() == "CORPORATION".ToLower())
                            {
                                val = job != null && job.RfpAddress != null && job.RfpAddress.SecondOfficer != null ? job.RfpAddress.SecondOfficer.FirstName + " " + job.RfpAddress.SecondOfficer.LastName : string.Empty;
                                if (docuementType == "Post Approval Amendment")
                                {
                                    val = string.Empty;
                                }
                            }
                            if (updateJobDocumentField == null)
                            {
                                JobDocumentField JobDocumentField = new JobDocumentField
                                {
                                    IdJobDocument = idJobDocument,
                                    IdDocumentField = Convert.ToInt32(item.Id),
                                    Value = val,
                                    ActualValue = val
                                };
                                rpoContext.JobDocumentFields.Add(JobDocumentField);
                            }
                            else
                            {
                                updateJobDocumentField.Value = val;
                                updateJobDocumentField.ActualValue = val;
                                rpoContext.Entry(updateJobDocumentField).State = EntityState.Modified;
                                rpoContext.SaveChanges();
                            }
                        }
                        else if (item.Field.FieldName == "txtSO_Title")
                        {
                            string val = string.Empty;
                            string ownertype = job != null && job.RfpAddress != null && job.RfpAddress.OwnerType != null && !string.IsNullOrEmpty(job.RfpAddress.OwnerType.Name) ? job.RfpAddress.OwnerType.Name : string.Empty;
                            if (ownertype.ToLower() == "Condo/Co-Op".ToLower() || ownertype.ToLower() == "Corporation".ToLower())
                            {
                                val = job != null && job.RfpAddress != null && job.RfpAddress.SecondOfficer != null && job.RfpAddress.SecondOfficer.ContactTitle != null ? job.RfpAddress.SecondOfficer.ContactTitle.Name : string.Empty;
                                if (docuementType == "Post Approval Amendment")
                                {
                                    val = string.Empty;
                                }
                            }
                            if (updateJobDocumentField == null)
                            {
                                JobDocumentField JobDocumentField = new JobDocumentField
                                {
                                    IdJobDocument = idJobDocument,
                                    IdDocumentField = Convert.ToInt32(item.Id),
                                    Value = val,
                                    ActualValue = val
                                };
                                rpoContext.JobDocumentFields.Add(JobDocumentField);
                            }
                            else
                            {
                                updateJobDocumentField.Value = val;
                                updateJobDocumentField.ActualValue = val;
                                rpoContext.Entry(updateJobDocumentField).State = EntityState.Modified;
                                rpoContext.SaveChanges();
                            }
                        }
                        else if (item.Field.FieldName == "txtSO_Address")
                        {


                            string val = string.Empty;
                            string ownertype = job != null && job.RfpAddress != null && job.RfpAddress.OwnerType != null && !string.IsNullOrEmpty(job.RfpAddress.OwnerType.Name) ? job.RfpAddress.OwnerType.Name : string.Empty;
                            if (ownertype.ToLower() == "Condo/Co-Op".ToLower() || ownertype.ToLower() == "Corporation".ToLower())
                            {
                                Contact contact = job != null && job.RfpAddress.SecondOfficer != null ? job.RfpAddress.SecondOfficer : null;
                                Address contactAddress = contact != null && contact != null && contact.Addresses != null ? contact.Addresses.Where(x => x.IsMainAddress == true).FirstOrDefault() : null;

                                val = contactAddress != null ? contactAddress.Address1 + " " + contactAddress.Address2 : string.Empty;
                                if (docuementType == "Post Approval Amendment")
                                {
                                    val = string.Empty;
                                }

                            }

                            if (updateJobDocumentField == null)
                            {
                                JobDocumentField JobDocumentField = new JobDocumentField
                                {
                                    IdJobDocument = idJobDocument,
                                    IdDocumentField = Convert.ToInt32(item.Id),
                                    Value = val,
                                    ActualValue = val
                                };
                                rpoContext.JobDocumentFields.Add(JobDocumentField);
                            }
                            else
                            {
                                updateJobDocumentField.Value = val;
                                updateJobDocumentField.ActualValue = val;
                                rpoContext.Entry(updateJobDocumentField).State = EntityState.Modified;
                                rpoContext.SaveChanges();
                            }
                        }
                        else if (item.Field.FieldName == "txtSO_City")
                        {

                            string val = string.Empty;
                            string ownertype = job != null && job.RfpAddress != null && job.RfpAddress.OwnerType != null && !string.IsNullOrEmpty(job.RfpAddress.OwnerType.Name) ? job.RfpAddress.OwnerType.Name : string.Empty;
                            if (ownertype.ToLower() == "Condo/Co-Op".ToLower() || ownertype.ToLower() == "Corporation".ToLower())
                            {
                                Contact contact = job != null && job.RfpAddress.SecondOfficer != null ? job.RfpAddress.SecondOfficer : null;
                                Address contactAddress = contact != null && contact != null && contact.Addresses != null ? contact.Addresses.Where(x => x.IsMainAddress == true).FirstOrDefault() : null;

                                val = contactAddress != null ? contactAddress.City : string.Empty;
                                if (docuementType == "Post Approval Amendment")
                                {
                                    val = string.Empty;
                                }

                            }

                            if (updateJobDocumentField == null)
                            {
                                JobDocumentField JobDocumentField = new JobDocumentField
                                {
                                    IdJobDocument = idJobDocument,
                                    IdDocumentField = Convert.ToInt32(item.Id),
                                    Value = val,
                                    ActualValue = val
                                };
                                rpoContext.JobDocumentFields.Add(JobDocumentField);
                            }
                            else
                            {
                                updateJobDocumentField.Value = val;
                                updateJobDocumentField.ActualValue = val;
                                rpoContext.Entry(updateJobDocumentField).State = EntityState.Modified;
                                rpoContext.SaveChanges();
                            }
                        }
                        else if (item.Field.FieldName == "txtSO_State")
                        {

                            string val = string.Empty;
                            string ownertype = job != null && job.RfpAddress != null && job.RfpAddress.OwnerType != null && !string.IsNullOrEmpty(job.RfpAddress.OwnerType.Name) ? job.RfpAddress.OwnerType.Name : string.Empty;
                            if (ownertype.ToLower() == "Condo/Co-Op".ToLower() || ownertype.ToLower() == "Corporation".ToLower())
                            {
                                Contact contact = job != null && job.RfpAddress.SecondOfficer != null ? job.RfpAddress.SecondOfficer : null;
                                Address contactAddress = contact != null && contact != null && contact.Addresses != null ? contact.Addresses.Where(x => x.IsMainAddress == true).FirstOrDefault() : null;

                                val = contactAddress != null && contactAddress.State != null ? contactAddress.State.Acronym : string.Empty;
                                if (docuementType == "Post Approval Amendment")
                                {
                                    val = string.Empty;
                                }
                            }
                            if (updateJobDocumentField == null)
                            {
                                JobDocumentField JobDocumentField = new JobDocumentField
                                {
                                    IdJobDocument = idJobDocument,
                                    IdDocumentField = Convert.ToInt32(item.Id),
                                    Value = val,
                                    ActualValue = val
                                };
                                rpoContext.JobDocumentFields.Add(JobDocumentField);
                            }
                            else
                            {
                                updateJobDocumentField.Value = val;
                                updateJobDocumentField.ActualValue = val;
                                rpoContext.Entry(updateJobDocumentField).State = EntityState.Modified;
                                rpoContext.SaveChanges();
                            }
                        }
                        else if (item.Field.FieldName == "txtSO_Zip")
                        {
                            string val = string.Empty;
                            string ownertype = job != null && job.RfpAddress != null && job.RfpAddress.OwnerType != null && !string.IsNullOrEmpty(job.RfpAddress.OwnerType.Name) ? job.RfpAddress.OwnerType.Name : string.Empty;
                            if (ownertype.ToLower() == "Condo/Co-Op".ToLower() || ownertype.ToLower() == "Corporation".ToLower())
                            {
                                Contact contact = job != null && job.RfpAddress.SecondOfficer != null ? job.RfpAddress.SecondOfficer : null;
                                Address contactAddress = contact != null && contact != null && contact.Addresses != null ? contact.Addresses.Where(x => x.IsMainAddress == true).FirstOrDefault() : null;

                                val = contactAddress != null ? contactAddress.ZipCode : string.Empty;
                                if (docuementType == "Post Approval Amendment")
                                {
                                    val = string.Empty;
                                }

                            }
                            if (updateJobDocumentField == null)
                            {
                                JobDocumentField JobDocumentField = new JobDocumentField
                                {
                                    IdJobDocument = idJobDocument,
                                    IdDocumentField = Convert.ToInt32(item.Id),
                                    Value = val,
                                    ActualValue = val
                                };
                                rpoContext.JobDocumentFields.Add(JobDocumentField);
                            }
                            else
                            {
                                updateJobDocumentField.Value = val;
                                updateJobDocumentField.ActualValue = val;
                                rpoContext.Entry(updateJobDocumentField).State = EntityState.Modified;
                                rpoContext.SaveChanges();
                            }
                        }
                        else if (item.Field.FieldName == "txtSO_Phone")
                        {
                            string val = string.Empty;
                            string ownertype = job != null && job.RfpAddress != null && job.RfpAddress.OwnerType != null && !string.IsNullOrEmpty(job.RfpAddress.OwnerType.Name) ? job.RfpAddress.OwnerType.Name : string.Empty;
                            if (ownertype.ToLower() == "Condo/Co-Op".ToLower() || ownertype.ToLower() == "Corporation".ToLower())
                            {
                                val = job != null && job.RfpAddress != null && job.RfpAddress.SecondOfficer != null ? job.RfpAddress.SecondOfficer.WorkPhone : string.Empty;
                                if (docuementType == "Post Approval Amendment")
                                {
                                    val = string.Empty;
                                }
                            }
                            if (updateJobDocumentField == null)
                            {
                                JobDocumentField JobDocumentField = new JobDocumentField
                                {
                                    IdJobDocument = idJobDocument,
                                    IdDocumentField = Convert.ToInt32(item.Id),
                                    Value = val,
                                    ActualValue = val
                                };
                                rpoContext.JobDocumentFields.Add(JobDocumentField);
                            }
                            else
                            {
                                updateJobDocumentField.Value = val;
                                updateJobDocumentField.ActualValue = val;
                                rpoContext.Entry(updateJobDocumentField).State = EntityState.Modified;
                                rpoContext.SaveChanges();
                            }
                        }
                        else if (item.Field.FieldName == "txtSO_EMail")
                        {
                            string val = string.Empty;
                            string ownertype = job != null && job.RfpAddress != null && job.RfpAddress.OwnerType != null && !string.IsNullOrEmpty(job.RfpAddress.OwnerType.Name) ? job.RfpAddress.OwnerType.Name : string.Empty;
                            if (ownertype.ToLower() == "Condo/Co-Op".ToLower() || ownertype.ToLower() == "Corporation".ToLower())
                            {
                                val = job != null && job.RfpAddress != null && job.RfpAddress.SecondOfficer != null ? job.RfpAddress.SecondOfficer.Email : string.Empty;
                                if (docuementType == "Post Approval Amendment")
                                {
                                    val = string.Empty;
                                }
                            }

                            if (updateJobDocumentField == null)
                            {
                                JobDocumentField JobDocumentField = new JobDocumentField
                                {
                                    IdJobDocument = idJobDocument,
                                    IdDocumentField = Convert.ToInt32(item.Id),
                                    Value = val,
                                    ActualValue = val
                                };
                                rpoContext.JobDocumentFields.Add(JobDocumentField);
                            }
                            else
                            {
                                updateJobDocumentField.Value = val;
                                updateJobDocumentField.ActualValue = val;
                                rpoContext.Entry(updateJobDocumentField).State = EntityState.Modified;
                                rpoContext.SaveChanges();
                            }
                        }

                        else if (item.Field.FieldName == "chk26I")
                        {
                            string val = string.Empty;
                            string ownertype = job != null && job.RfpAddress != null && job.RfpAddress.OwnerType != null && !string.IsNullOrEmpty(job.RfpAddress.OwnerType.Name) ? job.RfpAddress.OwnerType.Name : string.Empty;
                            if (ownertype.ToUpper() == "INDIVIDUAL")
                            {
                                val = "1";
                            }
                            if (ownertype.ToUpper() == "PARTNERSHIP")
                            {
                                val = "2";
                            }
                            if (ownertype.ToUpper() == "CORPORATION")
                            {
                                val = "3";
                            }
                            if (ownertype.ToLower() == "Condo/Co-Op".ToLower())
                            {
                                val = "5";
                                if (docuementType == "Post Approval Amendment")
                                {
                                    val = string.Empty;
                                }
                            }

                            if (updateJobDocumentField == null)
                            {
                                JobDocumentField JobDocumentField = new JobDocumentField
                                {
                                    IdJobDocument = idJobDocument,
                                    IdDocumentField = Convert.ToInt32(item.Id),
                                    Value = val,
                                    ActualValue = val
                                };
                                rpoContext.JobDocumentFields.Add(JobDocumentField);
                            }
                            else
                            {
                                updateJobDocumentField.Value = val;
                                updateJobDocumentField.ActualValue = val;
                                rpoContext.Entry(updateJobDocumentField).State = EntityState.Modified;
                                rpoContext.SaveChanges();
                            }
                        }
                        else if (item.Field.FieldName == "chk26P")
                        {
                            string val = string.Empty;
                            string ownertype = job != null && job.RfpAddress != null && job.RfpAddress.OwnerType != null && !string.IsNullOrEmpty(job.RfpAddress.OwnerType.Name) ? job.RfpAddress.OwnerType.Name : string.Empty;
                            if (ownertype.ToUpper() == "PARTNERSHIP")
                            {
                                val = "2";
                            }

                            if (updateJobDocumentField == null)
                            {
                                JobDocumentField JobDocumentField = new JobDocumentField
                                {
                                    IdJobDocument = idJobDocument,
                                    IdDocumentField = Convert.ToInt32(item.Id),
                                    Value = val,
                                    ActualValue = val
                                };
                                rpoContext.JobDocumentFields.Add(JobDocumentField);
                            }
                            else
                            {
                                updateJobDocumentField.Value = val;
                                updateJobDocumentField.ActualValue = val;
                                rpoContext.Entry(updateJobDocumentField).State = EntityState.Modified;
                                rpoContext.SaveChanges();
                            }
                        }
                        else if (item.Field.FieldName == "chk26C")
                        {
                            string val = string.Empty;
                            string ownertype = job != null && job.RfpAddress != null && job.RfpAddress.OwnerType != null && !string.IsNullOrEmpty(job.RfpAddress.OwnerType.Name) ? job.RfpAddress.OwnerType.Name : string.Empty;
                            if (ownertype == "CORPORATION")
                            {
                                val = "3";
                            }


                            if (updateJobDocumentField == null)
                            {
                                JobDocumentField JobDocumentField = new JobDocumentField
                                {
                                    IdJobDocument = idJobDocument,
                                    IdDocumentField = Convert.ToInt32(item.Id),
                                    Value = val,
                                    ActualValue = val
                                };
                                rpoContext.JobDocumentFields.Add(JobDocumentField);
                            }
                            else
                            {
                                updateJobDocumentField.Value = val;
                                updateJobDocumentField.ActualValue = val;
                                rpoContext.Entry(updateJobDocumentField).State = EntityState.Modified;
                                rpoContext.SaveChanges();
                            }
                        }
                        else if (item.Field.FieldName == "chk26G")
                        {
                            string val = string.Empty;
                            string ownertype = job != null && job.RfpAddress != null && job.RfpAddress.OwnerType != null && !string.IsNullOrEmpty(job.RfpAddress.OwnerType.Name) ? job.RfpAddress.OwnerType.Name : string.Empty;
                            if (ownertype == "GOV-OTHER")
                            {
                                val = "On";
                            }

                            if (updateJobDocumentField == null)
                            {
                                JobDocumentField JobDocumentField = new JobDocumentField
                                {
                                    IdJobDocument = idJobDocument,
                                    IdDocumentField = Convert.ToInt32(item.Id),
                                    Value = val,
                                    ActualValue = val
                                };
                                rpoContext.JobDocumentFields.Add(JobDocumentField);
                            }
                            else
                            {
                                updateJobDocumentField.Value = val;
                                updateJobDocumentField.ActualValue = val;
                                rpoContext.Entry(updateJobDocumentField).State = EntityState.Modified;
                                rpoContext.SaveChanges();
                            }
                        }
                        else if (item.Field.FieldName == "chk26O")
                        {


                            string val = string.Empty;
                            string ownertype = job != null && job.RfpAddress != null && job.RfpAddress.OwnerType != null && !string.IsNullOrEmpty(job.RfpAddress.OwnerType.Name) ? job.RfpAddress.OwnerType.Name : string.Empty;
                            if (ownertype.ToLower() == "Condo/Co-Op".ToLower())
                            {
                                val = "5";
                                if (docuementType == "Post Approval Amendment")
                                {
                                    val = string.Empty;
                                }


                            }

                            if (updateJobDocumentField == null)
                            {
                                JobDocumentField JobDocumentField = new JobDocumentField
                                {
                                    IdJobDocument = idJobDocument,
                                    IdDocumentField = Convert.ToInt32(item.Id),
                                    Value = val,
                                    ActualValue = val
                                };
                                rpoContext.JobDocumentFields.Add(JobDocumentField);
                            }
                            else
                            {
                                updateJobDocumentField.Value = val;
                                updateJobDocumentField.ActualValue = val;
                                rpoContext.Entry(updateJobDocumentField).State = EntityState.Modified;
                                rpoContext.SaveChanges();
                            }
                        }
                        else if (item.Field.FieldName == "chk26NN")
                        {
                            string val = string.Empty;
                            //  string ownertype = job != null && job.RfpAddress != null && !string.IsNullOrEmpty(job.RfpAddress.OwnerType.Name) ? job.RfpAddress.OwnerType.Name : string.Empty;
                            //if (ownertype == "DCAS")
                            //{
                            //    val = "On";
                            //}

                            if (updateJobDocumentField == null)
                            {
                                JobDocumentField JobDocumentField = new JobDocumentField
                                {
                                    IdJobDocument = idJobDocument,
                                    IdDocumentField = Convert.ToInt32(item.Id),
                                    Value = val,
                                    ActualValue = val
                                };
                                rpoContext.JobDocumentFields.Add(JobDocumentField);
                            }
                            else
                            {
                                updateJobDocumentField.Value = val;
                                updateJobDocumentField.ActualValue = val;
                                rpoContext.Entry(updateJobDocumentField).State = EntityState.Modified;
                                rpoContext.SaveChanges();
                            }
                        }
                        else if (item.Field.FieldName == "chk26A")
                        {
                            string val = string.Empty;
                            string ownertype = job != null && job.RfpAddress != null && job.RfpAddress.OwnerType != null && !string.IsNullOrEmpty(job.RfpAddress.OwnerType.Name) ? job.RfpAddress.OwnerType.Name : string.Empty;
                            if (ownertype == "DCAS")
                            {
                                val = "On";
                            }

                            if (updateJobDocumentField == null)
                            {
                                JobDocumentField JobDocumentField = new JobDocumentField
                                {
                                    IdJobDocument = idJobDocument,
                                    IdDocumentField = Convert.ToInt32(item.Id),
                                    Value = val,
                                    ActualValue = val
                                };
                                rpoContext.JobDocumentFields.Add(JobDocumentField);
                            }
                            else
                            {
                                updateJobDocumentField.Value = val;
                                updateJobDocumentField.ActualValue = val;
                                rpoContext.Entry(updateJobDocumentField).State = EntityState.Modified;
                                rpoContext.SaveChanges();
                            }
                        }
                        else if (item.Field.FieldName == "chk26H")
                        {
                            string val = string.Empty;
                            string ownertype = job != null && job.RfpAddress != null && job.RfpAddress.OwnerType != null && !string.IsNullOrEmpty(job.RfpAddress.OwnerType.Name) ? job.RfpAddress.OwnerType.Name : string.Empty;
                            if (ownertype == "HHC")
                            {
                                val = "On";
                            }

                            if (updateJobDocumentField == null)
                            {
                                JobDocumentField JobDocumentField = new JobDocumentField
                                {
                                    IdJobDocument = idJobDocument,
                                    IdDocumentField = Convert.ToInt32(item.Id),
                                    Value = val,
                                    ActualValue = val
                                };
                                rpoContext.JobDocumentFields.Add(JobDocumentField);
                            }
                            else
                            {
                                updateJobDocumentField.Value = val;
                                updateJobDocumentField.ActualValue = val;
                                rpoContext.Entry(updateJobDocumentField).State = EntityState.Modified;
                                rpoContext.SaveChanges();
                            }
                        }
                        else if (item.Field.FieldName == "chk26Y")
                        {
                            string val = string.Empty;
                            string ownertype = job != null && job.RfpAddress != null && job.RfpAddress.OwnerType != null && !string.IsNullOrEmpty(job.RfpAddress.OwnerType.Name) ? job.RfpAddress.OwnerType.Name : string.Empty;
                            if (ownertype == "NYCHA")
                            {
                                val = "On";
                            }

                            if (updateJobDocumentField == null)
                            {
                                JobDocumentField JobDocumentField = new JobDocumentField
                                {
                                    IdJobDocument = idJobDocument,
                                    IdDocumentField = Convert.ToInt32(item.Id),
                                    Value = val,
                                    ActualValue = val
                                };
                                rpoContext.JobDocumentFields.Add(JobDocumentField);
                            }
                            else
                            {
                                updateJobDocumentField.Value = val;
                                updateJobDocumentField.ActualValue = val;
                                rpoContext.Entry(updateJobDocumentField).State = EntityState.Modified;
                                rpoContext.SaveChanges();
                            }
                        }
                        else if (item.Field.FieldName == "chk26E")
                        {
                            string val = string.Empty;
                            string ownertype = job != null && job.RfpAddress != null && job.RfpAddress.OwnerType != null && !string.IsNullOrEmpty(job.RfpAddress.OwnerType.Name) ? job.RfpAddress.OwnerType.Name : string.Empty;
                            if (ownertype == "DOE")
                            {
                                val = "On";
                            }

                            if (updateJobDocumentField == null)
                            {
                                JobDocumentField JobDocumentField = new JobDocumentField
                                {
                                    IdJobDocument = idJobDocument,
                                    IdDocumentField = Convert.ToInt32(item.Id),
                                    Value = val,
                                    ActualValue = val
                                };
                                rpoContext.JobDocumentFields.Add(JobDocumentField);
                            }
                            else
                            {
                                updateJobDocumentField.Value = val;
                                updateJobDocumentField.ActualValue = val;
                                rpoContext.Entry(updateJobDocumentField).State = EntityState.Modified;
                                rpoContext.SaveChanges();
                            }
                        }
                        else if (item.Field.FieldName == "chk26D")
                        {
                            string val = string.Empty;
                            string ownertype = job != null && job.RfpAddress != null && job.RfpAddress.OwnerType != null && !string.IsNullOrEmpty(job.RfpAddress.OwnerType.Name) ? job.RfpAddress.OwnerType.Name : string.Empty;
                            if (ownertype == "HPD")
                            {
                                val = "On";
                            }

                            if (updateJobDocumentField == null)
                            {
                                JobDocumentField JobDocumentField = new JobDocumentField
                                {
                                    IdJobDocument = idJobDocument,
                                    IdDocumentField = Convert.ToInt32(item.Id),
                                    Value = val,
                                    ActualValue = val
                                };
                                rpoContext.JobDocumentFields.Add(JobDocumentField);
                            }
                            else
                            {
                                updateJobDocumentField.Value = val;
                                updateJobDocumentField.ActualValue = val;
                                rpoContext.Entry(updateJobDocumentField).State = EntityState.Modified;
                                rpoContext.SaveChanges();
                            }
                        }
                        else if (item.Field.FieldName == "chk26T")
                        {
                            string val = string.Empty;
                            string ownertype = job != null && job.RfpAddress != null && job.RfpAddress.OwnerType != null && !string.IsNullOrEmpty(job.RfpAddress.OwnerType.Name) ? job.RfpAddress.OwnerType.Name : string.Empty;
                            if (ownertype == "NY STATE")
                            {
                                val = "On";
                            }

                            if (updateJobDocumentField == null)
                            {
                                JobDocumentField JobDocumentField = new JobDocumentField
                                {
                                    IdJobDocument = idJobDocument,
                                    IdDocumentField = Convert.ToInt32(item.Id),
                                    Value = val,
                                    ActualValue = val
                                };
                                rpoContext.JobDocumentFields.Add(JobDocumentField);
                            }
                            else
                            {
                                updateJobDocumentField.Value = val;
                                updateJobDocumentField.ActualValue = val;
                                rpoContext.Entry(updateJobDocumentField).State = EntityState.Modified;
                                rpoContext.SaveChanges();
                            }
                        }
                        else if (item.Field.FieldName == "chkBA1")
                        {
                            string val = string.Empty;
                            if (ApplicationType.Trim().ToLower() == "ALT I".ToLower())
                            {
                                //val = "On";
                            }
                            if (updateJobDocumentField == null)
                            {
                                JobDocumentField JobDocumentField = new JobDocumentField
                                {
                                    IdJobDocument = idJobDocument,
                                    IdDocumentField = Convert.ToInt32(item.Id),
                                    Value = val,
                                    ActualValue = val
                                };
                                rpoContext.JobDocumentFields.Add(JobDocumentField);
                            }
                            else
                            {
                                updateJobDocumentField.Value = val;
                                updateJobDocumentField.ActualValue = val;
                                rpoContext.Entry(updateJobDocumentField).State = EntityState.Modified;
                                rpoContext.SaveChanges();
                            }
                        }
                        else if (item.Field.FieldName == "chkBA2")
                        {
                            string val = string.Empty;
                            if (ApplicationType.Trim().ToLower() == "ALT II".ToLower())
                            {
                                // val = "On";
                            }
                            if (updateJobDocumentField == null)
                            {
                                JobDocumentField JobDocumentField = new JobDocumentField
                                {
                                    IdJobDocument = idJobDocument,
                                    IdDocumentField = Convert.ToInt32(item.Id),
                                    Value = val,
                                    ActualValue = val
                                };
                                rpoContext.JobDocumentFields.Add(JobDocumentField);
                            }
                            else
                            {
                                updateJobDocumentField.Value = val;
                                updateJobDocumentField.ActualValue = val;
                                rpoContext.Entry(updateJobDocumentField).State = EntityState.Modified;
                                rpoContext.SaveChanges();
                            }
                        }
                        else if (item.Field.FieldName == "chkBDM")
                        {
                            string val = string.Empty;
                            if (ApplicationType.Trim().ToLower() == "FULL DEMOLITION".ToLower())
                            {
                                // val = "On";
                            }
                            if (updateJobDocumentField == null)
                            {
                                JobDocumentField JobDocumentField = new JobDocumentField
                                {
                                    IdJobDocument = idJobDocument,
                                    IdDocumentField = Convert.ToInt32(item.Id),
                                    Value = val,
                                    ActualValue = val
                                };
                                rpoContext.JobDocumentFields.Add(JobDocumentField);
                            }
                            else
                            {
                                updateJobDocumentField.Value = val;
                                updateJobDocumentField.ActualValue = val;
                                rpoContext.Entry(updateJobDocumentField).State = EntityState.Modified;
                                rpoContext.SaveChanges();
                            }
                        }
                        else if (item.Field.FieldName == "chkBA3")
                        {
                            string val = string.Empty;
                            if (ApplicationType.Trim().ToLower() == "ALT III".ToLower())
                            {
                                // val = "On";
                            }
                            if (updateJobDocumentField == null)
                            {
                                JobDocumentField JobDocumentField = new JobDocumentField
                                {
                                    IdJobDocument = idJobDocument,
                                    IdDocumentField = Convert.ToInt32(item.Id),
                                    Value = val,
                                    ActualValue = val
                                };
                                rpoContext.JobDocumentFields.Add(JobDocumentField);
                            }
                            else
                            {
                                updateJobDocumentField.Value = val;
                                updateJobDocumentField.ActualValue = val;
                                rpoContext.Entry(updateJobDocumentField).State = EntityState.Modified;
                                rpoContext.SaveChanges();
                            }
                        }
                        else if (item.Field.FieldName == "chkBNB")
                        {
                            string val = string.Empty;
                            if (ApplicationType.Trim().ToLower() == "NEW BUILDING".ToLower())
                            {
                                //   val = "On";
                            }
                            if (updateJobDocumentField == null)
                            {
                                JobDocumentField JobDocumentField = new JobDocumentField
                                {
                                    IdJobDocument = idJobDocument,
                                    IdDocumentField = Convert.ToInt32(item.Id),
                                    Value = val,
                                    ActualValue = val
                                };
                                rpoContext.JobDocumentFields.Add(JobDocumentField);
                            }
                            else
                            {
                                updateJobDocumentField.Value = val;
                                updateJobDocumentField.ActualValue = val;
                                rpoContext.Entry(updateJobDocumentField).State = EntityState.Modified;
                                rpoContext.SaveChanges();
                            }
                        }
                        else if (item.Field.FieldName == "chkSoilDisturbanceNo")
                        {
                            if (updateJobDocumentField == null)
                            {
                                JobDocumentField JobDocumentField = new JobDocumentField
                                {
                                    IdJobDocument = idJobDocument,
                                    IdDocumentField = Convert.ToInt32(item.Id),
                                    Value = "2",
                                    ActualValue = "2"
                                };
                                rpoContext.JobDocumentFields.Add(JobDocumentField);
                            }
                            else
                            {
                                updateJobDocumentField.Value = "2";
                                updateJobDocumentField.ActualValue = "2";
                                rpoContext.Entry(updateJobDocumentField).State = EntityState.Modified;
                                rpoContext.SaveChanges();
                            }
                        }
                        else if (item.Field.FieldName == "chkMS4AreaNo")
                        {
                            if (updateJobDocumentField == null)
                            {
                                JobDocumentField JobDocumentField = new JobDocumentField
                                {
                                    IdJobDocument = idJobDocument,
                                    IdDocumentField = Convert.ToInt32(item.Id),
                                    Value = "5",
                                    ActualValue = "5"
                                };
                                rpoContext.JobDocumentFields.Add(JobDocumentField);
                            }
                            else
                            {
                                updateJobDocumentField.Value = "5";
                                updateJobDocumentField.ActualValue = "5";
                                rpoContext.Entry(updateJobDocumentField).State = EntityState.Modified;
                                rpoContext.SaveChanges();
                            }
                        }
                        else if (item.Field.FieldName == "chk26N")
                        {
                            string val = string.Empty;
                            //string ownertype = job != null && job.RfpAddress != null && !string.IsNullOrEmpty(job.RfpAddress.OwnerType.Name) ? job.RfpAddress.OwnerType.Name : string.Empty;
                            //if (ownertype == "NYC AGENCY")
                            //{
                            //    val = "On";
                            //}

                            if (updateJobDocumentField == null)
                            {
                                JobDocumentField JobDocumentField = new JobDocumentField
                                {
                                    IdJobDocument = idJobDocument,
                                    IdDocumentField = Convert.ToInt32(item.Id),
                                    Value = val,
                                    ActualValue = val
                                };
                                rpoContext.JobDocumentFields.Add(JobDocumentField);
                            }
                            else
                            {
                                updateJobDocumentField.Value = val;
                                updateJobDocumentField.ActualValue = val;
                                rpoContext.Entry(updateJobDocumentField).State = EntityState.Modified;
                                rpoContext.SaveChanges();
                            }
                        }



                        rpoContext.SaveChanges();
                    }
                    else
                    {

                        if (item.Field.FieldName == "Application")
                        {
                            int jobApplicantId = Convert.ToInt32(frontendFields.Value);
                            JobApplication jobApplication = rpoContext.JobApplications.FirstOrDefault(x => x.Id == jobApplicantId);
                            // ApplicationType = jobApplication != null && jobApplication.JobApplicationType != null ? jobApplication.JobApplicationType.Description : string.Empty;
                            ApplicationType = rpoContext.JobApplicationTypes.Where(x => x.Id == jobApplication.IdJobApplicationType).Select(x => x.Description).FirstOrDefault();

                            applicationNumber = jobApplication != null ? jobApplication.ApplicationNumber : string.Empty;
                            floorWorkingOn = jobApplication != null ? jobApplication.FloorWorking : string.Empty;

                            if (updateJobDocumentField == null)
                            {
                                JobDocumentField JobDocumentField = new JobDocumentField
                                {
                                    IdJobDocument = idJobDocument,
                                    IdDocumentField = Convert.ToInt32(item.Id),
                                    Value = frontendFields.Value,
                                    ActualValue = applicationNumber
                                };
                                rpoContext.JobDocumentFields.Add(JobDocumentField);
                            }
                            else
                            {
                                updateJobDocumentField.Value = frontendFields.Value;
                                updateJobDocumentField.ActualValue = applicationNumber;
                                rpoContext.Entry(updateJobDocumentField).State = EntityState.Modified;
                                rpoContext.SaveChanges();
                            }
                        }

                        else if (item.Field.FieldName == "Applicant")
                        {
                            int certifierid = Convert.ToInt32(frontendFields.Value);

                            JobContact jobContact = rpoContext.JobContacts.Where(x => x.Id == certifierid).FirstOrDefault();

                            applicantName = jobContact != null && jobContact.Contact != null ? jobContact.Contact.FirstName + " " + jobContact.Contact.LastName : string.Empty;
                            applicantFirstName = jobContact != null && jobContact.Contact != null ? jobContact.Contact.FirstName : string.Empty;
                            applicantMiddleName = jobContact != null && jobContact.Contact != null ? jobContact.Contact.MiddleName : string.Empty;
                            applicantLastName = jobContact != null && jobContact.Contact != null ? jobContact.Contact.LastName : string.Empty;
                            contactcompany = jobContact != null && jobContact.Contact != null && jobContact.Contact.Company != null ? jobContact.Contact.Company.Name : string.Empty;
                            // Address compnayAddress = jobContact != null && jobContact.Company != null && jobContact.Company.Addresses != null ? jobContact.Company.Addresses.OrderBy(x => x.AddressType.DisplayOrder).FirstOrDefault() : null;
                            Address compnayAddress = Common.GetContactAddressForJobDocument(jobContact);
                            businessAddress = compnayAddress != null ? compnayAddress.Address1 + " " + compnayAddress.Address2 : string.Empty;
                            businessCity = compnayAddress != null ? compnayAddress.City : string.Empty;
                            businessState = compnayAddress != null && compnayAddress.State != null ? compnayAddress.State.Acronym : string.Empty;
                            businessZip = compnayAddress != null ? compnayAddress.ZipCode : string.Empty;

                            contactMobilePhone = Common.GetContactPhoneNumberForJobDocument(jobContact);
                            //!= null && jobContact.Contact != null ? jobContact.Contact.MobilePhone : string.Empty;
                            contactEmail = jobContact != null ? jobContact.Contact.Email : string.Empty;
                            applicantmobilenumber = jobContact != null ? jobContact.Contact.MobilePhone : string.Empty;

                            string licenceTypeNumber = jobContact != null && jobContact.Contact != null && jobContact.Contact.ContactLicenses != null && jobContact.Contact.ContactLicenses.Count > 0 ?
                                 jobContact.Contact.ContactLicenses.Select(x => x.Number).FirstOrDefault() : string.Empty;
                            if (!string.IsNullOrEmpty(licenceTypeNumber))
                            {
                                ContactLicense contactLicenseType = rpoContext.ContactLicenses.Where(a => a.Number == licenceTypeNumber).FirstOrDefault();
                                ContactLicenseType LicenseType = rpoContext.ContactLicenseTypes.Where(b => b.Id == contactLicenseType.IdContactLicenseType).FirstOrDefault();
                                if (LicenseType.Name == "Engineer")
                                {
                                    contactLic_state_engineer = "1";
                                    contactLic_No = licenceTypeNumber;
                                }
                                else if (LicenseType.Name == "Architect")
                                {
                                    contactLic_state_architect = "2";
                                    contactLic_No = licenceTypeNumber;
                                }
                            }
                            else
                            {
                                licenceTypeNumber = jobContact != null && jobContact.Contact != null && jobContact.Contact.ContactLicenses != null && jobContact.Contact.ContactLicenses.Count > 0 ?
                                jobContact.Contact.ContactLicenses.Select(x => x.ContactLicenseType.Name).FirstOrDefault() : string.Empty;
                                if (licenceTypeNumber.ToLower() == ("Engineer").ToLower())
                                {
                                    contactLic_state_engineer = "1";
                                }
                                else if (licenceTypeNumber.ToLower() == ("Architect").ToLower())
                                {
                                    contactLic_state_architect = "2";
                                }
                            }
                            contactTitle = jobContact != null && jobContact.Contact != null && jobContact.Contact.ContactTitle != null ? jobContact.Contact.ContactTitle.Name : string.Empty;
                            documentDescription = documentDescription + (!string.IsNullOrEmpty(documentDescription) && !string.IsNullOrEmpty(applicantFirstName + " " + applicantLastName) ? " | " : string.Empty) + (!string.IsNullOrEmpty(applicantFirstName + " " + applicantLastName) ? "Applicant: " + applicantFirstName + " " + applicantLastName : string.Empty);

                            if (updateJobDocumentField == null)
                            {
                                JobDocumentField JobDocumentField = new JobDocumentField
                                {
                                    IdJobDocument = idJobDocument,
                                    IdDocumentField = frontendFields.IdDocumentField,
                                    Value = frontendFields.Value,
                                    ActualValue = applicantLastName
                                };
                                rpoContext.JobDocumentFields.Add(JobDocumentField);
                                rpoContext.SaveChanges();
                            }
                            else
                            {
                                updateJobDocumentField.Value = frontendFields.Value;
                                updateJobDocumentField.ActualValue = applicantLastName;
                                rpoContext.Entry(updateJobDocumentField).State = EntityState.Modified;
                                rpoContext.SaveChanges();
                            }
                        }

                        else if (item.Field.FieldName == "Filing Representative")
                        {
                            int idFilingRepresentative = Convert.ToInt32(frontendFields.Value);
                            //Employee employee = rpoContext.Employees.Where(x => x.Id == idFilingRepresentative).FirstOrDefault();
                            Employee employee = Common.GetEmployeeInformation(idFilingRepresentative);

                            filingRepresentativefirstname = employee != null ? employee.FirstName : string.Empty;
                            filingRepresentativelastname = employee != null ? employee.LastName : string.Empty;
                            frfirstname = employee != null ? employee.FirstName : string.Empty;
                            frLastname = employee != null ? employee.LastName : string.Empty;

                            filingRepresentativeCompany = "RPO INC";
                            filingRepresentativeaddress = employee != null ? employee.Address1 : string.Empty;
                            filingRepresentativePhone = employee != null ? employee.WorkPhone : string.Empty;
                            filingRepresentativeEmail = employee != null ? employee.Email : string.Empty;
                            filingRepresentativestate = employee != null ? employee.State.Acronym : string.Empty;
                            filingRepresentativecity = employee != null ? employee.City : string.Empty;
                            filingRepresentativezip = employee != null ? employee.ZipCode : string.Empty;
                            filingRepresentativemobile = employee != null ? employee.MobilePhone : string.Empty;
                            //  filingRepresentativeEmail = employee != null ? employee.Email : string.Empty;

                            string filingRepresentative = employee != null ? employee.FirstName + " " + employee.LastName : string.Empty;

                            AgentCertificate agentCertificate = rpoContext.AgentCertificates
                            .Include("DocumentType").FirstOrDefault(x => x.IdEmployee == idFilingRepresentative && x.DocumentType.Name.Equals("DOB Filing Representative"));
                            filingRepresentativRegnumber = agentCertificate != null ? agentCertificate.NumberId : string.Empty;
                            // documentDescription = documentDescription + (!string.IsNullOrEmpty(filingRepresentative) ? "Filing Representative: " + filingRepresentative : string.Empty);

                            documentDescription = documentDescription + (!string.IsNullOrEmpty(frfirstname) && !string.IsNullOrEmpty(frLastname) ? " | Filing Representative: " + frfirstname + " " + frLastname : string.Empty);
                            updateJobDocumentField = jobDocumentFieldList.FirstOrDefault(x => x.IdDocumentField == item.Id);
                            if (updateJobDocumentField == null)
                            {
                                JobDocumentField JobDocumentField = new JobDocumentField
                                {
                                    IdJobDocument = idJobDocument,
                                    IdDocumentField = Convert.ToInt32(item.Id),
                                    Value = frontendFields.Value,
                                    ActualValue = filingRepresentative,

                                };
                                rpoContext.JobDocumentFields.Add(JobDocumentField);
                            }
                            else
                            {
                                updateJobDocumentField.Value = frontendFields.Value;
                                updateJobDocumentField.ActualValue = filingRepresentative;
                                rpoContext.Entry(updateJobDocumentField).State = EntityState.Modified;
                                rpoContext.SaveChanges();
                            }
                        }

                        else if (item.Field.FieldName == "Filing Representative2")
                        {
                            int idFilingRepresentative = Convert.ToInt32(frontendFields.Value);
                            //Employee employee = rpoContext.Employees.Where(x => x.Id == idFilingRepresentative).FirstOrDefault();
                            if (idFilingRepresentative != 0)
                            {
                                Employee employee = Common.GetEmployeeInformation(idFilingRepresentative);

                                filingRepresentativefirstname = filingRepresentativefirstname + (employee != null ? (!string.IsNullOrEmpty(filingRepresentativefirstname) ? "/" : string.Empty) + employee.FirstName : string.Empty);
                                filingRepresentativelastname = filingRepresentativelastname + (employee != null ? (!string.IsNullOrEmpty(filingRepresentativelastname) ? "/" : string.Empty) + employee.LastName : string.Empty);
                                frfirstname = employee != null ? employee.FirstName : string.Empty;
                                frLastname = employee != null ? employee.LastName : string.Empty;

                                filingRepresentativeCompany = "RPO INC";
                                filingRepresentativePhone = employee != null ? employee.WorkPhone : string.Empty;
                            }
                            documentDescription = documentDescription + (!string.IsNullOrEmpty(frfirstname) && !string.IsNullOrEmpty(frLastname) ? " | Filing Representative2: " + frfirstname + " " + frLastname : string.Empty);
                            //  filingRepresentativeEmail = employee != null ? employee.Email : string.Empty;

                            //documentDescription = documentDescription + (!string.IsNullOrEmpty(filingRepresentative) ? "Filing Representative: " + filingRepresentative : string.Empty);

                            updateJobDocumentField = jobDocumentFieldList.FirstOrDefault(x => x.IdDocumentField == item.Id);
                            if (updateJobDocumentField == null)
                            {
                                JobDocumentField JobDocumentField = new JobDocumentField
                                {
                                    IdJobDocument = idJobDocument,
                                    IdDocumentField = Convert.ToInt32(item.Id),
                                    Value = frontendFields.Value,
                                    ActualValue = frontendFields.Value,

                                };
                                rpoContext.JobDocumentFields.Add(JobDocumentField);
                            }
                            else
                            {
                                updateJobDocumentField.Value = frontendFields.Value;
                                updateJobDocumentField.ActualValue = frontendFields.Value;
                                rpoContext.Entry(updateJobDocumentField).State = EntityState.Modified;
                                rpoContext.SaveChanges();
                            }
                        }

                        else if (item.Field.FieldName == "Filing Representative3")
                        {
                            int idFilingRepresentative = Convert.ToInt32(frontendFields.Value);
                            //Employee employee = rpoContext.Employees.Where(x => x.Id == idFilingRepresentative).FirstOrDefault();


                            //   string filingRepresentative = employee != null ? employee.FirstName + " " + employee.LastName : string.Empty;
                            if (idFilingRepresentative != 0)
                            {
                                Employee employee = Common.GetEmployeeInformation(idFilingRepresentative);



                                filingRepresentativefirstname = filingRepresentativefirstname + (employee != null ? (!string.IsNullOrEmpty(filingRepresentativefirstname) ? "/" : string.Empty) + employee.FirstName : string.Empty);
                                filingRepresentativelastname = filingRepresentativelastname + (employee != null ? (!string.IsNullOrEmpty(filingRepresentativelastname) ? "/" : string.Empty) + employee.LastName : string.Empty);

                                frfirstname = employee != null ? employee.FirstName : string.Empty;
                                frLastname = employee != null ? employee.LastName : string.Empty;

                                filingRepresentativeCompany = "RPO INC";
                                filingRepresentativePhone = employee != null ? employee.WorkPhone : string.Empty;
                            }
                            // filingRepresentativeEmail = employee != null ? employee.Email : string.Empty;

                            // documentDescription = documentDescription + (!string.IsNullOrEmpty(filingRepresentative) ? "Filing Representative: " + filingRepresentative : string.Empty);
                            documentDescription = documentDescription + (!string.IsNullOrEmpty(frfirstname) && !string.IsNullOrEmpty(frLastname) ? " | Filing Representative3: " + frfirstname + " " + frLastname : string.Empty);
                            updateJobDocumentField = jobDocumentFieldList.FirstOrDefault(x => x.IdDocumentField == item.Id);
                            if (updateJobDocumentField == null)
                            {
                                JobDocumentField JobDocumentField = new JobDocumentField
                                {
                                    IdJobDocument = idJobDocument,
                                    IdDocumentField = Convert.ToInt32(item.Id),
                                    Value = frontendFields.Value,
                                    ActualValue = frontendFields.Value,

                                };
                                rpoContext.JobDocumentFields.Add(JobDocumentField);
                            }
                            else
                            {
                                updateJobDocumentField.Value = frontendFields.Value;
                                updateJobDocumentField.ActualValue = frontendFields.Value;
                                rpoContext.Entry(updateJobDocumentField).State = EntityState.Modified;
                                rpoContext.SaveChanges();
                            }
                        }

                        else if (item.Field.FieldName == "Type")
                        {
                            int certifierid = Convert.ToInt32(frontendFields.Value);
                            JobDocumentType jobDocumentType = rpoContext.JobDocumentTypes.FirstOrDefault(x => x.Id == certifierid);
                            docuementType = jobDocumentType != null ? jobDocumentType.Type : string.Empty;

                            documentDescription = documentDescription + (!string.IsNullOrEmpty(docuementType) ? "Type: " + docuementType : string.Empty);

                            if (updateJobDocumentField == null)
                            {
                                JobDocumentField JobDocumentField = new JobDocumentField
                                {
                                    IdJobDocument = idJobDocument,
                                    IdDocumentField = frontendFields.IdDocumentField,
                                    Value = frontendFields.Value,
                                    ActualValue = docuementType
                                };
                                rpoContext.JobDocumentFields.Add(JobDocumentField);
                                rpoContext.SaveChanges();
                            }
                            else
                            {
                                updateJobDocumentField.Value = frontendFields.Value;
                                updateJobDocumentField.ActualValue = docuementType;
                                rpoContext.Entry(updateJobDocumentField).State = EntityState.Modified;
                                rpoContext.SaveChanges();
                            }
                        }

                        else if (item.Field.FieldName == "Job Document Work Type")
                        {
                            string workTypes = frontendFields.Value;
                            List<int> workTypesLst = !string.IsNullOrEmpty(workTypes) ? (workTypes.Split(',') != null && workTypes.Split(',').Any() ? workTypes.Split(',').Select(x => int.Parse(x)).ToList() : new List<int>()) : new List<int>();


                            var jobApplicationWorkPermitType = rpoContext.JobApplicationWorkPermitTypes
                                                                        .Include("JobWorkType")
                                                                        .Where(x => workTypesLst.Contains(x.Id))
                                                                        .Select(x => new
                                                                        {
                                                                            Permittype = x.PermitType != null && x.PermitType != "" ? x.PermitType : x.JobWorkType.Description,
                                                                            PermitTypeCode = x.Code,
                                                                            Fees = x.PermitType != null && x.PermitType != "" ? x.EstimatedCost : x.EstimatedCost,
                                                                            WorkDescription = x.WorkDescription != "" ? x.WorkDescription : string.Empty
                                                                        }).ToList();
                            //Fees = x.PermitType != null && x.PermitType != "" ? x.RenewalFee : x.EstimatedCost

                            string permitType = jobApplicationWorkPermitType != null ? String.Join(",", jobApplicationWorkPermitType.Select(x => x.Permittype)) : string.Empty;
                            permitTypecode = jobApplicationWorkPermitType != null ? String.Join(",", jobApplicationWorkPermitType.Select(x => x.PermitTypeCode)) : string.Empty;
                            string fees = jobApplicationWorkPermitType != null ? String.Join(",", jobApplicationWorkPermitType.Select(x => x.Fees)) : string.Empty;
                            //  string fees1 = 0;
                            double? d = 0;
                            //string desc = string.Empty;
                            documentDescription = documentDescription + (!string.IsNullOrEmpty(permitType) ? " | Job Document Work Type: " + permitType : string.Empty);
                            foreach (var item1 in jobApplicationWorkPermitType)
                            {
                                if (jobApplicationWorkPermitType.Count > 1)
                                {
                                    d = d + (item1.Fees == null ? 0 : item1.Fees);
                                    if (!string.IsNullOrEmpty(item1.WorkDescription))
                                    {
                                        desc = desc + item1.WorkDescription + ". ,";
                                    }
                                }
                                else
                                {
                                    d = d + (item1.Fees == null ? 0 : item1.Fees);
                                    if (!string.IsNullOrEmpty(item1.WorkDescription))
                                    {
                                        desc = desc + item1.WorkDescription + ".";
                                    }
                                }

                            }
                            if (desc.Length > 2)
                            {
                                desc = desc.Remove(desc.Length - 2);
                            }
                            estfees = Convert.ToString(d);
                            // int fees1 = jobApplicationWorkPermitType != null ?  Convert.ToInt32(jobApplicationWorkPermitType.Select(x => x.Fees))  : string.Empty;
                            if (updateJobDocumentField == null)
                            {
                                JobDocumentField JobDocumentField = new JobDocumentField
                                {
                                    IdJobDocument = idJobDocument,
                                    IdDocumentField = frontendFields.IdDocumentField,
                                    Value = workTypes,
                                    ActualValue = permitType
                                };
                                rpoContext.JobDocumentFields.Add(JobDocumentField);
                                rpoContext.SaveChanges();
                            }

                            else
                            {
                                updateJobDocumentField.Value = workTypes;
                                updateJobDocumentField.ActualValue = permitType;
                                rpoContext.Entry(updateJobDocumentField).State = EntityState.Modified;
                                rpoContext.SaveChanges();
                            }
                        }

                        else if (item.Field.FieldName == "For")
                        {
                            jobDocumentFor = frontendFields.Value;
                            if (updateJobDocumentField == null)
                            {
                                JobDocumentField JobDocumentField = new JobDocumentField
                                {
                                    IdJobDocument = idJobDocument,
                                    IdDocumentField = frontendFields.IdDocumentField,
                                    Value = frontendFields.Value,
                                    ActualValue = frontendFields.Value
                                };
                                rpoContext.JobDocumentFields.Add(JobDocumentField);
                                rpoContext.SaveChanges();
                            }

                            else
                            {
                                updateJobDocumentField.Value = frontendFields.Value;
                                updateJobDocumentField.ActualValue = frontendFields.Value;
                                rpoContext.Entry(updateJobDocumentField).State = EntityState.Modified;
                                rpoContext.SaveChanges();
                            }
                        }
                        else if (item.Field.FieldName == "Lessee Responsible")
                        {
                            int certifierid = Convert.ToInt32(frontendFields.Value);

                            JobContact jobContact = rpoContext.JobContacts.Where(x => x.Id == certifierid).FirstOrDefault();

                            LR_Name = jobContact != null && jobContact.Contact != null ? jobContact.Contact.LastName + " " + jobContact.Contact.FirstName : string.Empty;
                            // LR_Relationship = jobContact != null && jobContact.Contact != null ? jobContact.Contact.ContactTitle.Name: string.Empty;
                            // applicantMiddleName = jobContact != null && jobContact.Contact != null ? jobContact.Contact.MiddleName : string.Empty;
                            //applicantLastName = jobContact != null && jobContact.Contact != null ? jobContact.Contact.LastName : string.Empty;
                            LR_Company = jobContact != null && jobContact.Contact != null && jobContact.Contact.Company != null ? jobContact.Contact.Company.Name : string.Empty;
                            // Address compnayAddress = jobContact != null && jobContact.Company != null && jobContact.Company.Addresses != null ? jobContact.Company.Addresses.OrderBy(x => x.AddressType.DisplayOrder).FirstOrDefault() : null;
                            Address compnayAddress = Common.GetContactAddressForJobDocument(jobContact);
                            LR_Address = compnayAddress != null ? compnayAddress.Address1 + " " + compnayAddress.Address2 : string.Empty;
                            LR_City = compnayAddress != null ? compnayAddress.City : string.Empty;
                            LR_State = compnayAddress != null && compnayAddress.State != null ? compnayAddress.State.Acronym : string.Empty;
                            LR_Zip = compnayAddress != null ? compnayAddress.ZipCode : string.Empty;

                            LR_Phone = Common.GetContactPhoneNumberForJobDocument(jobContact);
                            //!= null && jobContact.Contact != null ? jobContact.Contact.MobilePhone : string.Empty;
                            LR_EMail = jobContact != null ? jobContact.Contact.Email : string.Empty;
                            LR_Relationship = jobContact != null && jobContact.Contact != null && jobContact.Contact.ContactTitle != null ? jobContact.Contact.ContactTitle.Name : string.Empty;

                            documentDescription = documentDescription + (!string.IsNullOrEmpty(LR_Name) ? " | Lessee Responsible: " + LR_Name : string.Empty);
                            //  documentDescription = documentDescription + (!string.IsNullOrEmpty(documentDescription) && !string.IsNullOrEmpty(applicantFirstName + " " + applicantLastName) ? " | " : string.Empty) + (!string.IsNullOrEmpty(applicantFirstName + " " + applicantLastName) ? "Applicant: " + applicantFirstName + " " + applicantLastName : string.Empty);

                            if (updateJobDocumentField == null)
                            {
                                JobDocumentField JobDocumentField = new JobDocumentField
                                {
                                    IdJobDocument = idJobDocument,
                                    IdDocumentField = frontendFields.IdDocumentField,
                                    Value = frontendFields.Value,
                                    ActualValue = applicantLastName
                                };
                                rpoContext.JobDocumentFields.Add(JobDocumentField);
                                rpoContext.SaveChanges();
                            }
                            else
                            {
                                updateJobDocumentField.Value = frontendFields.Value;
                                updateJobDocumentField.ActualValue = applicantLastName;
                                rpoContext.Entry(updateJobDocumentField).State = EntityState.Modified;
                                rpoContext.SaveChanges();
                            }

                        }

                        else if (item.Field.FieldName == "Job Description")
                        {

                            comments = frontendFields.Value;
                            documentDescription = documentDescription + (!string.IsNullOrEmpty(comments) ? " | Job Description: " + comments : string.Empty);
                            // jobDocumentFor = frontendFields.Value;
                            if (updateJobDocumentField == null)
                            {
                                JobDocumentField JobDocumentField = new JobDocumentField
                                {
                                    IdJobDocument = idJobDocument,
                                    IdDocumentField = frontendFields.IdDocumentField,
                                    Value = frontendFields.Value,
                                    ActualValue = frontendFields.Value
                                };
                                rpoContext.JobDocumentFields.Add(JobDocumentField);
                                rpoContext.SaveChanges();
                            }

                            else
                            {
                                updateJobDocumentField.Value = frontendFields.Value;
                                updateJobDocumentField.ActualValue = frontendFields.Value;
                                rpoContext.Entry(updateJobDocumentField).State = EntityState.Modified;
                                rpoContext.SaveChanges();
                            }


                        }


                        else
                        {
                            if (updateJobDocumentField == null)
                            {
                                JobDocumentField JobDocumentField = new JobDocumentField
                                {
                                    IdJobDocument = idJobDocument,
                                    IdDocumentField = frontendFields.IdDocumentField,
                                    Value = frontendFields.Value
                                };
                                rpoContext.JobDocumentFields.Add(JobDocumentField);
                                rpoContext.SaveChanges();
                            }
                            else
                            {
                                updateJobDocumentField.Value = frontendFields.Value;
                                rpoContext.Entry(updateJobDocumentField).State = EntityState.Modified;
                                rpoContext.SaveChanges();
                            }
                        }
                    }
                }
            }
            jobDocument.DocumentDescription = documentDescription;
            jobDocument.JobDocumentFor = jobDocumentFor;
            rpoContext.SaveChanges();
            GenerateJobDocument(idJobDocument);


        }


        public static void EditPlanorworkapprovalapplication2019(int idJobDocument, JobDocumentCreateOrUpdateDTO jobDocumentCreateOrUpdateDTO)
        {
            RpoContext rpoContext = new RpoContext();
            var documentFieldList = rpoContext.DocumentFields.Include("Field").Where(x => x.IdDocument == jobDocumentCreateOrUpdateDTO.IdDocument).OrderByDescending(x => x.Field.IsDisplayInFrontend).ThenBy(x => x.DisplayOrder).ToList();
            JobDocument jobDocument = rpoContext.JobDocuments.FirstOrDefault(x => x.Id == idJobDocument);
            string documentDescription = string.Empty;
            string jobDocumentFor = string.Empty;
            List<IdItemName> FieldsValue = new List<IdItemName>();
            List<string> pdfFields = new List<string>();
            List<int> DocumentFieldsIds = new List<int>();

            if (documentFieldList != null && documentFieldList.Count > 0)
            {
                Job job = rpoContext.Jobs.Include("ProjectManager").
                    Include("Contact.ContactTitle").
                    Include("RfpAddress.Borough").
                    Include("Company.Addresses.AddressType").
                    Include("Company.Addresses.State")
                    .Where(x => x.Id == jobDocumentCreateOrUpdateDTO.IdJob).FirstOrDefault();

                string contactName = string.Empty;
                string licenceName = string.Empty;
                string contactName2 = string.Empty;
                string companyName2 = string.Empty;
                string location2 = string.Empty;
                string docuementType = string.Empty;
                string floorWorkingOn = string.Empty;
                string applicantFirstName = string.Empty;
                string applicantMiddleName = string.Empty;
                string applicantLastName = string.Empty;
                string contactcompany = string.Empty;
                string businessAddress = string.Empty;
                //   string businessAddress = string.Empty;
                string businessCity = string.Empty;
                string businessState = string.Empty;
                string businessZip = string.Empty;
                string contactMobilePhone = string.Empty;
                string contactEmail = string.Empty;
                string contactTitle = string.Empty;
                string documentType = string.Empty;
                string documentName = string.Empty;
                //   string contactcompany = string.Empty;
                string applicantmobilenumber = string.Empty;
                string contactLic_state_engineer = string.Empty;
                string contactLic_state_architect = string.Empty;
                string contactLic_No = string.Empty;
                string filingRepresentativeCompany = string.Empty;
                string filingRepresentativePhone = string.Empty;
                string filingRepresentativeEmail = string.Empty;

                string filingRepresentativeCompany2 = string.Empty;
                string filingRepresentativePhone2 = string.Empty;
                string filingRepresentativeEmail2 = string.Empty;


                string filingRepresentativeCompany3 = string.Empty;
                string filingRepresentativePhone3 = string.Empty;
                string filingRepresentativeEmail3 = string.Empty;


                string filingRepresentativefirstname = string.Empty;
                string frfirstname = string.Empty;
                string frLastname = string.Empty;
                string filingRepresentative2firstname = string.Empty;
                string filingRepresentativef3irstname = string.Empty;
                string filingRepresentativelastname = string.Empty;
                string filingRepresentative2lastname = string.Empty;
                string filingRepresentative3lastname = string.Empty;
                string filingRepresentativeaddress = string.Empty;
                string filingRepresentativecity = string.Empty;
                string filingRepresentativestate = string.Empty;
                string filingRepresentativezip = string.Empty;
                string filingRepresentativemobile = string.Empty;
                string filingRepresentativeemail = string.Empty;
                string filingRepresentativRegnumber = string.Empty;
                string[] permitTypecodeArr = new string[20];
                string permitTypecode = string.Empty;
                string estfees = string.Empty;
                string LR_Name = string.Empty;
                string LR_Relationship = string.Empty;
                string LR_Company = string.Empty;
                string LR_Address = string.Empty;
                string LR_City = string.Empty;
                string LR_State = string.Empty;
                string LR_Zip = string.Empty;
                string LR_Phone = string.Empty;
                string LR_Fax = string.Empty;
                string LR_EMail = string.Empty;
                string applicantName = string.Empty;
                string comments = string.Empty;
                string applicationNumber = string.Empty;
                string ApplicationType = string.Empty;
                string desc = string.Empty;
                var jobDocumentFieldList = rpoContext.JobDocumentFields.Where(x => x.IdJobDocument == idJobDocument).ToList();
                foreach (DocumentField item in documentFieldList)
                {
                    JobDocumentField updateJobDocumentField = jobDocumentFieldList.FirstOrDefault(x => x.IdDocumentField == item.Id);
                    var frontendFields = jobDocumentCreateOrUpdateDTO.JobDocumentFields.FirstOrDefault(x => x.IdDocumentField == item.Id);
                    if (frontendFields == null)
                    {
                        if (item.Field.FieldName == "JobFileInfo")
                        {
                            string jobFileInfo = job != null ? job.JobNumber + " - pw1_2019.pdf" : string.Empty;
                            if (updateJobDocumentField == null)
                            {
                                JobDocumentField JobDocumentField = new JobDocumentField
                                {
                                    IdJobDocument = idJobDocument,
                                    IdDocumentField = Convert.ToInt32(item.Id),
                                    Value = jobFileInfo,
                                    ActualValue = jobFileInfo
                                };
                                rpoContext.JobDocumentFields.Add(JobDocumentField);
                            }
                            else
                            {
                                string pdffield = rpoContext.DocumentFields.Where(x => x.IdField == item.IdField).Select(x => x.PdfFields).FirstOrDefault();
                                pdfFields.Add(pdffield);
                                updateJobDocumentField.Value = jobFileInfo;
                                updateJobDocumentField.ActualValue = jobFileInfo;
                                rpoContext.Entry(updateJobDocumentField).State = EntityState.Modified;
                                FieldsValue.Add(new IdItemName
                                {
                                    Id = pdffield,
                                    ItemName = updateJobDocumentField.ActualValue
                                });
                                rpoContext.SaveChanges();
                            }
                        }
                        else if (item.Field.FieldName == "chkPublic")
                        {
                            if (updateJobDocumentField == null)
                            {
                                JobDocumentField JobDocumentField = new JobDocumentField
                                {
                                    IdJobDocument = idJobDocument,
                                    IdDocumentField = Convert.ToInt32(item.Id),
                                    Value = "2",
                                    ActualValue = "2"
                                };
                                rpoContext.JobDocumentFields.Add(JobDocumentField);
                            }
                            else
                            {
                                string pdffield = rpoContext.DocumentFields.Where(x => x.IdField == item.IdField).Select(x => x.PdfFields).FirstOrDefault();
                                pdfFields.Add(pdffield);
                                updateJobDocumentField.Value = "2";
                                updateJobDocumentField.ActualValue = "2";
                                rpoContext.Entry(updateJobDocumentField).State = EntityState.Modified;
                                FieldsValue.Add(new IdItemName
                                {
                                    Id = pdffield,
                                    ItemName = updateJobDocumentField.ActualValue
                                });
                                rpoContext.SaveChanges();
                            }
                        }

                        else if (item.Field.FieldName == "txtExistingStru_OC")
                        {
                            string ConstructionClassification = job != null && job.RfpAddress != null && job.RfpAddress.StructureOccupancyCategory != null ? job.RfpAddress.StructureOccupancyCategory.Code : string.Empty;
                            if (updateJobDocumentField == null)
                            {
                                JobDocumentField JobDocumentField = new JobDocumentField
                                {
                                    IdJobDocument = idJobDocument,
                                    IdDocumentField = Convert.ToInt32(item.Id),
                                    Value = ConstructionClassification,
                                    ActualValue = ConstructionClassification
                                };
                                rpoContext.JobDocumentFields.Add(JobDocumentField);
                            }
                            else
                            {
                                string pdffield = rpoContext.DocumentFields.Where(x => x.IdField == item.IdField).Select(x => x.PdfFields).FirstOrDefault();
                                pdfFields.Add(pdffield);
                                updateJobDocumentField.Value = ConstructionClassification;
                                updateJobDocumentField.ActualValue = ConstructionClassification;
                                rpoContext.Entry(updateJobDocumentField).State = EntityState.Modified;
                                FieldsValue.Add(new IdItemName
                                {
                                    Id = pdffield,
                                    ItemName = updateJobDocumentField.ActualValue
                                });
                                rpoContext.SaveChanges();
                            }
                        }

                        else if (item.Field.FieldName == "txtExistingSeismicDesign")
                        {
                            string ConstructionClassification = job != null && job.RfpAddress != null && job.RfpAddress.SeismicDesignCategory != null ? job.RfpAddress.SeismicDesignCategory.Code : string.Empty;
                            if (updateJobDocumentField == null)
                            {
                                JobDocumentField JobDocumentField = new JobDocumentField
                                {
                                    IdJobDocument = idJobDocument,
                                    IdDocumentField = Convert.ToInt32(item.Id),
                                    Value = ConstructionClassification,
                                    ActualValue = ConstructionClassification
                                };
                                rpoContext.JobDocumentFields.Add(JobDocumentField);
                            }
                            else
                            {
                                string pdffield = rpoContext.DocumentFields.Where(x => x.IdField == item.IdField).Select(x => x.PdfFields).FirstOrDefault();
                                pdfFields.Add(pdffield);
                                updateJobDocumentField.Value = ConstructionClassification;
                                updateJobDocumentField.ActualValue = ConstructionClassification;
                                rpoContext.Entry(updateJobDocumentField).State = EntityState.Modified;
                                FieldsValue.Add(new IdItemName
                                {
                                    Id = pdffield,
                                    ItemName = updateJobDocumentField.ActualValue
                                });
                                rpoContext.SaveChanges();
                            }
                        }
                        else if (item.Field.FieldName == "Job")
                        {

                            //  int jobApplicantId = Convert.ToInt32(frontendFields.Value);
                            //  JobApplication jobApplication = rpoContext.JobApplications.FirstOrDefault(x => x.Id == jobApplicantId);

                            // string applicationNumber = jobApplication != null ? jobApplication.ApplicationNumber : string.Empty;
                            if (updateJobDocumentField == null)
                            {
                                JobDocumentField JobDocumentField = new JobDocumentField
                                {
                                    IdJobDocument = idJobDocument,
                                    IdDocumentField = Convert.ToInt32(item.Id),
                                    Value = applicationNumber,
                                    ActualValue = applicationNumber
                                };
                                rpoContext.JobDocumentFields.Add(JobDocumentField);
                            }
                            else
                            {
                                string pdffield = rpoContext.DocumentFields.Where(x => x.IdField == item.IdField).Select(x => x.PdfFields).FirstOrDefault();
                                pdfFields.Add(pdffield);
                                updateJobDocumentField.Value = applicationNumber;
                                updateJobDocumentField.ActualValue = applicationNumber;
                                rpoContext.Entry(updateJobDocumentField).State = EntityState.Modified;
                                FieldsValue.Add(new IdItemName
                                {
                                    Id = pdffield,
                                    ItemName = updateJobDocumentField.ActualValue
                                });
                                rpoContext.SaveChanges();
                            }
                        }

                        else if (item.Field.FieldName == "chkPlans_Yes")
                        {
                            if (updateJobDocumentField == null)
                            {
                                JobDocumentField JobDocumentField = new JobDocumentField
                                {
                                    IdJobDocument = idJobDocument,
                                    IdDocumentField = Convert.ToInt32(item.Id),
                                    Value = "1",
                                    ActualValue = "1"
                                };
                                rpoContext.JobDocumentFields.Add(JobDocumentField);
                            }
                            else
                            {
                                string pdffield = rpoContext.DocumentFields.Where(x => x.IdField == item.IdField).Select(x => x.PdfFields).FirstOrDefault();
                                pdfFields.Add(pdffield);
                                updateJobDocumentField.Value = "1";
                                updateJobDocumentField.ActualValue = "1";
                                rpoContext.Entry(updateJobDocumentField).State = EntityState.Modified;
                                FieldsValue.Add(new IdItemName
                                {
                                    Id = pdffield,
                                    ItemName = updateJobDocumentField.ActualValue
                                });
                                rpoContext.SaveChanges();
                            }
                        }


                        else if (item.Field.FieldName == "txtJob_Description")
                        {
                            string description = desc;
                            if (docuementType == "Post Approval Amendment" || docuementType == "Reinstatement" || docuementType == "Withdrwal - Entire Job" || docuementType == "Withdrwal - Partial")
                            {
                                description = string.Empty;
                            }

                            if (updateJobDocumentField == null)
                            {
                                JobDocumentField JobDocumentField = new JobDocumentField
                                {
                                    IdJobDocument = idJobDocument,
                                    IdDocumentField = Convert.ToInt32(item.Id),
                                    Value = description,
                                    ActualValue = description
                                };
                                rpoContext.JobDocumentFields.Add(JobDocumentField);
                            }
                            else
                            {
                                string pdffield = rpoContext.DocumentFields.Where(x => x.IdField == item.IdField).Select(x => x.PdfFields).FirstOrDefault();
                                pdfFields.Add(pdffield);
                                updateJobDocumentField.Value = description;
                                updateJobDocumentField.ActualValue = description;
                                rpoContext.Entry(updateJobDocumentField).State = EntityState.Modified;
                                FieldsValue.Add(new IdItemName
                                {
                                    Id = pdffield,
                                    ItemName = updateJobDocumentField.ActualValue
                                });
                                rpoContext.SaveChanges();
                            }

                        }
                        else if (item.Field.FieldName == "txtHouseNo")
                        {
                            string houseNumber = job != null && job.RfpAddress != null ? job.RfpAddress.HouseNumber : string.Empty;

                            if (updateJobDocumentField == null)
                            {
                                JobDocumentField JobDocumentField = new JobDocumentField
                                {
                                    IdJobDocument = idJobDocument,
                                    IdDocumentField = Convert.ToInt32(item.Id),
                                    Value = houseNumber,
                                    ActualValue = houseNumber
                                };
                                rpoContext.JobDocumentFields.Add(JobDocumentField);
                            }
                            else
                            {
                                string pdffield = rpoContext.DocumentFields.Where(x => x.IdField == item.IdField).Select(x => x.PdfFields).FirstOrDefault();
                                pdfFields.Add(pdffield);
                                updateJobDocumentField.Value = houseNumber;
                                updateJobDocumentField.ActualValue = houseNumber;
                                rpoContext.Entry(updateJobDocumentField).State = EntityState.Modified;
                                FieldsValue.Add(new IdItemName
                                {
                                    Id = pdffield,
                                    ItemName = updateJobDocumentField.ActualValue
                                });
                                rpoContext.SaveChanges();
                            }
                        }
                        else if (item.Field.FieldName == "txtStreet")
                        {
                            string street = job != null && job.RfpAddress != null ? job.RfpAddress.Street : string.Empty;

                            if (updateJobDocumentField == null)
                            {
                                JobDocumentField JobDocumentField = new JobDocumentField
                                {
                                    IdJobDocument = idJobDocument,
                                    IdDocumentField = Convert.ToInt32(item.Id),
                                    Value = street,
                                    ActualValue = street
                                };
                                rpoContext.JobDocumentFields.Add(JobDocumentField);
                            }
                            else
                            {
                                string pdffield = rpoContext.DocumentFields.Where(x => x.IdField == item.IdField).Select(x => x.PdfFields).FirstOrDefault();
                                pdfFields.Add(pdffield);
                                updateJobDocumentField.Value = street;
                                updateJobDocumentField.ActualValue = street;
                                rpoContext.Entry(updateJobDocumentField).State = EntityState.Modified;
                                FieldsValue.Add(new IdItemName
                                {
                                    Id = pdffield,
                                    ItemName = updateJobDocumentField.ActualValue
                                });
                                rpoContext.SaveChanges();
                            }
                        }
                        else if (item.Field.FieldName == "txtBoro")
                        {

                            string borough = job != null && job.RfpAddress != null && job.RfpAddress.Borough != null ? job.RfpAddress.Borough.Description : string.Empty;

                            if (updateJobDocumentField == null)
                            {
                                JobDocumentField JobDocumentField = new JobDocumentField
                                {
                                    IdJobDocument = idJobDocument,
                                    IdDocumentField = Convert.ToInt32(item.Id),
                                    Value = borough,
                                    ActualValue = borough
                                };
                                rpoContext.JobDocumentFields.Add(JobDocumentField);
                            }
                            else
                            {
                                string pdffield = rpoContext.DocumentFields.Where(x => x.IdField == item.IdField).Select(x => x.PdfFields).FirstOrDefault();
                                pdfFields.Add(pdffield);
                                updateJobDocumentField.Value = borough;
                                updateJobDocumentField.ActualValue = borough;
                                rpoContext.Entry(updateJobDocumentField).State = EntityState.Modified;
                                FieldsValue.Add(new IdItemName
                                {
                                    Id = pdffield,
                                    ItemName = updateJobDocumentField.ActualValue
                                });
                                rpoContext.SaveChanges();
                            }
                        }
                        else if (item.Field.FieldName == "txtBlock")
                        {
                            string block = job != null && job.RfpAddress != null ? job.RfpAddress.Block : string.Empty;
                            if (updateJobDocumentField == null)
                            {
                                JobDocumentField JobDocumentField = new JobDocumentField
                                {
                                    IdJobDocument = idJobDocument,
                                    IdDocumentField = Convert.ToInt32(item.Id),
                                    Value = block,
                                    ActualValue = block
                                };
                                rpoContext.JobDocumentFields.Add(JobDocumentField);
                            }
                            else
                            {
                                string pdffield = rpoContext.DocumentFields.Where(x => x.IdField == item.IdField).Select(x => x.PdfFields).FirstOrDefault();
                                pdfFields.Add(pdffield);
                                updateJobDocumentField.Value = block;
                                updateJobDocumentField.ActualValue = block;
                                rpoContext.Entry(updateJobDocumentField).State = EntityState.Modified;
                                FieldsValue.Add(new IdItemName
                                {
                                    Id = pdffield,
                                    ItemName = updateJobDocumentField.ActualValue
                                });
                                rpoContext.SaveChanges();
                            }
                        }
                        else if (item.Field.FieldName == "txtLot")
                        {

                            string lot = job != null && job.RfpAddress != null ? job.RfpAddress.Lot : string.Empty;
                            if (updateJobDocumentField == null)
                            {
                                JobDocumentField JobDocumentField = new JobDocumentField
                                {
                                    IdJobDocument = idJobDocument,
                                    IdDocumentField = Convert.ToInt32(item.Id),
                                    Value = lot,
                                    ActualValue = lot
                                };
                                rpoContext.JobDocumentFields.Add(JobDocumentField);
                            }
                            else
                            {
                                string pdffield = rpoContext.DocumentFields.Where(x => x.IdField == item.IdField).Select(x => x.PdfFields).FirstOrDefault();
                                pdfFields.Add(pdffield);
                                updateJobDocumentField.Value = lot;
                                updateJobDocumentField.ActualValue = lot;
                                rpoContext.Entry(updateJobDocumentField).State = EntityState.Modified;
                                FieldsValue.Add(new IdItemName
                                {
                                    Id = pdffield,
                                    ItemName = updateJobDocumentField.ActualValue
                                });
                                rpoContext.SaveChanges();
                            }
                        }
                        else if (item.Field.FieldName == "txtBIN")
                        {
                            string binNumber = job != null && job.RfpAddress != null ? job.RfpAddress.BinNumber : string.Empty;
                            if (updateJobDocumentField == null)
                            {
                                JobDocumentField JobDocumentField = new JobDocumentField
                                {
                                    IdJobDocument = idJobDocument,
                                    IdDocumentField = Convert.ToInt32(item.Id),
                                    Value = binNumber,
                                    ActualValue = binNumber
                                };
                                rpoContext.JobDocumentFields.Add(JobDocumentField);
                            }
                            else
                            {
                                string pdffield = rpoContext.DocumentFields.Where(x => x.IdField == item.IdField).Select(x => x.PdfFields).FirstOrDefault();
                                pdfFields.Add(pdffield);
                                updateJobDocumentField.Value = binNumber;
                                updateJobDocumentField.ActualValue = binNumber;
                                rpoContext.Entry(updateJobDocumentField).State = EntityState.Modified;
                                FieldsValue.Add(new IdItemName
                                {
                                    Id = pdffield,
                                    ItemName = updateJobDocumentField.ActualValue
                                });
                                rpoContext.SaveChanges();
                            }
                        }
                        else if (item.Field.FieldName == "txtCB")
                        {
                            string comunityBoardNumber = job != null && job.RfpAddress != null ? job.RfpAddress.ComunityBoardNumber : string.Empty;

                            if (updateJobDocumentField == null)
                            {
                                JobDocumentField JobDocumentField = new JobDocumentField
                                {
                                    IdJobDocument = idJobDocument,
                                    IdDocumentField = Convert.ToInt32(item.Id),
                                    Value = comunityBoardNumber,
                                    ActualValue = comunityBoardNumber
                                };
                                rpoContext.JobDocumentFields.Add(JobDocumentField);
                            }
                            else
                            {
                                string pdffield = rpoContext.DocumentFields.Where(x => x.IdField == item.IdField).Select(x => x.PdfFields).FirstOrDefault();
                                pdfFields.Add(pdffield);
                                updateJobDocumentField.Value = comunityBoardNumber;
                                updateJobDocumentField.ActualValue = comunityBoardNumber;
                                rpoContext.Entry(updateJobDocumentField).State = EntityState.Modified;
                                FieldsValue.Add(new IdItemName
                                {
                                    Id = pdffield,
                                    ItemName = updateJobDocumentField.ActualValue
                                });
                                rpoContext.SaveChanges();
                            }
                        }
                        else if (item.Field.FieldName == "txtFloors")
                        {
                            if (updateJobDocumentField == null)
                            {
                                JobDocumentField JobDocumentField = new JobDocumentField
                                {
                                    IdJobDocument = idJobDocument,
                                    IdDocumentField = Convert.ToInt32(item.Id),
                                    Value = floorWorkingOn,
                                    ActualValue = floorWorkingOn
                                };
                                rpoContext.JobDocumentFields.Add(JobDocumentField);
                            }
                            else
                            {
                                string pdffield = rpoContext.DocumentFields.Where(x => x.IdField == item.IdField).Select(x => x.PdfFields).FirstOrDefault();
                                pdfFields.Add(pdffield);
                                updateJobDocumentField.Value = floorWorkingOn;
                                updateJobDocumentField.ActualValue = floorWorkingOn;
                                rpoContext.Entry(updateJobDocumentField).State = EntityState.Modified;
                                FieldsValue.Add(new IdItemName
                                {
                                    Id = pdffield,
                                    ItemName = updateJobDocumentField.ActualValue
                                });
                                rpoContext.SaveChanges();
                            }
                        }
                        else if (item.Field.FieldName == "txtApt")
                        {
                            string aptNo = job != null && job.RfpAddress != null ? job.Apartment : string.Empty;

                            if (updateJobDocumentField == null)
                            {
                                JobDocumentField JobDocumentField = new JobDocumentField
                                {
                                    IdJobDocument = idJobDocument,
                                    IdDocumentField = Convert.ToInt32(item.Id),
                                    Value = aptNo,
                                    ActualValue = aptNo
                                };
                                rpoContext.JobDocumentFields.Add(JobDocumentField);
                            }
                            else
                            {
                                string pdffield = rpoContext.DocumentFields.Where(x => x.IdField == item.IdField).Select(x => x.PdfFields).FirstOrDefault();
                                pdfFields.Add(pdffield);
                                updateJobDocumentField.Value = aptNo;
                                updateJobDocumentField.ActualValue = aptNo;
                                rpoContext.Entry(updateJobDocumentField).State = EntityState.Modified;
                                FieldsValue.Add(new IdItemName
                                {
                                    Id = pdffield,
                                    ItemName = updateJobDocumentField.ActualValue
                                });
                                rpoContext.SaveChanges();
                            }
                        }
                        else if (item.Field.FieldName == "txtLast")
                        {
                            if (updateJobDocumentField == null)
                            {
                                JobDocumentField JobDocumentField = new JobDocumentField
                                {
                                    IdJobDocument = idJobDocument,
                                    IdDocumentField = Convert.ToInt32(item.Id),
                                    Value = applicantLastName,
                                    ActualValue = applicantLastName
                                };
                                rpoContext.JobDocumentFields.Add(JobDocumentField);
                            }
                            else
                            {
                                string pdffield = rpoContext.DocumentFields.Where(x => x.IdField == item.IdField).Select(x => x.PdfFields).FirstOrDefault();
                                pdfFields.Add(pdffield);
                                updateJobDocumentField.Value = applicantLastName;
                                updateJobDocumentField.ActualValue = applicantLastName;
                                rpoContext.Entry(updateJobDocumentField).State = EntityState.Modified;
                                FieldsValue.Add(new IdItemName
                                {
                                    Id = pdffield,
                                    ItemName = updateJobDocumentField.ActualValue
                                });
                                rpoContext.SaveChanges();
                            }
                        }
                        else if (item.Field.FieldName == "txtFirst")
                        {
                            if (updateJobDocumentField == null)
                            {
                                JobDocumentField JobDocumentField = new JobDocumentField
                                {
                                    IdJobDocument = idJobDocument,
                                    IdDocumentField = Convert.ToInt32(item.Id),
                                    Value = applicantFirstName,
                                    ActualValue = applicantFirstName
                                };
                                rpoContext.JobDocumentFields.Add(JobDocumentField);
                            }
                            else
                            {
                                string pdffield = rpoContext.DocumentFields.Where(x => x.IdField == item.IdField).Select(x => x.PdfFields).FirstOrDefault();
                                pdfFields.Add(pdffield);
                                updateJobDocumentField.Value = applicantFirstName;
                                updateJobDocumentField.ActualValue = applicantFirstName;
                                rpoContext.Entry(updateJobDocumentField).State = EntityState.Modified;
                                FieldsValue.Add(new IdItemName
                                {
                                    Id = pdffield,
                                    ItemName = updateJobDocumentField.ActualValue
                                });
                                rpoContext.SaveChanges();
                            }
                        }
                        else if (item.Field.FieldName == "txtMI")
                        {
                            if (updateJobDocumentField == null)
                            {
                                JobDocumentField JobDocumentField = new JobDocumentField
                                {
                                    IdJobDocument = idJobDocument,
                                    IdDocumentField = Convert.ToInt32(item.Id),
                                    Value = applicantMiddleName,
                                    ActualValue = applicantMiddleName
                                };
                                rpoContext.JobDocumentFields.Add(JobDocumentField);
                            }
                            else
                            {
                                string pdffield = rpoContext.DocumentFields.Where(x => x.IdField == item.IdField).Select(x => x.PdfFields).FirstOrDefault();
                                pdfFields.Add(pdffield);
                                updateJobDocumentField.Value = applicantMiddleName;
                                updateJobDocumentField.ActualValue = applicantMiddleName;
                                rpoContext.Entry(updateJobDocumentField).State = EntityState.Modified;
                                FieldsValue.Add(new IdItemName
                                {
                                    Id = pdffield,
                                    ItemName = updateJobDocumentField.ActualValue
                                });
                                rpoContext.SaveChanges();
                            }
                        }
                        else if (item.Field.FieldName == "txtCompany")
                        {
                            if (updateJobDocumentField == null)
                            {
                                JobDocumentField JobDocumentField = new JobDocumentField
                                {
                                    IdJobDocument = idJobDocument,
                                    IdDocumentField = Convert.ToInt32(item.Id),
                                    Value = contactcompany,
                                    ActualValue = contactcompany
                                };
                                rpoContext.JobDocumentFields.Add(JobDocumentField);
                            }
                            else
                            {
                                string pdffield = rpoContext.DocumentFields.Where(x => x.IdField == item.IdField).Select(x => x.PdfFields).FirstOrDefault();
                                pdfFields.Add(pdffield);
                                updateJobDocumentField.Value = contactcompany;
                                updateJobDocumentField.ActualValue = contactcompany;
                                rpoContext.Entry(updateJobDocumentField).State = EntityState.Modified;
                                FieldsValue.Add(new IdItemName
                                {
                                    Id = pdffield,
                                    ItemName = updateJobDocumentField.ActualValue
                                });
                                rpoContext.SaveChanges();
                            }
                        }
                        else if (item.Field.FieldName == "txtPhone")
                        {
                            if (updateJobDocumentField == null)
                            {
                                JobDocumentField JobDocumentField = new JobDocumentField
                                {
                                    IdJobDocument = idJobDocument,
                                    IdDocumentField = Convert.ToInt32(item.Id),
                                    Value = contactMobilePhone,
                                    ActualValue = contactMobilePhone
                                };
                                rpoContext.JobDocumentFields.Add(JobDocumentField);
                            }
                            else
                            {
                                string pdffield = rpoContext.DocumentFields.Where(x => x.IdField == item.IdField).Select(x => x.PdfFields).FirstOrDefault();
                                pdfFields.Add(pdffield);
                                updateJobDocumentField.Value = contactMobilePhone;
                                updateJobDocumentField.ActualValue = contactMobilePhone;
                                rpoContext.Entry(updateJobDocumentField).State = EntityState.Modified;
                                FieldsValue.Add(new IdItemName
                                {
                                    Id = pdffield,
                                    ItemName = updateJobDocumentField.ActualValue
                                });
                                rpoContext.SaveChanges();
                            }
                        }
                        else if (item.Field.FieldName == "txtAddress")
                        {
                            if (updateJobDocumentField == null)
                            {
                                JobDocumentField JobDocumentField = new JobDocumentField
                                {
                                    IdJobDocument = idJobDocument,
                                    IdDocumentField = Convert.ToInt32(item.Id),
                                    Value = businessAddress,
                                    ActualValue = businessAddress
                                };
                                rpoContext.JobDocumentFields.Add(JobDocumentField);
                            }
                            else
                            {
                                string pdffield = rpoContext.DocumentFields.Where(x => x.IdField == item.IdField).Select(x => x.PdfFields).FirstOrDefault();
                                pdfFields.Add(pdffield);
                                updateJobDocumentField.Value = businessAddress;
                                updateJobDocumentField.ActualValue = businessAddress;
                                rpoContext.Entry(updateJobDocumentField).State = EntityState.Modified;
                                FieldsValue.Add(new IdItemName
                                {
                                    Id = pdffield,
                                    ItemName = updateJobDocumentField.ActualValue
                                });
                                rpoContext.SaveChanges();
                            }
                        }

                        else if (item.Field.FieldName == "txtCity")
                        {
                            if (updateJobDocumentField == null)
                            {
                                JobDocumentField JobDocumentField = new JobDocumentField
                                {
                                    IdJobDocument = idJobDocument,
                                    IdDocumentField = Convert.ToInt32(item.Id),
                                    Value = businessCity,
                                    ActualValue = businessCity
                                };
                                rpoContext.JobDocumentFields.Add(JobDocumentField);
                            }
                            else
                            {
                                string pdffield = rpoContext.DocumentFields.Where(x => x.IdField == item.IdField).Select(x => x.PdfFields).FirstOrDefault();
                                pdfFields.Add(pdffield);
                                updateJobDocumentField.Value = businessCity;
                                updateJobDocumentField.ActualValue = businessCity;
                                rpoContext.Entry(updateJobDocumentField).State = EntityState.Modified;
                                FieldsValue.Add(new IdItemName
                                {
                                    Id = pdffield,
                                    ItemName = updateJobDocumentField.ActualValue
                                });
                                rpoContext.SaveChanges();
                            }
                        }
                        else if (item.Field.FieldName == "txtState")
                        {
                            if (updateJobDocumentField == null)
                            {
                                JobDocumentField JobDocumentField = new JobDocumentField
                                {
                                    IdJobDocument = idJobDocument,
                                    IdDocumentField = Convert.ToInt32(item.Id),
                                    Value = businessState,
                                    ActualValue = businessState
                                };
                                rpoContext.JobDocumentFields.Add(JobDocumentField);
                            }
                            else
                            {
                                string pdffield = rpoContext.DocumentFields.Where(x => x.IdField == item.IdField).Select(x => x.PdfFields).FirstOrDefault();
                                pdfFields.Add(pdffield);
                                updateJobDocumentField.Value = businessState;
                                updateJobDocumentField.ActualValue = businessState;
                                rpoContext.Entry(updateJobDocumentField).State = EntityState.Modified;
                                FieldsValue.Add(new IdItemName
                                {
                                    Id = pdffield,
                                    ItemName = updateJobDocumentField.ActualValue
                                });
                                rpoContext.SaveChanges();
                            }
                        }
                        else if (item.Field.FieldName == "txtZip")
                        {
                            if (updateJobDocumentField == null)
                            {
                                JobDocumentField JobDocumentField = new JobDocumentField
                                {
                                    IdJobDocument = idJobDocument,
                                    IdDocumentField = Convert.ToInt32(item.Id),
                                    Value = businessZip,
                                    ActualValue = businessZip
                                };
                                rpoContext.JobDocumentFields.Add(JobDocumentField);
                            }
                            else
                            {
                                string pdffield = rpoContext.DocumentFields.Where(x => x.IdField == item.IdField).Select(x => x.PdfFields).FirstOrDefault();
                                pdfFields.Add(pdffield);
                                updateJobDocumentField.Value = businessZip;
                                updateJobDocumentField.ActualValue = businessZip;
                                rpoContext.Entry(updateJobDocumentField).State = EntityState.Modified;
                                FieldsValue.Add(new IdItemName
                                {
                                    Id = pdffield,
                                    ItemName = updateJobDocumentField.ActualValue
                                });
                                rpoContext.SaveChanges();
                            }
                        }
                        else if (item.Field.FieldName == "txtMobilePhone")
                        {
                            if (updateJobDocumentField == null)
                            {
                                JobDocumentField JobDocumentField = new JobDocumentField
                                {
                                    IdJobDocument = idJobDocument,
                                    IdDocumentField = Convert.ToInt32(item.Id),
                                    Value = applicantmobilenumber,
                                    ActualValue = applicantmobilenumber
                                };
                                rpoContext.JobDocumentFields.Add(JobDocumentField);
                            }
                            else
                            {
                                string pdffield = rpoContext.DocumentFields.Where(x => x.IdField == item.IdField).Select(x => x.PdfFields).FirstOrDefault();
                                pdfFields.Add(pdffield);
                                updateJobDocumentField.Value = applicantmobilenumber;
                                updateJobDocumentField.ActualValue = applicantmobilenumber;
                                rpoContext.Entry(updateJobDocumentField).State = EntityState.Modified;
                                FieldsValue.Add(new IdItemName
                                {
                                    Id = pdffield,
                                    ItemName = updateJobDocumentField.ActualValue
                                });
                                rpoContext.SaveChanges();
                            }
                        }
                        else if (item.Field.FieldName == "txtEMail")
                        {
                            if (updateJobDocumentField == null)
                            {
                                JobDocumentField JobDocumentField = new JobDocumentField
                                {
                                    IdJobDocument = idJobDocument,
                                    IdDocumentField = Convert.ToInt32(item.Id),
                                    Value = contactEmail,
                                    ActualValue = contactEmail
                                };
                                rpoContext.JobDocumentFields.Add(JobDocumentField);
                            }
                            else
                            {
                                string pdffield = rpoContext.DocumentFields.Where(x => x.IdField == item.IdField).Select(x => x.PdfFields).FirstOrDefault();
                                pdfFields.Add(pdffield);
                                updateJobDocumentField.Value = contactEmail;
                                updateJobDocumentField.ActualValue = contactEmail;
                                rpoContext.Entry(updateJobDocumentField).State = EntityState.Modified;
                                FieldsValue.Add(new IdItemName
                                {
                                    Id = pdffield,
                                    ItemName = updateJobDocumentField.ActualValue
                                });
                                rpoContext.SaveChanges();
                            }
                        }
                        else if (item.Field.FieldName == "txtLic_No")
                        {
                            if (updateJobDocumentField == null)
                            {
                                JobDocumentField JobDocumentField = new JobDocumentField
                                {
                                    IdJobDocument = idJobDocument,
                                    IdDocumentField = Convert.ToInt32(item.Id),
                                    Value = contactLic_No,
                                    ActualValue = contactLic_No
                                };
                                rpoContext.JobDocumentFields.Add(JobDocumentField);
                            }
                            else
                            {
                                string pdffield = rpoContext.DocumentFields.Where(x => x.IdField == item.IdField).Select(x => x.PdfFields).FirstOrDefault();
                                pdfFields.Add(pdffield);
                                updateJobDocumentField.Value = contactLic_No;
                                updateJobDocumentField.ActualValue = contactLic_No;
                                rpoContext.Entry(updateJobDocumentField).State = EntityState.Modified;
                                FieldsValue.Add(new IdItemName
                                {
                                    Id = pdffield,
                                    ItemName = updateJobDocumentField.ActualValue
                                });
                                rpoContext.SaveChanges();
                            }
                        }
                        else if (item.Field.FieldName == "chkPE")
                        {
                            if (updateJobDocumentField == null)
                            {
                                JobDocumentField JobDocumentField = new JobDocumentField
                                {
                                    IdJobDocument = idJobDocument,
                                    IdDocumentField = Convert.ToInt32(item.Id),
                                    Value = contactLic_state_engineer,
                                    ActualValue = contactLic_state_engineer
                                };
                                rpoContext.JobDocumentFields.Add(JobDocumentField);
                            }
                            else
                            {
                                string pdffield = rpoContext.DocumentFields.Where(x => x.IdField == item.IdField).Select(x => x.PdfFields).FirstOrDefault();
                                pdfFields.Add(pdffield);
                                updateJobDocumentField.Value = contactLic_state_engineer;
                                updateJobDocumentField.ActualValue = contactLic_state_engineer;
                                rpoContext.Entry(updateJobDocumentField).State = EntityState.Modified;
                                FieldsValue.Add(new IdItemName
                                {
                                    Id = pdffield,
                                    ItemName = updateJobDocumentField.ActualValue
                                });
                                rpoContext.SaveChanges();
                            }
                        }
                        else if (item.Field.FieldName == "chkRA")
                        {
                            if (updateJobDocumentField == null)
                            {
                                JobDocumentField JobDocumentField = new JobDocumentField
                                {
                                    IdJobDocument = idJobDocument,
                                    IdDocumentField = Convert.ToInt32(item.Id),
                                    Value = contactLic_state_architect,
                                    ActualValue = contactLic_state_architect
                                };
                                rpoContext.JobDocumentFields.Add(JobDocumentField);
                            }
                            else
                            {
                                string pdffield = rpoContext.DocumentFields.Where(x => x.IdField == item.IdField).Select(x => x.PdfFields).FirstOrDefault();
                                pdfFields.Add(pdffield);
                                updateJobDocumentField.Value = contactLic_state_architect;
                                updateJobDocumentField.ActualValue = contactLic_state_architect;
                                rpoContext.Entry(updateJobDocumentField).State = EntityState.Modified;
                                FieldsValue.Add(new IdItemName
                                {
                                    Id = pdffield,
                                    ItemName = updateJobDocumentField.ActualValue
                                });
                                rpoContext.SaveChanges();
                            }
                        }

                        else if (item.Field.FieldName == "txtFR_Last")
                        {
                            if (updateJobDocumentField == null)
                            {
                                JobDocumentField JobDocumentField = new JobDocumentField
                                {
                                    IdJobDocument = idJobDocument,
                                    IdDocumentField = Convert.ToInt32(item.Id),
                                    Value = filingRepresentativelastname,
                                    ActualValue = filingRepresentativelastname
                                };
                                rpoContext.JobDocumentFields.Add(JobDocumentField);
                            }
                            else
                            {
                                string pdffield = rpoContext.DocumentFields.Where(x => x.IdField == item.IdField).Select(x => x.PdfFields).FirstOrDefault();
                                pdfFields.Add(pdffield);
                                updateJobDocumentField.Value = filingRepresentativelastname;
                                updateJobDocumentField.ActualValue = filingRepresentativelastname;
                                rpoContext.Entry(updateJobDocumentField).State = EntityState.Modified;
                                FieldsValue.Add(new IdItemName
                                {
                                    Id = pdffield,
                                    ItemName = updateJobDocumentField.ActualValue
                                });
                                rpoContext.SaveChanges();
                            }
                        }
                        else if (item.Field.FieldName == "txtFR_First")
                        {
                            if (updateJobDocumentField == null)
                            {
                                JobDocumentField JobDocumentField = new JobDocumentField
                                {
                                    IdJobDocument = idJobDocument,
                                    IdDocumentField = Convert.ToInt32(item.Id),
                                    Value = filingRepresentativefirstname,
                                    ActualValue = filingRepresentativefirstname
                                };
                                rpoContext.JobDocumentFields.Add(JobDocumentField);
                            }
                            else
                            {
                                string pdffield = rpoContext.DocumentFields.Where(x => x.IdField == item.IdField).Select(x => x.PdfFields).FirstOrDefault();
                                pdfFields.Add(pdffield);
                                updateJobDocumentField.Value = filingRepresentativefirstname;
                                updateJobDocumentField.ActualValue = filingRepresentativefirstname;
                                rpoContext.Entry(updateJobDocumentField).State = EntityState.Modified;
                                FieldsValue.Add(new IdItemName
                                {
                                    Id = pdffield,
                                    ItemName = updateJobDocumentField.ActualValue
                                });
                                rpoContext.SaveChanges();
                            }
                        }

                        else if (item.Field.FieldName == "txtFR_Company")
                        {
                            if (updateJobDocumentField == null)
                            {
                                JobDocumentField JobDocumentField = new JobDocumentField
                                {
                                    IdJobDocument = idJobDocument,
                                    IdDocumentField = Convert.ToInt32(item.Id),
                                    Value = filingRepresentativeCompany,
                                    ActualValue = filingRepresentativeCompany
                                };
                                rpoContext.JobDocumentFields.Add(JobDocumentField);
                            }
                            else
                            {
                                string pdffield = rpoContext.DocumentFields.Where(x => x.IdField == item.IdField).Select(x => x.PdfFields).FirstOrDefault();
                                pdfFields.Add(pdffield);
                                updateJobDocumentField.Value = filingRepresentativeCompany;
                                updateJobDocumentField.ActualValue = filingRepresentativeCompany;
                                rpoContext.Entry(updateJobDocumentField).State = EntityState.Modified;
                                FieldsValue.Add(new IdItemName
                                {
                                    Id = pdffield,
                                    ItemName = updateJobDocumentField.ActualValue
                                });
                                rpoContext.SaveChanges();
                            }
                        }
                        else if (item.Field.FieldName == "txtFR_Phone")
                        {
                            if (updateJobDocumentField == null)
                            {
                                JobDocumentField JobDocumentField = new JobDocumentField
                                {
                                    IdJobDocument = idJobDocument,
                                    IdDocumentField = Convert.ToInt32(item.Id),
                                    Value = filingRepresentativePhone,
                                    ActualValue = filingRepresentativePhone
                                };
                                rpoContext.JobDocumentFields.Add(JobDocumentField);
                            }
                            else
                            {
                                string pdffield = rpoContext.DocumentFields.Where(x => x.IdField == item.IdField).Select(x => x.PdfFields).FirstOrDefault();
                                pdfFields.Add(pdffield);
                                updateJobDocumentField.Value = filingRepresentativePhone;
                                updateJobDocumentField.ActualValue = filingRepresentativePhone;
                                rpoContext.Entry(updateJobDocumentField).State = EntityState.Modified;
                                FieldsValue.Add(new IdItemName
                                {
                                    Id = pdffield,
                                    ItemName = updateJobDocumentField.ActualValue
                                });
                                rpoContext.SaveChanges();
                            }
                        }
                        else if (item.Field.FieldName == "txtFR_Address")
                        {
                            if (updateJobDocumentField == null)
                            {
                                JobDocumentField JobDocumentField = new JobDocumentField
                                {
                                    IdJobDocument = idJobDocument,
                                    IdDocumentField = Convert.ToInt32(item.Id),
                                    Value = filingRepresentativeaddress,
                                    ActualValue = filingRepresentativeaddress
                                };
                                rpoContext.JobDocumentFields.Add(JobDocumentField);
                            }
                            else
                            {
                                string pdffield = rpoContext.DocumentFields.Where(x => x.IdField == item.IdField).Select(x => x.PdfFields).FirstOrDefault();
                                pdfFields.Add(pdffield);
                                updateJobDocumentField.Value = filingRepresentativeaddress;
                                updateJobDocumentField.ActualValue = filingRepresentativeaddress;
                                rpoContext.Entry(updateJobDocumentField).State = EntityState.Modified;
                                FieldsValue.Add(new IdItemName
                                {
                                    Id = pdffield,
                                    ItemName = updateJobDocumentField.ActualValue
                                });
                                rpoContext.SaveChanges();
                            }
                        }

                        else if (item.Field.FieldName == "txtFR_City")
                        {
                            if (updateJobDocumentField == null)
                            {
                                JobDocumentField JobDocumentField = new JobDocumentField
                                {
                                    IdJobDocument = idJobDocument,
                                    IdDocumentField = Convert.ToInt32(item.Id),
                                    Value = filingRepresentativecity,
                                    ActualValue = filingRepresentativecity
                                };
                                rpoContext.JobDocumentFields.Add(JobDocumentField);
                            }
                            else
                            {
                                string pdffield = rpoContext.DocumentFields.Where(x => x.IdField == item.IdField).Select(x => x.PdfFields).FirstOrDefault();
                                pdfFields.Add(pdffield);
                                updateJobDocumentField.Value = filingRepresentativecity;
                                updateJobDocumentField.ActualValue = filingRepresentativecity;
                                rpoContext.Entry(updateJobDocumentField).State = EntityState.Modified;
                                FieldsValue.Add(new IdItemName
                                {
                                    Id = pdffield,
                                    ItemName = updateJobDocumentField.ActualValue
                                });
                                rpoContext.SaveChanges();
                            }
                        }
                        else if (item.Field.FieldName == "txtFR_State")
                        {
                            if (updateJobDocumentField == null)
                            {
                                JobDocumentField JobDocumentField = new JobDocumentField
                                {
                                    IdJobDocument = idJobDocument,
                                    IdDocumentField = Convert.ToInt32(item.Id),
                                    Value = filingRepresentativestate,
                                    ActualValue = filingRepresentativestate
                                };
                                rpoContext.JobDocumentFields.Add(JobDocumentField);
                            }
                            else
                            {
                                string pdffield = rpoContext.DocumentFields.Where(x => x.IdField == item.IdField).Select(x => x.PdfFields).FirstOrDefault();
                                pdfFields.Add(pdffield);
                                updateJobDocumentField.Value = filingRepresentativestate;
                                updateJobDocumentField.ActualValue = filingRepresentativestate;
                                rpoContext.Entry(updateJobDocumentField).State = EntityState.Modified;
                                FieldsValue.Add(new IdItemName
                                {
                                    Id = pdffield,
                                    ItemName = updateJobDocumentField.ActualValue
                                });
                                rpoContext.SaveChanges();
                            }
                        }
                        else if (item.Field.FieldName == "txtFR_Zip")
                        {
                            if (updateJobDocumentField == null)
                            {
                                JobDocumentField JobDocumentField = new JobDocumentField
                                {
                                    IdJobDocument = idJobDocument,
                                    IdDocumentField = Convert.ToInt32(item.Id),
                                    Value = filingRepresentativezip,
                                    ActualValue = filingRepresentativezip
                                };
                                rpoContext.JobDocumentFields.Add(JobDocumentField);
                            }
                            else
                            {
                                string pdffield = rpoContext.DocumentFields.Where(x => x.IdField == item.IdField).Select(x => x.PdfFields).FirstOrDefault();
                                pdfFields.Add(pdffield);
                                updateJobDocumentField.Value = filingRepresentativezip;
                                updateJobDocumentField.ActualValue = filingRepresentativezip;
                                rpoContext.Entry(updateJobDocumentField).State = EntityState.Modified;
                                FieldsValue.Add(new IdItemName
                                {
                                    Id = pdffield,
                                    ItemName = updateJobDocumentField.ActualValue
                                });
                                rpoContext.SaveChanges();
                            }
                        }
                        else if (item.Field.FieldName == "txtFR_MobilePhone")
                        {
                            if (updateJobDocumentField == null)
                            {
                                JobDocumentField JobDocumentField = new JobDocumentField
                                {
                                    IdJobDocument = idJobDocument,
                                    IdDocumentField = Convert.ToInt32(item.Id),
                                    Value = filingRepresentativemobile,
                                    ActualValue = filingRepresentativemobile
                                };
                                rpoContext.JobDocumentFields.Add(JobDocumentField);
                            }
                            else
                            {
                                string pdffield = rpoContext.DocumentFields.Where(x => x.IdField == item.IdField).Select(x => x.PdfFields).FirstOrDefault();
                                pdfFields.Add(pdffield);
                                updateJobDocumentField.Value = filingRepresentativemobile;
                                updateJobDocumentField.ActualValue = filingRepresentativemobile;
                                rpoContext.Entry(updateJobDocumentField).State = EntityState.Modified;
                                FieldsValue.Add(new IdItemName
                                {
                                    Id = pdffield,
                                    ItemName = updateJobDocumentField.ActualValue
                                });
                                rpoContext.SaveChanges();
                            }
                        }
                        else if (item.Field.FieldName == "txtFR_EMail")
                        {
                            if (updateJobDocumentField == null)
                            {
                                JobDocumentField JobDocumentField = new JobDocumentField
                                {
                                    IdJobDocument = idJobDocument,
                                    IdDocumentField = Convert.ToInt32(item.Id),
                                    Value = filingRepresentativeEmail,
                                    ActualValue = filingRepresentativeEmail
                                };
                                rpoContext.JobDocumentFields.Add(JobDocumentField);
                            }
                            else
                            {
                                string pdffield = rpoContext.DocumentFields.Where(x => x.IdField == item.IdField).Select(x => x.PdfFields).FirstOrDefault();
                                pdfFields.Add(pdffield);
                                updateJobDocumentField.Value = filingRepresentativeEmail;
                                updateJobDocumentField.ActualValue = filingRepresentativeEmail;
                                rpoContext.Entry(updateJobDocumentField).State = EntityState.Modified;
                                FieldsValue.Add(new IdItemName
                                {
                                    Id = pdffield,
                                    ItemName = updateJobDocumentField.ActualValue
                                });
                                rpoContext.SaveChanges();
                            }
                        }
                        else if (item.Field.FieldName == "txtFR_RegNo")
                        {
                            if (updateJobDocumentField == null)
                            {
                                JobDocumentField JobDocumentField = new JobDocumentField
                                {
                                    IdJobDocument = idJobDocument,
                                    IdDocumentField = Convert.ToInt32(item.Id),
                                    Value = filingRepresentativRegnumber,
                                    ActualValue = filingRepresentativRegnumber
                                };
                                rpoContext.JobDocumentFields.Add(JobDocumentField);
                            }
                            else
                            {
                                string pdffield = rpoContext.DocumentFields.Where(x => x.IdField == item.IdField).Select(x => x.PdfFields).FirstOrDefault();
                                pdfFields.Add(pdffield);
                                updateJobDocumentField.Value = filingRepresentativRegnumber;
                                updateJobDocumentField.ActualValue = filingRepresentativRegnumber;
                                rpoContext.Entry(updateJobDocumentField).State = EntityState.Modified;
                                FieldsValue.Add(new IdItemName
                                {
                                    Id = pdffield,
                                    ItemName = updateJobDocumentField.ActualValue
                                });
                                rpoContext.SaveChanges();
                            }
                        }
                        else if (item.Field.FieldName == "chkwIF")
                        {
                            string initialfiling = string.Empty;

                            if (docuementType == "Initial Filing")
                            {
                                initialfiling = "1";

                            }

                            if (updateJobDocumentField == null)
                            {
                                JobDocumentField JobDocumentField = new JobDocumentField
                                {
                                    IdJobDocument = idJobDocument,
                                    IdDocumentField = Convert.ToInt32(item.Id),
                                    Value = initialfiling,
                                    ActualValue = initialfiling
                                };
                                rpoContext.JobDocumentFields.Add(JobDocumentField);
                            }
                            else
                            {
                                string pdffield = rpoContext.DocumentFields.Where(x => x.IdField == item.IdField).Select(x => x.PdfFields).FirstOrDefault();
                                pdfFields.Add(pdffield);
                                updateJobDocumentField.Value = initialfiling;
                                updateJobDocumentField.ActualValue = initialfiling;
                                rpoContext.Entry(updateJobDocumentField).State = EntityState.Modified;
                                FieldsValue.Add(new IdItemName
                                {
                                    Id = pdffield,
                                    ItemName = updateJobDocumentField.ActualValue
                                });
                                rpoContext.SaveChanges();
                            }
                        }
                        else if (item.Field.FieldName == "chkwPA")
                        {
                            string postapproval = string.Empty;

                            if (docuementType == "Initial Filing")
                            {

                                postapproval = string.Empty;

                            }
                            if (docuementType == "Post Approval Amendment")
                            {
                                postapproval = "1";
                            }

                            if (updateJobDocumentField == null)
                            {
                                JobDocumentField JobDocumentField = new JobDocumentField
                                {
                                    IdJobDocument = idJobDocument,
                                    IdDocumentField = Convert.ToInt32(item.Id),
                                    Value = postapproval,
                                    ActualValue = postapproval
                                };
                                rpoContext.JobDocumentFields.Add(JobDocumentField);
                            }
                            else
                            {
                                string pdffield = rpoContext.DocumentFields.Where(x => x.IdField == item.IdField).Select(x => x.PdfFields).FirstOrDefault();
                                pdfFields.Add(pdffield);
                                updateJobDocumentField.Value = postapproval;
                                updateJobDocumentField.ActualValue = postapproval;
                                rpoContext.Entry(updateJobDocumentField).State = EntityState.Modified;
                                FieldsValue.Add(new IdItemName
                                {
                                    Id = pdffield,
                                    ItemName = updateJobDocumentField.ActualValue
                                });
                                rpoContext.SaveChanges();
                            }
                        }

                        else if (item.Field.FieldName == "txtExisting_OC")
                        {
                            string OccupancyClassification = job != null && job.RfpAddress != null && job.RfpAddress.OccupancyClassification != null ? job.RfpAddress.OccupancyClassification.Code : string.Empty;

                            if (updateJobDocumentField == null)
                            {
                                JobDocumentField JobDocumentField = new JobDocumentField
                                {
                                    IdJobDocument = idJobDocument,
                                    IdDocumentField = Convert.ToInt32(item.Id),
                                    Value = OccupancyClassification,
                                    ActualValue = OccupancyClassification
                                };
                                rpoContext.JobDocumentFields.Add(JobDocumentField);
                            }
                            else
                            {
                                string pdffield = rpoContext.DocumentFields.Where(x => x.IdField == item.IdField).Select(x => x.PdfFields).FirstOrDefault();
                                pdfFields.Add(pdffield);
                                updateJobDocumentField.Value = OccupancyClassification;
                                updateJobDocumentField.ActualValue = OccupancyClassification;
                                rpoContext.Entry(updateJobDocumentField).State = EntityState.Modified;
                                FieldsValue.Add(new IdItemName
                                {
                                    Id = pdffield,
                                    ItemName = updateJobDocumentField.ActualValue
                                });
                                rpoContext.SaveChanges();
                            }
                        }

                        else if (item.Field.FieldName == "txtExisting_CC")
                        {
                            string ConstructionClassification = job != null && job.RfpAddress != null && job.RfpAddress.ConstructionClassification != null ? job.RfpAddress.ConstructionClassification.Code : string.Empty;

                            if (updateJobDocumentField == null)
                            {
                                JobDocumentField JobDocumentField = new JobDocumentField
                                {
                                    IdJobDocument = idJobDocument,
                                    IdDocumentField = Convert.ToInt32(item.Id),
                                    Value = ConstructionClassification,
                                    ActualValue = ConstructionClassification
                                };
                                rpoContext.JobDocumentFields.Add(JobDocumentField);
                            }
                            else
                            {
                                string pdffield = rpoContext.DocumentFields.Where(x => x.IdField == item.IdField).Select(x => x.PdfFields).FirstOrDefault();
                                pdfFields.Add(pdffield);
                                updateJobDocumentField.Value = ConstructionClassification;
                                updateJobDocumentField.ActualValue = ConstructionClassification;
                                rpoContext.Entry(updateJobDocumentField).State = EntityState.Modified;
                                FieldsValue.Add(new IdItemName
                                {
                                    Id = pdffield,
                                    ItemName = updateJobDocumentField.ActualValue
                                });
                                rpoContext.SaveChanges();
                            }


                        }
                        else if (item.Field.FieldName == "txtExisting_MDC")
                        {
                            string DwellingClassification = job != null && job.RfpAddress != null && job.RfpAddress.MultipleDwellingClassification != null ? job.RfpAddress.MultipleDwellingClassification.Code : string.Empty;

                            if (updateJobDocumentField == null)
                            {
                                JobDocumentField JobDocumentField = new JobDocumentField
                                {
                                    IdJobDocument = idJobDocument,
                                    IdDocumentField = Convert.ToInt32(item.Id),
                                    Value = DwellingClassification,
                                    ActualValue = DwellingClassification
                                };
                                rpoContext.JobDocumentFields.Add(JobDocumentField);
                            }
                            else
                            {
                                string pdffield = rpoContext.DocumentFields.Where(x => x.IdField == item.IdField).Select(x => x.PdfFields).FirstOrDefault();
                                pdfFields.Add(pdffield);
                                updateJobDocumentField.Value = DwellingClassification;
                                updateJobDocumentField.ActualValue = DwellingClassification;
                                rpoContext.Entry(updateJobDocumentField).State = EntityState.Modified;
                                FieldsValue.Add(new IdItemName
                                {
                                    Id = pdffield,
                                    ItemName = updateJobDocumentField.ActualValue
                                });
                                rpoContext.SaveChanges();
                            }

                        }




                        else if (item.Field.FieldName == "txtExisting_Height")
                        {
                            int? intheight = job != null && job.RfpAddress != null ? job.RfpAddress.Feet : 0;
                            string height = Convert.ToString(intheight);
                            if (intheight == 0)
                            {
                                height = string.Empty;
                            }
                            if (updateJobDocumentField == null)
                            {
                                JobDocumentField JobDocumentField = new JobDocumentField
                                {
                                    IdJobDocument = idJobDocument,
                                    IdDocumentField = Convert.ToInt32(item.Id),
                                    Value = height,
                                    ActualValue = height
                                };
                                rpoContext.JobDocumentFields.Add(JobDocumentField);
                            }
                            else
                            {
                                string pdffield = rpoContext.DocumentFields.Where(x => x.IdField == item.IdField).Select(x => x.PdfFields).FirstOrDefault();
                                pdfFields.Add(pdffield);
                                updateJobDocumentField.Value = height;
                                updateJobDocumentField.ActualValue = height;
                                rpoContext.Entry(updateJobDocumentField).State = EntityState.Modified;
                                FieldsValue.Add(new IdItemName
                                {
                                    Id = pdffield,
                                    ItemName = updateJobDocumentField.ActualValue
                                });
                                rpoContext.SaveChanges();
                            }
                        }
                        else if (item.Field.FieldName == "txtProposed_Height")
                        {
                            int? intheight = job != null && job.RfpAddress != null ? job.RfpAddress.Height : 0;
                            string height = Convert.ToString(intheight);
                            if (intheight == 0)
                            {
                                // height = string.Empty;
                            }
                            if (updateJobDocumentField == null)
                            {
                                JobDocumentField JobDocumentField = new JobDocumentField
                                {
                                    IdJobDocument = idJobDocument,
                                    IdDocumentField = Convert.ToInt32(item.Id),
                                    Value = string.Empty,
                                    ActualValue = string.Empty
                                };
                                rpoContext.JobDocumentFields.Add(JobDocumentField);
                            }
                            else
                            {
                                string pdffield = rpoContext.DocumentFields.Where(x => x.IdField == item.IdField).Select(x => x.PdfFields).FirstOrDefault();
                                pdfFields.Add(pdffield);
                                updateJobDocumentField.Value = string.Empty;
                                updateJobDocumentField.ActualValue = string.Empty;
                                rpoContext.Entry(updateJobDocumentField).State = EntityState.Modified;
                                FieldsValue.Add(new IdItemName
                                {
                                    Id = pdffield,
                                    ItemName = updateJobDocumentField.ActualValue
                                });
                                rpoContext.SaveChanges();
                            }
                        }

                        else if (item.Field.FieldName == "txtExisting_Stories")
                        {
                            int? intstories = job != null && job.RfpAddress != null ? job.RfpAddress.Stories : 0;
                            string stories = Convert.ToString(intstories);
                            if (intstories == 0)
                            {
                                stories = string.Empty;
                            }
                            if (updateJobDocumentField == null)
                            {
                                JobDocumentField JobDocumentField = new JobDocumentField
                                {
                                    IdJobDocument = idJobDocument,
                                    IdDocumentField = Convert.ToInt32(item.Id),
                                    Value = stories,
                                    ActualValue = stories
                                };
                                rpoContext.JobDocumentFields.Add(JobDocumentField);
                            }
                            else
                            {
                                string pdffield = rpoContext.DocumentFields.Where(x => x.IdField == item.IdField).Select(x => x.PdfFields).FirstOrDefault();
                                pdfFields.Add(pdffield);
                                updateJobDocumentField.Value = stories;
                                updateJobDocumentField.ActualValue = stories;
                                rpoContext.Entry(updateJobDocumentField).State = EntityState.Modified;
                                FieldsValue.Add(new IdItemName
                                {
                                    Id = pdffield,
                                    ItemName = updateJobDocumentField.ActualValue
                                });
                                rpoContext.SaveChanges();
                            }
                        }

                        else if (item.Field.FieldName == "txtExisting_DwellingUnits")
                        {
                            int? intDwellingUnits = job != null && job.RfpAddress != null ? job.RfpAddress.DwellingUnits : 0;
                            string DwellingUnits = Convert.ToString(intDwellingUnits);
                            if (intDwellingUnits == 0)
                            {
                                DwellingUnits = string.Empty;
                            }
                            if (updateJobDocumentField == null)
                            {
                                JobDocumentField JobDocumentField = new JobDocumentField
                                {
                                    IdJobDocument = idJobDocument,
                                    IdDocumentField = Convert.ToInt32(item.Id),
                                    Value = DwellingUnits,
                                    ActualValue = DwellingUnits
                                };
                                rpoContext.JobDocumentFields.Add(JobDocumentField);
                            }
                            else
                            {
                                string pdffield = rpoContext.DocumentFields.Where(x => x.IdField == item.IdField).Select(x => x.PdfFields).FirstOrDefault();
                                pdfFields.Add(pdffield);
                                updateJobDocumentField.Value = DwellingUnits;
                                updateJobDocumentField.ActualValue = DwellingUnits;
                                rpoContext.Entry(updateJobDocumentField).State = EntityState.Modified;
                                FieldsValue.Add(new IdItemName
                                {
                                    Id = pdffield,
                                    ItemName = updateJobDocumentField.ActualValue
                                });
                                rpoContext.SaveChanges();
                            }

                        }
                        else if (item.Field.FieldName == "chkS")
                        {
                            string postapproval = string.Empty;

                            if (docuementType == "Initial Filing")
                            {
                                //  postapproval = "On";

                            }

                            if (updateJobDocumentField == null)
                            {
                                JobDocumentField JobDocumentField = new JobDocumentField
                                {
                                    IdJobDocument = idJobDocument,
                                    IdDocumentField = Convert.ToInt32(item.Id),
                                    Value = postapproval,
                                    ActualValue = postapproval
                                };
                                rpoContext.JobDocumentFields.Add(JobDocumentField);
                            }
                            else
                            {
                                string pdffield = rpoContext.DocumentFields.Where(x => x.IdField == item.IdField).Select(x => x.PdfFields).FirstOrDefault();
                                pdfFields.Add(pdffield);
                                updateJobDocumentField.Value = postapproval;
                                updateJobDocumentField.ActualValue = postapproval;
                                rpoContext.Entry(updateJobDocumentField).State = EntityState.Modified;
                                FieldsValue.Add(new IdItemName
                                {
                                    Id = pdffield,
                                    ItemName = updateJobDocumentField.ActualValue
                                });
                                rpoContext.SaveChanges();
                            }
                        }
                        else if (item.Field.FieldName == "chkC")
                        {
                            string postapproval = string.Empty;

                            if (docuementType == "Initial Filing")
                            {
                                // postapproval = "On";

                            }

                            if (updateJobDocumentField == null)
                            {
                                JobDocumentField JobDocumentField = new JobDocumentField
                                {
                                    IdJobDocument = idJobDocument,
                                    IdDocumentField = Convert.ToInt32(item.Id),
                                    Value = postapproval,
                                    ActualValue = postapproval
                                };
                                rpoContext.JobDocumentFields.Add(JobDocumentField);
                            }
                            else
                            {
                                string pdffield = rpoContext.DocumentFields.Where(x => x.IdField == item.IdField).Select(x => x.PdfFields).FirstOrDefault();
                                pdfFields.Add(pdffield);
                                updateJobDocumentField.Value = postapproval;
                                updateJobDocumentField.ActualValue = postapproval;
                                rpoContext.Entry(updateJobDocumentField).State = EntityState.Modified;
                                FieldsValue.Add(new IdItemName
                                {
                                    Id = pdffield,
                                    ItemName = updateJobDocumentField.ActualValue
                                });
                                rpoContext.SaveChanges();
                            }
                        }
                        else if (item.Field.FieldName == "chkO")
                        {
                            string postapproval = string.Empty;

                            if (docuementType == "Initial Filing")
                            {
                                // postapproval = "On";

                            }

                            if (updateJobDocumentField == null)
                            {
                                JobDocumentField JobDocumentField = new JobDocumentField
                                {
                                    IdJobDocument = idJobDocument,
                                    IdDocumentField = Convert.ToInt32(item.Id),
                                    Value = postapproval,
                                    ActualValue = postapproval
                                };
                                rpoContext.JobDocumentFields.Add(JobDocumentField);
                            }
                            else
                            {
                                string pdffield = rpoContext.DocumentFields.Where(x => x.IdField == item.IdField).Select(x => x.PdfFields).FirstOrDefault();
                                pdfFields.Add(pdffield);
                                updateJobDocumentField.Value = postapproval;
                                updateJobDocumentField.ActualValue = postapproval;
                                rpoContext.Entry(updateJobDocumentField).State = EntityState.Modified;
                                FieldsValue.Add(new IdItemName
                                {
                                    Id = pdffield,
                                    ItemName = updateJobDocumentField.ActualValue
                                });
                                rpoContext.SaveChanges();
                            }
                        }
                        else if (item.Field.FieldName == "chkwC")
                        {
                            string priortoapproval = string.Empty;

                            //if (docuementType == "Prior to Approval - Subsequent Filing")
                            //{
                            //    priortoapproval = "On";

                            //}

                            if (updateJobDocumentField == null)
                            {
                                JobDocumentField JobDocumentField = new JobDocumentField
                                {
                                    IdJobDocument = idJobDocument,
                                    IdDocumentField = Convert.ToInt32(item.Id),
                                    Value = priortoapproval,
                                    ActualValue = priortoapproval
                                };
                                rpoContext.JobDocumentFields.Add(JobDocumentField);
                            }
                            else
                            {
                                string pdffield = rpoContext.DocumentFields.Where(x => x.IdField == item.IdField).Select(x => x.PdfFields).FirstOrDefault();
                                pdfFields.Add(pdffield);
                                updateJobDocumentField.Value = priortoapproval;
                                updateJobDocumentField.ActualValue = priortoapproval;
                                rpoContext.Entry(updateJobDocumentField).State = EntityState.Modified;
                                FieldsValue.Add(new IdItemName
                                {
                                    Id = pdffield,
                                    ItemName = updateJobDocumentField.ActualValue
                                });
                                rpoContext.SaveChanges();
                            }
                        }

                        else if (item.Field.FieldName == "chkwCA")
                        {
                            string priortoapprovalexisting = string.Empty;

                            if (docuementType.Trim().ToLower() == "Prior to Approval - Amend Existing File".Trim().ToLower())
                            {
                                priortoapprovalexisting = "On";

                            }
                            if (updateJobDocumentField == null)
                            {
                                JobDocumentField JobDocumentField = new JobDocumentField
                                {
                                    IdJobDocument = idJobDocument,
                                    IdDocumentField = Convert.ToInt32(item.Id),
                                    Value = priortoapprovalexisting,
                                    ActualValue = priortoapprovalexisting
                                };
                                rpoContext.JobDocumentFields.Add(JobDocumentField);
                            }
                            else
                            {
                                string pdffield = rpoContext.DocumentFields.Where(x => x.IdField == item.IdField).Select(x => x.PdfFields).FirstOrDefault();
                                pdfFields.Add(pdffield);
                                updateJobDocumentField.Value = priortoapprovalexisting;
                                updateJobDocumentField.ActualValue = priortoapprovalexisting;
                                rpoContext.Entry(updateJobDocumentField).State = EntityState.Modified;
                                FieldsValue.Add(new IdItemName
                                {
                                    Id = pdffield,
                                    ItemName = updateJobDocumentField.ActualValue
                                });
                                rpoContext.SaveChanges();
                            }
                        }
                        else if (item.Field.FieldName == "chkwCW")
                        {
                            string priortoapprovalsubsequent = string.Empty;

                            if (docuementType == "Prior to Approval - Subsequent Filing")
                            {
                                priortoapprovalsubsequent = "On";

                            }

                            if (updateJobDocumentField == null)
                            {
                                JobDocumentField JobDocumentField = new JobDocumentField
                                {
                                    IdJobDocument = idJobDocument,
                                    IdDocumentField = Convert.ToInt32(item.Id),
                                    Value = priortoapprovalsubsequent,
                                    ActualValue = priortoapprovalsubsequent
                                };
                                rpoContext.JobDocumentFields.Add(JobDocumentField);
                            }
                            else
                            {
                                string pdffield = rpoContext.DocumentFields.Where(x => x.IdField == item.IdField).Select(x => x.PdfFields).FirstOrDefault();
                                pdfFields.Add(pdffield);
                                updateJobDocumentField.Value = priortoapprovalsubsequent;
                                updateJobDocumentField.ActualValue = priortoapprovalsubsequent;
                                rpoContext.Entry(updateJobDocumentField).State = EntityState.Modified;
                                FieldsValue.Add(new IdItemName
                                {
                                    Id = pdffield,
                                    ItemName = updateJobDocumentField.ActualValue
                                });
                                rpoContext.SaveChanges();
                            }
                        }
                        else if (item.Field.FieldName == "chkwPA")
                        {
                            string postapproval = string.Empty;

                            if (docuementType == "Initial Filing")
                            {
                                postapproval = "1";

                            }

                            if (updateJobDocumentField == null)
                            {
                                JobDocumentField JobDocumentField = new JobDocumentField
                                {
                                    IdJobDocument = idJobDocument,
                                    IdDocumentField = Convert.ToInt32(item.Id),
                                    Value = postapproval,
                                    ActualValue = postapproval
                                };
                                rpoContext.JobDocumentFields.Add(JobDocumentField);
                            }
                            else
                            {
                                string pdffield = rpoContext.DocumentFields.Where(x => x.IdField == item.IdField).Select(x => x.PdfFields).FirstOrDefault();
                                pdfFields.Add(pdffield);
                                updateJobDocumentField.Value = postapproval;
                                updateJobDocumentField.ActualValue = postapproval;
                                rpoContext.Entry(updateJobDocumentField).State = EntityState.Modified;
                                FieldsValue.Add(new IdItemName
                                {
                                    Id = pdffield,
                                    ItemName = updateJobDocumentField.ActualValue
                                });
                                rpoContext.SaveChanges();
                            }
                        }
                        else if (item.Field.FieldName == "chkwRE")
                        {
                            string Reinstatement = string.Empty;

                            if (docuementType == "Reinstatement")
                            {
                                Reinstatement = "1";

                            }

                            if (updateJobDocumentField == null)
                            {
                                JobDocumentField JobDocumentField = new JobDocumentField
                                {
                                    IdJobDocument = idJobDocument,
                                    IdDocumentField = Convert.ToInt32(item.Id),
                                    Value = Reinstatement,
                                    ActualValue = Reinstatement
                                };
                                rpoContext.JobDocumentFields.Add(JobDocumentField);
                            }
                            else
                            {
                                string pdffield = rpoContext.DocumentFields.Where(x => x.IdField == item.IdField).Select(x => x.PdfFields).FirstOrDefault();
                                pdfFields.Add(pdffield);
                                updateJobDocumentField.Value = Reinstatement;
                                updateJobDocumentField.ActualValue = Reinstatement;
                                rpoContext.Entry(updateJobDocumentField).State = EntityState.Modified;
                                FieldsValue.Add(new IdItemName
                                {
                                    Id = pdffield,
                                    ItemName = updateJobDocumentField.ActualValue
                                });
                                rpoContext.SaveChanges();
                            }
                        }
                        else if (item.Field.FieldName == "chkwW")
                        {
                            string withdraw = string.Empty;

                            if (docuementType == "Withdrwal - Partial" || docuementType == "Withdrwal - Entire Job")
                            {
                                withdraw = "1";

                            }

                            if (updateJobDocumentField == null)
                            {
                                JobDocumentField JobDocumentField = new JobDocumentField
                                {
                                    IdJobDocument = idJobDocument,
                                    IdDocumentField = Convert.ToInt32(item.Id),
                                    Value = withdraw,
                                    ActualValue = withdraw
                                };
                                rpoContext.JobDocumentFields.Add(JobDocumentField);
                            }
                            else
                            {
                                string pdffield = rpoContext.DocumentFields.Where(x => x.IdField == item.IdField).Select(x => x.PdfFields).FirstOrDefault();
                                pdfFields.Add(pdffield);
                                updateJobDocumentField.Value = withdraw;
                                updateJobDocumentField.ActualValue = withdraw;
                                rpoContext.Entry(updateJobDocumentField).State = EntityState.Modified;
                                FieldsValue.Add(new IdItemName
                                {
                                    Id = pdffield,
                                    ItemName = updateJobDocumentField.ActualValue
                                });
                                rpoContext.SaveChanges();
                            }
                        }
                        else if (item.Field.FieldName == "chkwWP")
                        {
                            string withdrawpartial = string.Empty;

                            if (docuementType == "Withdrwal - Partial")
                            {
                                withdrawpartial = "On";

                            }
                            if (updateJobDocumentField == null)
                            {
                                JobDocumentField JobDocumentField = new JobDocumentField
                                {
                                    IdJobDocument = idJobDocument,
                                    IdDocumentField = Convert.ToInt32(item.Id),
                                    Value = withdrawpartial,
                                    ActualValue = withdrawpartial
                                };
                                rpoContext.JobDocumentFields.Add(JobDocumentField);
                            }
                            else
                            {
                                string pdffield = rpoContext.DocumentFields.Where(x => x.IdField == item.IdField).Select(x => x.PdfFields).FirstOrDefault();
                                pdfFields.Add(pdffield);
                                updateJobDocumentField.Value = withdrawpartial;
                                updateJobDocumentField.ActualValue = withdrawpartial;
                                rpoContext.Entry(updateJobDocumentField).State = EntityState.Modified;
                                FieldsValue.Add(new IdItemName
                                {
                                    Id = pdffield,
                                    ItemName = updateJobDocumentField.ActualValue
                                });
                                rpoContext.SaveChanges();
                            }
                        }
                        else if (item.Field.FieldName == "chkwWE")
                        {
                            string withdrawentire = string.Empty;

                            if (docuementType == "Withdrwal - Entire Job")
                            {
                                withdrawentire = "On";

                            }


                            if (updateJobDocumentField == null)
                            {
                                JobDocumentField JobDocumentField = new JobDocumentField
                                {
                                    IdJobDocument = idJobDocument,
                                    IdDocumentField = Convert.ToInt32(item.Id),
                                    Value = withdrawentire,
                                    ActualValue = withdrawentire
                                };
                                rpoContext.JobDocumentFields.Add(JobDocumentField);
                            }
                            else
                            {
                                string pdffield = rpoContext.DocumentFields.Where(x => x.IdField == item.IdField).Select(x => x.PdfFields).FirstOrDefault();
                                pdfFields.Add(pdffield);
                                updateJobDocumentField.Value = withdrawentire;
                                updateJobDocumentField.ActualValue = withdrawentire;
                                rpoContext.Entry(updateJobDocumentField).State = EntityState.Modified;
                                FieldsValue.Add(new IdItemName
                                {
                                    Id = pdffield,
                                    ItemName = updateJobDocumentField.ActualValue
                                });
                                rpoContext.SaveChanges();
                            }
                        }

                        else if (item.Field.FieldName == "chkwPA")
                        {
                            string pa = string.Empty;

                            if (docuementType == "Post Approval Amendment")
                            {
                                pa = "1";

                            }


                            if (updateJobDocumentField == null)
                            {
                                JobDocumentField JobDocumentField = new JobDocumentField
                                {
                                    IdJobDocument = idJobDocument,
                                    IdDocumentField = Convert.ToInt32(item.Id),
                                    Value = pa,
                                    ActualValue = pa
                                };
                                rpoContext.JobDocumentFields.Add(JobDocumentField);
                            }
                            else
                            {
                                string pdffield = rpoContext.DocumentFields.Where(x => x.IdField == item.IdField).Select(x => x.PdfFields).FirstOrDefault();
                                pdfFields.Add(pdffield);
                                updateJobDocumentField.Value = pa;
                                updateJobDocumentField.ActualValue = pa;
                                rpoContext.Entry(updateJobDocumentField).State = EntityState.Modified;
                                FieldsValue.Add(new IdItemName
                                {
                                    Id = pdffield,
                                    ItemName = updateJobDocumentField.ActualValue
                                });
                                rpoContext.SaveChanges();
                            }
                        }


                        else if (item.Field.FieldName == "chkwNA")
                        {
                            string chkwNA = string.Empty;

                            if (docuementType == "New Applicant")
                            {
                                chkwNA = "1";

                            }


                            if (updateJobDocumentField == null)
                            {
                                JobDocumentField JobDocumentField = new JobDocumentField
                                {
                                    IdJobDocument = idJobDocument,
                                    IdDocumentField = Convert.ToInt32(item.Id),
                                    Value = chkwNA,
                                    ActualValue = chkwNA
                                };
                                rpoContext.JobDocumentFields.Add(JobDocumentField);
                            }
                            else
                            {
                                string pdffield = rpoContext.DocumentFields.Where(x => x.IdField == item.IdField).Select(x => x.PdfFields).FirstOrDefault();
                                pdfFields.Add(pdffield);
                                updateJobDocumentField.Value = chkwNA;
                                updateJobDocumentField.ActualValue = chkwNA;
                                rpoContext.Entry(updateJobDocumentField).State = EntityState.Modified;
                                FieldsValue.Add(new IdItemName
                                {
                                    Id = pdffield,
                                    ItemName = updateJobDocumentField.ActualValue
                                });
                                rpoContext.SaveChanges();
                            }
                        }

                        else if (item.Field.FieldName == "chk6BL")
                        {
                            String val = String.Empty;

                            permitTypecodeArr = permitTypecode.Split(',').ToArray();

                            var str = Array.FindAll(permitTypecodeArr, s => s.Equals("BL"));

                            if (str.Length > 0)
                            {
                                val = "On";

                            }
                            if (updateJobDocumentField == null)
                            {
                                JobDocumentField JobDocumentField = new JobDocumentField
                                {
                                    IdJobDocument = idJobDocument,
                                    IdDocumentField = Convert.ToInt32(item.Id),
                                    Value = val,
                                    ActualValue = val
                                };
                                rpoContext.JobDocumentFields.Add(JobDocumentField);
                            }
                            else
                            {
                                string pdffield = rpoContext.DocumentFields.Where(x => x.IdField == item.IdField).Select(x => x.PdfFields).FirstOrDefault();
                                pdfFields.Add(pdffield);
                                updateJobDocumentField.Value = val;
                                updateJobDocumentField.ActualValue = val;
                                rpoContext.Entry(updateJobDocumentField).State = EntityState.Modified;
                                FieldsValue.Add(new IdItemName
                                {
                                    Id = pdffield,
                                    ItemName = updateJobDocumentField.ActualValue
                                });
                                rpoContext.SaveChanges();
                            }
                        }
                        else if (item.Field.FieldName == "chk6FA")
                        {

                            String val = String.Empty;

                            permitTypecodeArr = permitTypecode.Split(',').ToArray();

                            var str = Array.FindAll(permitTypecodeArr, s => s.Equals("FA/New"));

                            if (str.Length > 0)
                            {
                                val = "On";

                            }


                            if (updateJobDocumentField == null)
                            {
                                JobDocumentField JobDocumentField = new JobDocumentField
                                {
                                    IdJobDocument = idJobDocument,
                                    IdDocumentField = Convert.ToInt32(item.Id),
                                    Value = val,
                                    ActualValue = val
                                };
                                rpoContext.JobDocumentFields.Add(JobDocumentField);
                            }
                            else
                            {
                                string pdffield = rpoContext.DocumentFields.Where(x => x.IdField == item.IdField).Select(x => x.PdfFields).FirstOrDefault();
                                pdfFields.Add(pdffield);
                                updateJobDocumentField.Value = val;
                                updateJobDocumentField.ActualValue = val;
                                rpoContext.Entry(updateJobDocumentField).State = EntityState.Modified;
                                FieldsValue.Add(new IdItemName
                                {
                                    Id = pdffield,
                                    ItemName = updateJobDocumentField.ActualValue
                                });
                                rpoContext.SaveChanges();
                            }
                        }
                        else if (item.Field.FieldName == "chk6FB")
                        {

                            String val = String.Empty;

                            permitTypecodeArr = permitTypecode.Split(',').ToArray();

                            var str = Array.FindAll(permitTypecodeArr, s => s.Equals("FB"));

                            if (str.Length > 0)
                            {
                                val = "On";

                            }

                            if (updateJobDocumentField == null)
                            {
                                JobDocumentField JobDocumentField = new JobDocumentField
                                {
                                    IdJobDocument = idJobDocument,
                                    IdDocumentField = Convert.ToInt32(item.Id),
                                    Value = val,
                                    ActualValue = val
                                };
                                rpoContext.JobDocumentFields.Add(JobDocumentField);
                            }
                            else
                            {
                                string pdffield = rpoContext.DocumentFields.Where(x => x.IdField == item.IdField).Select(x => x.PdfFields).FirstOrDefault();
                                pdfFields.Add(pdffield);
                                updateJobDocumentField.Value = val;
                                updateJobDocumentField.ActualValue = val;
                                rpoContext.Entry(updateJobDocumentField).State = EntityState.Modified;
                                FieldsValue.Add(new IdItemName
                                {
                                    Id = pdffield,
                                    ItemName = updateJobDocumentField.ActualValue
                                });
                                rpoContext.SaveChanges();
                            }
                        }
                        else if (item.Field.FieldName == "chk6FS")
                        {


                            String val = String.Empty;

                            permitTypecodeArr = permitTypecode.Split(',').ToArray();

                            var str = Array.FindAll(permitTypecodeArr, s => s.Equals("FS"));

                            if (str.Length > 0)
                            {
                                val = "On";
                            }

                            if (updateJobDocumentField == null)
                            {
                                JobDocumentField JobDocumentField = new JobDocumentField
                                {
                                    IdJobDocument = idJobDocument,
                                    IdDocumentField = Convert.ToInt32(item.Id),
                                    Value = val,
                                    ActualValue = val
                                };
                                rpoContext.JobDocumentFields.Add(JobDocumentField);
                            }
                            else
                            {
                                string pdffield = rpoContext.DocumentFields.Where(x => x.IdField == item.IdField).Select(x => x.PdfFields).FirstOrDefault();
                                pdfFields.Add(pdffield);
                                updateJobDocumentField.Value = val;
                                updateJobDocumentField.ActualValue = val;
                                rpoContext.Entry(updateJobDocumentField).State = EntityState.Modified;
                                FieldsValue.Add(new IdItemName
                                {
                                    Id = pdffield,
                                    ItemName = updateJobDocumentField.ActualValue
                                });
                                rpoContext.SaveChanges();
                            }
                        }
                        else if (item.Field.FieldName == "chk6FP")
                        {


                            String val = String.Empty;

                            permitTypecodeArr = permitTypecode.Split(',').ToArray();

                            var str = Array.FindAll(permitTypecodeArr, s => s.Equals("FP"));

                            if (str.Length > 0)
                            {
                                val = "On";

                            }

                            if (updateJobDocumentField == null)
                            {
                                JobDocumentField JobDocumentField = new JobDocumentField
                                {
                                    IdJobDocument = idJobDocument,
                                    IdDocumentField = Convert.ToInt32(item.Id),
                                    Value = val,
                                    ActualValue = val
                                };
                                rpoContext.JobDocumentFields.Add(JobDocumentField);
                            }
                            else
                            {
                                string pdffield = rpoContext.DocumentFields.Where(x => x.IdField == item.IdField).Select(x => x.PdfFields).FirstOrDefault();
                                pdfFields.Add(pdffield);
                                updateJobDocumentField.Value = val;
                                updateJobDocumentField.ActualValue = val;
                                rpoContext.Entry(updateJobDocumentField).State = EntityState.Modified;
                                FieldsValue.Add(new IdItemName
                                {
                                    Id = pdffield,
                                    ItemName = updateJobDocumentField.ActualValue
                                });
                                rpoContext.SaveChanges();
                            }
                        }
                        else if (item.Field.FieldName == "chk6MH")
                        {

                            String val = String.Empty;

                            permitTypecodeArr = permitTypecode.Split(',').ToArray();

                            var str = Array.FindAll(permitTypecodeArr, s => s.Equals("MH"));

                            if (str.Length > 0)
                            {
                                val = "On";

                            }

                            if (updateJobDocumentField == null)
                            {
                                JobDocumentField JobDocumentField = new JobDocumentField
                                {
                                    IdJobDocument = idJobDocument,
                                    IdDocumentField = Convert.ToInt32(item.Id),
                                    Value = val,
                                    ActualValue = val
                                };
                                rpoContext.JobDocumentFields.Add(JobDocumentField);
                            }
                            else
                            {
                                string pdffield = rpoContext.DocumentFields.Where(x => x.IdField == item.IdField).Select(x => x.PdfFields).FirstOrDefault();
                                pdfFields.Add(pdffield);
                                updateJobDocumentField.Value = val;
                                updateJobDocumentField.ActualValue = val;
                                rpoContext.Entry(updateJobDocumentField).State = EntityState.Modified;
                                FieldsValue.Add(new IdItemName
                                {
                                    Id = pdffield,
                                    ItemName = updateJobDocumentField.ActualValue
                                });
                                rpoContext.SaveChanges();
                            }
                        }
                        else if (item.Field.FieldName == "chk6PL")
                        {

                            String val = String.Empty;

                            permitTypecodeArr = permitTypecode.Split(',').ToArray();

                            var str = Array.FindAll(permitTypecodeArr, s => s.Equals("PL"));

                            if (str.Length > 0)
                            {
                                val = "On";

                            }


                            if (updateJobDocumentField == null)
                            {
                                JobDocumentField JobDocumentField = new JobDocumentField
                                {
                                    IdJobDocument = idJobDocument,
                                    IdDocumentField = Convert.ToInt32(item.Id),
                                    Value = val,
                                    ActualValue = val
                                };
                                rpoContext.JobDocumentFields.Add(JobDocumentField);
                            }
                            else
                            {
                                string pdffield = rpoContext.DocumentFields.Where(x => x.IdField == item.IdField).Select(x => x.PdfFields).FirstOrDefault();
                                pdfFields.Add(pdffield);
                                updateJobDocumentField.Value = val;
                                updateJobDocumentField.ActualValue = val;
                                rpoContext.Entry(updateJobDocumentField).State = EntityState.Modified;
                                FieldsValue.Add(new IdItemName
                                {
                                    Id = pdffield,
                                    ItemName = updateJobDocumentField.ActualValue
                                });

                                rpoContext.SaveChanges();
                            }
                        }
                        else if (item.Field.FieldName == "chk6SD")
                        {

                            String val = String.Empty;

                            permitTypecodeArr = permitTypecode.Split(',').ToArray();

                            var str = Array.FindAll(permitTypecodeArr, s => s.Equals("SD"));

                            if (str.Length > 0)
                            {
                                val = "On";

                            }


                            if (updateJobDocumentField == null)
                            {
                                JobDocumentField JobDocumentField = new JobDocumentField
                                {
                                    IdJobDocument = idJobDocument,
                                    IdDocumentField = Convert.ToInt32(item.Id),
                                    Value = val,
                                    ActualValue = val
                                };
                                rpoContext.JobDocumentFields.Add(JobDocumentField);
                            }
                            else
                            {
                                string pdffield = rpoContext.DocumentFields.Where(x => x.IdField == item.IdField).Select(x => x.PdfFields).FirstOrDefault();
                                pdfFields.Add(pdffield);
                                updateJobDocumentField.Value = val;
                                updateJobDocumentField.ActualValue = val;
                                rpoContext.Entry(updateJobDocumentField).State = EntityState.Modified;
                                FieldsValue.Add(new IdItemName
                                {
                                    Id = pdffield,
                                    ItemName = updateJobDocumentField.ActualValue
                                });
                                rpoContext.SaveChanges();
                            }
                        }
                        else if (item.Field.FieldName == "chk6SP")
                        {

                            String val = String.Empty;

                            permitTypecodeArr = permitTypecode.Split(',').ToArray();

                            var str = Array.FindAll(permitTypecodeArr, s => s.Equals("SP"));

                            if (str.Length > 0)
                            {
                                val = "On";

                            }


                            if (updateJobDocumentField == null)
                            {
                                JobDocumentField JobDocumentField = new JobDocumentField
                                {
                                    IdJobDocument = idJobDocument,
                                    IdDocumentField = Convert.ToInt32(item.Id),
                                    Value = val,
                                    ActualValue = val
                                };
                                rpoContext.JobDocumentFields.Add(JobDocumentField);
                            }
                            else
                            {
                                string pdffield = rpoContext.DocumentFields.Where(x => x.IdField == item.IdField).Select(x => x.PdfFields).FirstOrDefault();
                                pdfFields.Add(pdffield);
                                updateJobDocumentField.Value = val;
                                updateJobDocumentField.ActualValue = val;
                                rpoContext.Entry(updateJobDocumentField).State = EntityState.Modified;
                                FieldsValue.Add(new IdItemName
                                {
                                    Id = pdffield,
                                    ItemName = updateJobDocumentField.ActualValue
                                });
                                rpoContext.SaveChanges();
                            }
                        }
                        else if (item.Field.FieldName == "chk6GC")
                        {
                            String val = String.Empty;

                            permitTypecodeArr = permitTypecode.Split(',').ToArray();

                            var str = Array.FindAll(permitTypecodeArr, s => s.Equals("OT/GC"));

                            if (str.Length > 0)
                            {
                                val = "On";

                            }

                            if (updateJobDocumentField == null)
                            {
                                JobDocumentField JobDocumentField = new JobDocumentField
                                {
                                    IdJobDocument = idJobDocument,
                                    IdDocumentField = Convert.ToInt32(item.Id),
                                    Value = val,
                                    ActualValue = val
                                };
                                rpoContext.JobDocumentFields.Add(JobDocumentField);
                            }
                            else
                            {
                                string pdffield = rpoContext.DocumentFields.Where(x => x.IdField == item.IdField).Select(x => x.PdfFields).FirstOrDefault();
                                pdfFields.Add(pdffield);
                                updateJobDocumentField.Value = val;
                                updateJobDocumentField.ActualValue = val;
                                rpoContext.Entry(updateJobDocumentField).State = EntityState.Modified;
                                FieldsValue.Add(new IdItemName
                                {
                                    Id = pdffield,
                                    ItemName = updateJobDocumentField.ActualValue
                                });
                                rpoContext.SaveChanges();
                            }
                        }



                        else if (item.Field.FieldName == "txtTotalEstCost")
                        {
                            if (updateJobDocumentField == null)
                            {
                                JobDocumentField JobDocumentField = new JobDocumentField
                                {
                                    IdJobDocument = idJobDocument,
                                    IdDocumentField = Convert.ToInt32(item.Id),
                                    Value = estfees,
                                    ActualValue = estfees
                                };
                                rpoContext.JobDocumentFields.Add(JobDocumentField);
                            }
                            else
                            {
                                string pdffield = rpoContext.DocumentFields.Where(x => x.IdField == item.IdField).Select(x => x.PdfFields).FirstOrDefault();
                                pdfFields.Add(pdffield);
                                updateJobDocumentField.Value = estfees;
                                updateJobDocumentField.ActualValue = estfees;
                                rpoContext.Entry(updateJobDocumentField).State = EntityState.Modified;
                                FieldsValue.Add(new IdItemName
                                {
                                    Id = pdffield,
                                    ItemName = updateJobDocumentField.ActualValue
                                });
                                rpoContext.SaveChanges();
                            }
                        }


                        else if (item.Field.FieldName == "txtApplicantName")
                        {

                            if (docuementType == "Withdrwal - Entire Job" || docuementType == "Withdrwal - Partial")
                            {
                                applicantName = string.Empty;
                            }
                            if (updateJobDocumentField == null)
                            {
                                JobDocumentField JobDocumentField = new JobDocumentField
                                {
                                    IdJobDocument = idJobDocument,
                                    IdDocumentField = Convert.ToInt32(item.Id),
                                    Value = applicantName,
                                    ActualValue = applicantName
                                };
                                rpoContext.JobDocumentFields.Add(JobDocumentField);
                            }
                            else
                            {
                                string pdffield = rpoContext.DocumentFields.Where(x => x.IdField == item.IdField).Select(x => x.PdfFields).FirstOrDefault();
                                pdfFields.Add(pdffield);
                                updateJobDocumentField.Value = applicantName;
                                updateJobDocumentField.ActualValue = applicantName;
                                rpoContext.Entry(updateJobDocumentField).State = EntityState.Modified;
                                FieldsValue.Add(new IdItemName
                                {
                                    Id = pdffield,
                                    ItemName = updateJobDocumentField.ActualValue
                                });
                                rpoContext.SaveChanges();
                            }
                        }


                        else if (item.Field.FieldName == "txtLR_Name")
                        {
                            if (docuementType == "Prior to Approval - Subsequent Filing")
                            {
                                LR_Name = string.Empty;
                            }
                            if (updateJobDocumentField == null)
                            {
                                JobDocumentField JobDocumentField = new JobDocumentField
                                {
                                    IdJobDocument = idJobDocument,
                                    IdDocumentField = Convert.ToInt32(item.Id),
                                    Value = LR_Name,
                                    ActualValue = LR_Name
                                };
                                rpoContext.JobDocumentFields.Add(JobDocumentField);
                            }
                            else
                            {
                                string pdffield = rpoContext.DocumentFields.Where(x => x.IdField == item.IdField).Select(x => x.PdfFields).FirstOrDefault();
                                pdfFields.Add(pdffield);
                                updateJobDocumentField.Value = LR_Name;
                                updateJobDocumentField.ActualValue = LR_Name;
                                rpoContext.Entry(updateJobDocumentField).State = EntityState.Modified;
                                FieldsValue.Add(new IdItemName
                                {
                                    Id = pdffield,
                                    ItemName = updateJobDocumentField.ActualValue
                                });
                                rpoContext.SaveChanges();
                            }
                        }
                        else if (item.Field.FieldName == "txtLR_Relationship")
                        {
                            if (docuementType == "Prior to Approval - Subsequent Filing")
                            {
                                LR_Relationship = string.Empty;
                            }
                            if (updateJobDocumentField == null)
                            {
                                JobDocumentField JobDocumentField = new JobDocumentField
                                {
                                    IdJobDocument = idJobDocument,
                                    IdDocumentField = Convert.ToInt32(item.Id),
                                    Value = LR_Relationship,
                                    ActualValue = LR_Relationship
                                };
                                rpoContext.JobDocumentFields.Add(JobDocumentField);
                            }
                            else
                            {
                                string pdffield = rpoContext.DocumentFields.Where(x => x.IdField == item.IdField).Select(x => x.PdfFields).FirstOrDefault();
                                pdfFields.Add(pdffield);
                                updateJobDocumentField.Value = LR_Relationship;
                                updateJobDocumentField.ActualValue = LR_Relationship;
                                rpoContext.Entry(updateJobDocumentField).State = EntityState.Modified;
                                FieldsValue.Add(new IdItemName
                                {
                                    Id = pdffield,
                                    ItemName = updateJobDocumentField.ActualValue
                                });
                                rpoContext.SaveChanges();
                            }
                        }
                        else if (item.Field.FieldName == "txtLR_Company")
                        {
                            if (docuementType == "Prior to Approval - Subsequent Filing")
                            {
                                LR_Company = string.Empty;
                            }
                            if (updateJobDocumentField == null)
                            {
                                JobDocumentField JobDocumentField = new JobDocumentField
                                {
                                    IdJobDocument = idJobDocument,
                                    IdDocumentField = Convert.ToInt32(item.Id),
                                    Value = LR_Company,
                                    ActualValue = LR_Company
                                };
                                rpoContext.JobDocumentFields.Add(JobDocumentField);
                            }
                            else
                            {
                                string pdffield = rpoContext.DocumentFields.Where(x => x.IdField == item.IdField).Select(x => x.PdfFields).FirstOrDefault();
                                pdfFields.Add(pdffield);
                                updateJobDocumentField.Value = LR_Company;
                                updateJobDocumentField.ActualValue = LR_Company;
                                rpoContext.Entry(updateJobDocumentField).State = EntityState.Modified;
                                FieldsValue.Add(new IdItemName
                                {
                                    Id = pdffield,
                                    ItemName = updateJobDocumentField.ActualValue
                                });
                                rpoContext.SaveChanges();
                            }
                        }
                        else if (item.Field.FieldName == "txtLR_Address")
                        {
                            if (docuementType == "Prior to Approval - Subsequent Filing")
                            {
                                LR_Address = string.Empty;
                            }
                            if (updateJobDocumentField == null)
                            {
                                JobDocumentField JobDocumentField = new JobDocumentField
                                {
                                    IdJobDocument = idJobDocument,
                                    IdDocumentField = Convert.ToInt32(item.Id),
                                    Value = LR_Address,
                                    ActualValue = LR_Address
                                };
                                rpoContext.JobDocumentFields.Add(JobDocumentField);
                            }
                            else
                            {
                                string pdffield = rpoContext.DocumentFields.Where(x => x.IdField == item.IdField).Select(x => x.PdfFields).FirstOrDefault();
                                pdfFields.Add(pdffield);
                                updateJobDocumentField.Value = LR_Address;
                                updateJobDocumentField.ActualValue = LR_Address;
                                rpoContext.Entry(updateJobDocumentField).State = EntityState.Modified;
                                FieldsValue.Add(new IdItemName
                                {
                                    Id = pdffield,
                                    ItemName = updateJobDocumentField.ActualValue
                                });
                                rpoContext.SaveChanges();
                            }
                        }
                        else if (item.Field.FieldName == "txtLR_City")
                        {
                            if (docuementType == "Prior to Approval - Subsequent Filing")
                            {
                                LR_City = string.Empty;
                            }
                            if (updateJobDocumentField == null)
                            {
                                JobDocumentField JobDocumentField = new JobDocumentField
                                {
                                    IdJobDocument = idJobDocument,
                                    IdDocumentField = Convert.ToInt32(item.Id),
                                    Value = LR_City,
                                    ActualValue = LR_City
                                };
                                rpoContext.JobDocumentFields.Add(JobDocumentField);
                            }
                            else
                            {
                                string pdffield = rpoContext.DocumentFields.Where(x => x.IdField == item.IdField).Select(x => x.PdfFields).FirstOrDefault();
                                pdfFields.Add(pdffield);
                                updateJobDocumentField.Value = LR_City;
                                updateJobDocumentField.ActualValue = LR_City;
                                rpoContext.Entry(updateJobDocumentField).State = EntityState.Modified;
                                FieldsValue.Add(new IdItemName
                                {
                                    Id = pdffield,
                                    ItemName = updateJobDocumentField.ActualValue
                                });
                                rpoContext.SaveChanges();
                            }
                        }
                        else if (item.Field.FieldName == "txtLR_State")
                        {
                            if (docuementType == "Prior to Approval - Subsequent Filing")
                            {
                                LR_State = string.Empty;
                            }
                            if (updateJobDocumentField == null)
                            {
                                JobDocumentField JobDocumentField = new JobDocumentField
                                {
                                    IdJobDocument = idJobDocument,
                                    IdDocumentField = Convert.ToInt32(item.Id),
                                    Value = LR_State,
                                    ActualValue = LR_State
                                };
                                rpoContext.JobDocumentFields.Add(JobDocumentField);
                            }
                            else
                            {
                                string pdffield = rpoContext.DocumentFields.Where(x => x.IdField == item.IdField).Select(x => x.PdfFields).FirstOrDefault();
                                pdfFields.Add(pdffield);
                                updateJobDocumentField.Value = LR_State;
                                updateJobDocumentField.ActualValue = LR_State;
                                rpoContext.Entry(updateJobDocumentField).State = EntityState.Modified;
                                FieldsValue.Add(new IdItemName
                                {
                                    Id = pdffield,
                                    ItemName = updateJobDocumentField.ActualValue
                                });
                                rpoContext.SaveChanges();
                            }
                        }
                        else if (item.Field.FieldName == "txtLR_Zip")
                        {
                            if (docuementType == "Prior to Approval - Subsequent Filing")
                            {
                                LR_Zip = string.Empty;
                            }
                            if (updateJobDocumentField == null)
                            {
                                JobDocumentField JobDocumentField = new JobDocumentField
                                {
                                    IdJobDocument = idJobDocument,
                                    IdDocumentField = Convert.ToInt32(item.Id),
                                    Value = LR_Zip,
                                    ActualValue = LR_Zip
                                };
                                rpoContext.JobDocumentFields.Add(JobDocumentField);
                            }
                            else
                            {
                                string pdffield = rpoContext.DocumentFields.Where(x => x.IdField == item.IdField).Select(x => x.PdfFields).FirstOrDefault();
                                pdfFields.Add(pdffield);
                                updateJobDocumentField.Value = LR_Zip;
                                updateJobDocumentField.ActualValue = LR_Zip;
                                rpoContext.Entry(updateJobDocumentField).State = EntityState.Modified;
                                FieldsValue.Add(new IdItemName
                                {
                                    Id = pdffield,
                                    ItemName = updateJobDocumentField.ActualValue
                                });
                                rpoContext.SaveChanges();
                            }
                        }
                        else if (item.Field.FieldName == "txtLR_Phone")
                        {
                            if (docuementType == "Prior to Approval - Subsequent Filing")
                            {
                                LR_Phone = string.Empty;
                            }
                            if (updateJobDocumentField == null)
                            {
                                JobDocumentField JobDocumentField = new JobDocumentField
                                {
                                    IdJobDocument = idJobDocument,
                                    IdDocumentField = Convert.ToInt32(item.Id),
                                    Value = LR_Phone,
                                    ActualValue = LR_Phone
                                };
                                rpoContext.JobDocumentFields.Add(JobDocumentField);
                            }
                            else
                            {
                                string pdffield = rpoContext.DocumentFields.Where(x => x.IdField == item.IdField).Select(x => x.PdfFields).FirstOrDefault();
                                pdfFields.Add(pdffield);
                                updateJobDocumentField.Value = LR_Phone;
                                updateJobDocumentField.ActualValue = LR_Phone;
                                rpoContext.Entry(updateJobDocumentField).State = EntityState.Modified;
                                FieldsValue.Add(new IdItemName
                                {
                                    Id = pdffield,
                                    ItemName = updateJobDocumentField.ActualValue
                                });
                                rpoContext.SaveChanges();
                            }
                        }
                        else if (item.Field.FieldName == "txtLR_Fax")
                        {
                            if (docuementType == "Prior to Approval - Subsequent Filing")
                            {
                                LR_Fax = string.Empty;
                            }
                            if (updateJobDocumentField == null)
                            {
                                JobDocumentField JobDocumentField = new JobDocumentField
                                {
                                    IdJobDocument = idJobDocument,
                                    IdDocumentField = Convert.ToInt32(item.Id),
                                    Value = LR_Fax,
                                    ActualValue = LR_Fax
                                };
                                rpoContext.JobDocumentFields.Add(JobDocumentField);
                            }
                            else
                            {
                                string pdffield = rpoContext.DocumentFields.Where(x => x.IdField == item.IdField).Select(x => x.PdfFields).FirstOrDefault();
                                pdfFields.Add(pdffield);
                                updateJobDocumentField.Value = LR_Fax;
                                updateJobDocumentField.ActualValue = LR_Fax;
                                rpoContext.Entry(updateJobDocumentField).State = EntityState.Modified;
                                FieldsValue.Add(new IdItemName
                                {
                                    Id = pdffield,
                                    ItemName = updateJobDocumentField.ActualValue
                                });
                                rpoContext.SaveChanges();
                            }
                        }
                        else if (item.Field.FieldName == "txtLR_EMail")
                        {
                            if (docuementType == "Prior to Approval - Subsequent Filing")
                            {
                                LR_EMail = string.Empty;
                            }
                            if (updateJobDocumentField == null)
                            {
                                JobDocumentField JobDocumentField = new JobDocumentField
                                {
                                    IdJobDocument = idJobDocument,
                                    IdDocumentField = Convert.ToInt32(item.Id),
                                    Value = LR_EMail,
                                    ActualValue = LR_EMail
                                };
                                rpoContext.JobDocumentFields.Add(JobDocumentField);
                            }
                            else
                            {
                                string pdffield = rpoContext.DocumentFields.Where(x => x.IdField == item.IdField).Select(x => x.PdfFields).FirstOrDefault();
                                pdfFields.Add(pdffield);
                                updateJobDocumentField.Value = LR_EMail;
                                updateJobDocumentField.ActualValue = LR_EMail;
                                rpoContext.Entry(updateJobDocumentField).State = EntityState.Modified;
                                FieldsValue.Add(new IdItemName
                                {
                                    Id = pdffield,
                                    ItemName = updateJobDocumentField.ActualValue
                                });
                                rpoContext.SaveChanges();
                            }
                        }

                        else if (item.Field.FieldName == "txtComments")
                        {
                            if (updateJobDocumentField == null)
                            {
                                JobDocumentField JobDocumentField = new JobDocumentField
                                {
                                    IdJobDocument = idJobDocument,
                                    IdDocumentField = Convert.ToInt32(item.Id),
                                    Value = comments,
                                    ActualValue = comments
                                };
                                rpoContext.JobDocumentFields.Add(JobDocumentField);
                            }
                            else
                            {
                                string pdffield = rpoContext.DocumentFields.Where(x => x.IdField == item.IdField).Select(x => x.PdfFields).FirstOrDefault();
                                pdfFields.Add(pdffield);
                                updateJobDocumentField.Value = comments;
                                updateJobDocumentField.ActualValue = comments;
                                rpoContext.Entry(updateJobDocumentField).State = EntityState.Modified;
                                FieldsValue.Add(new IdItemName
                                {
                                    Id = pdffield,
                                    ItemName = updateJobDocumentField.ActualValue
                                });
                                rpoContext.SaveChanges();
                            }
                        }
                        else if (item.Field.FieldName == "txtZoning_District")
                        {
                            string zoneDistrict = job != null && job.RfpAddress != null ? job.RfpAddress.ZoneDistrict : string.Empty;


                            if (updateJobDocumentField == null)
                            {
                                JobDocumentField JobDocumentField = new JobDocumentField
                                {
                                    IdJobDocument = idJobDocument,
                                    IdDocumentField = Convert.ToInt32(item.Id),
                                    Value = zoneDistrict,
                                    ActualValue = zoneDistrict
                                };
                                rpoContext.JobDocumentFields.Add(JobDocumentField);
                            }
                            else
                            {
                                string pdffield = rpoContext.DocumentFields.Where(x => x.IdField == item.IdField).Select(x => x.PdfFields).FirstOrDefault();
                                pdfFields.Add(pdffield);
                                updateJobDocumentField.Value = zoneDistrict;
                                updateJobDocumentField.ActualValue = zoneDistrict;
                                rpoContext.Entry(updateJobDocumentField).State = EntityState.Modified;
                                FieldsValue.Add(new IdItemName
                                {
                                    Id = pdffield,
                                    ItemName = updateJobDocumentField.ActualValue
                                });
                                rpoContext.SaveChanges();
                            }
                        }
                        else if (item.Field.FieldName == "txtZoning_Overlay")
                        {
                            if (updateJobDocumentField == null)
                            {
                                JobDocumentField JobDocumentField = new JobDocumentField
                                {
                                    IdJobDocument = idJobDocument,
                                    IdDocumentField = Convert.ToInt32(item.Id),
                                    Value = job != null && job.RfpAddress != null ? job.RfpAddress.Overlay : string.Empty,
                                    ActualValue = job != null && job.RfpAddress != null ? job.RfpAddress.Overlay : string.Empty
                                };
                                rpoContext.JobDocumentFields.Add(JobDocumentField);
                            }
                            else
                            {
                                string pdffield = rpoContext.DocumentFields.Where(x => x.IdField == item.IdField).Select(x => x.PdfFields).FirstOrDefault();
                                pdfFields.Add(pdffield);
                                updateJobDocumentField.Value = job != null && job.RfpAddress != null ? job.RfpAddress.Overlay : string.Empty;
                                updateJobDocumentField.ActualValue = job != null && job.RfpAddress != null ? job.RfpAddress.Overlay : string.Empty;
                                rpoContext.Entry(updateJobDocumentField).State = EntityState.Modified;
                                FieldsValue.Add(new IdItemName
                                {
                                    Id = pdffield,
                                    ItemName = updateJobDocumentField.ActualValue
                                });
                                rpoContext.SaveChanges();
                            }
                        }

                        else if (item.Field.FieldName == "txtZoning_SpecialDistrict")
                        {
                            string zonespecialDistrict = job != null && job.RfpAddress != null ? job.RfpAddress.SpecialDistrict : string.Empty;

                            if (updateJobDocumentField == null)
                            {
                                JobDocumentField JobDocumentField = new JobDocumentField
                                {
                                    IdJobDocument = idJobDocument,
                                    IdDocumentField = Convert.ToInt32(item.Id),
                                    Value = zonespecialDistrict,
                                    ActualValue = zonespecialDistrict
                                };
                                rpoContext.JobDocumentFields.Add(JobDocumentField);
                            }
                            else
                            {
                                string pdffield = rpoContext.DocumentFields.Where(x => x.IdField == item.IdField).Select(x => x.PdfFields).FirstOrDefault();
                                pdfFields.Add(pdffield);
                                updateJobDocumentField.Value = zonespecialDistrict;
                                updateJobDocumentField.ActualValue = zonespecialDistrict;
                                rpoContext.Entry(updateJobDocumentField).State = EntityState.Modified;
                                FieldsValue.Add(new IdItemName
                                {
                                    Id = pdffield,
                                    ItemName = updateJobDocumentField.ActualValue
                                });
                                rpoContext.SaveChanges();
                            }
                        }


                        else if (item.Field.FieldName == "txtMap_No")
                        {
                            string map = job != null && job.RfpAddress != null ? job.RfpAddress.Map : string.Empty;

                            if (updateJobDocumentField == null)
                            {
                                JobDocumentField JobDocumentField = new JobDocumentField
                                {
                                    IdJobDocument = idJobDocument,
                                    IdDocumentField = Convert.ToInt32(item.Id),
                                    Value = map,
                                    ActualValue = map
                                };
                                rpoContext.JobDocumentFields.Add(JobDocumentField);
                            }
                            else
                            {
                                string pdffield = rpoContext.DocumentFields.Where(x => x.IdField == item.IdField).Select(x => x.PdfFields).FirstOrDefault();
                                pdfFields.Add(pdffield);
                                updateJobDocumentField.Value = map;
                                updateJobDocumentField.ActualValue = map;
                                rpoContext.Entry(updateJobDocumentField).State = EntityState.Modified;
                                FieldsValue.Add(new IdItemName
                                {
                                    Id = pdffield,
                                    ItemName = updateJobDocumentField.ActualValue
                                });
                                rpoContext.SaveChanges();
                            }
                        }


                        else if (item.Field.FieldName == "txtSt_Leg_Wth")
                        {
                            string StreetLegalWidth = job != null && job.RfpAddress != null ? Convert.ToString(job.RfpAddress.StreetLegalWidth) : string.Empty;
                            if (updateJobDocumentField == null)
                            {
                                JobDocumentField JobDocumentField = new JobDocumentField
                                {
                                    IdJobDocument = idJobDocument,
                                    IdDocumentField = Convert.ToInt32(item.Id),
                                    Value = StreetLegalWidth,
                                    ActualValue = StreetLegalWidth
                                };
                                rpoContext.JobDocumentFields.Add(JobDocumentField);
                            }
                            else
                            {
                                string pdffield = rpoContext.DocumentFields.Where(x => x.IdField == item.IdField).Select(x => x.PdfFields).FirstOrDefault();
                                pdfFields.Add(pdffield);
                                updateJobDocumentField.Value = StreetLegalWidth;
                                updateJobDocumentField.ActualValue = StreetLegalWidth;
                                rpoContext.Entry(updateJobDocumentField).State = EntityState.Modified;
                                FieldsValue.Add(new IdItemName
                                {
                                    Id = pdffield,
                                    ItemName = updateJobDocumentField.ActualValue
                                });
                                rpoContext.SaveChanges();
                            }
                        }


                        else if (item.Field.FieldName == "txtOwner_Name")
                        {
                            string val = job != null && job.RfpAddress != null && job.RfpAddress.OwnerContact != null ? job.RfpAddress.OwnerContact.FirstName + " " + job.RfpAddress.OwnerContact.LastName : string.Empty;
                            if (docuementType == "Post Approval Amendment")
                            {
                                val = string.Empty;
                            }

                            if (updateJobDocumentField == null)
                            {
                                JobDocumentField JobDocumentField = new JobDocumentField
                                {
                                    IdJobDocument = idJobDocument,
                                    IdDocumentField = Convert.ToInt32(item.Id),
                                    Value = val,
                                    ActualValue = val
                                };
                                rpoContext.JobDocumentFields.Add(JobDocumentField);
                            }
                            else
                            {
                                string pdffield = rpoContext.DocumentFields.Where(x => x.IdField == item.IdField).Select(x => x.PdfFields).FirstOrDefault();
                                pdfFields.Add(pdffield);
                                updateJobDocumentField.Value = val;
                                updateJobDocumentField.ActualValue = val;
                                rpoContext.Entry(updateJobDocumentField).State = EntityState.Modified;
                                FieldsValue.Add(new IdItemName
                                {
                                    Id = pdffield,
                                    ItemName = updateJobDocumentField.ActualValue
                                });
                                rpoContext.SaveChanges();
                            }
                        }
                        else if (item.Field.FieldName == "txtOwner_Relationship")
                        {
                            string val = job != null && job.RfpAddress != null && job.RfpAddress.OwnerContact != null && job.RfpAddress.OwnerContact.ContactTitle != null ? job.RfpAddress.OwnerContact.ContactTitle.Name : string.Empty;
                            if (docuementType == "Post Approval Amendment")
                            {
                                val = string.Empty;
                            }
                            if (updateJobDocumentField == null)
                            {
                                JobDocumentField JobDocumentField = new JobDocumentField
                                {
                                    IdJobDocument = idJobDocument,
                                    IdDocumentField = Convert.ToInt32(item.Id),
                                    Value = val,
                                    ActualValue = val
                                };
                                rpoContext.JobDocumentFields.Add(JobDocumentField);
                            }
                            else
                            {
                                string pdffield = rpoContext.DocumentFields.Where(x => x.IdField == item.IdField).Select(x => x.PdfFields).FirstOrDefault();
                                pdfFields.Add(pdffield);
                                updateJobDocumentField.Value = val;
                                updateJobDocumentField.ActualValue = val;
                                rpoContext.Entry(updateJobDocumentField).State = EntityState.Modified;
                                FieldsValue.Add(new IdItemName
                                {
                                    Id = pdffield,
                                    ItemName = updateJobDocumentField.ActualValue
                                });
                                rpoContext.SaveChanges();
                            }
                        }
                        else if (item.Field.FieldName == "txtOwner_Company")
                        {
                            Contact owner = job != null && job.RfpAddress != null && job.RfpAddress.OwnerContact != null ? job.RfpAddress.OwnerContact : null;
                            string val = owner != null && owner.Company != null ? owner.Company.Name : string.Empty;
                            if (docuementType == "Post Approval Amendment")
                            {
                                val = string.Empty;
                            }

                            if (updateJobDocumentField == null)
                            {
                                JobDocumentField JobDocumentField = new JobDocumentField
                                {
                                    IdJobDocument = idJobDocument,
                                    IdDocumentField = Convert.ToInt32(item.Id),
                                    Value = val,
                                    ActualValue = val
                                };
                                rpoContext.JobDocumentFields.Add(JobDocumentField);
                            }
                            else
                            {
                                string pdffield = rpoContext.DocumentFields.Where(x => x.IdField == item.IdField).Select(x => x.PdfFields).FirstOrDefault();
                                pdfFields.Add(pdffield);
                                updateJobDocumentField.Value = val;
                                updateJobDocumentField.ActualValue = val;
                                rpoContext.Entry(updateJobDocumentField).State = EntityState.Modified;
                                FieldsValue.Add(new IdItemName
                                {
                                    Id = pdffield,
                                    ItemName = updateJobDocumentField.ActualValue
                                });
                                rpoContext.SaveChanges();
                            }
                        }
                        else if (item.Field.FieldName == "txtOwner_Address")
                        {
                            Address ownerAddress = new Address();
                            ownerAddress = job != null && job.RfpAddress != null && job.RfpAddress.OwnerContact != null && job.RfpAddress.OwnerContact.Addresses != null ? job.RfpAddress.OwnerContact.Addresses.FirstOrDefault(x => x.IsMainAddress == true) : null;
                            if (job != null && job.RfpAddress != null && job.RfpAddress.OwnerContact != null && job.RfpAddress.OwnerContact != null && job.RfpAddress.OwnerContact.IsPrimaryCompanyAddress == true)
                            {
                                int? company_id = job != null && job.RfpAddress != null && job.RfpAddress.OwnerContact != null && job.RfpAddress.OwnerContact != null && job.RfpAddress.OwnerContact != null ? job.RfpAddress.OwnerContact.IdCompany : 0;
                                ownerAddress = job != null && job.RfpAddress != null && job.RfpAddress.OwnerContact != null && job.RfpAddress.OwnerContact.Addresses != null && job.RfpAddress.OwnerContact.Company != null ? job.RfpAddress.OwnerContact.Company.Addresses.FirstOrDefault(x => x.IdCompany == company_id) : null;
                            }
                            string val = ownerAddress != null ? ownerAddress.Address1 + " " + ownerAddress.Address2 : string.Empty;
                            if (docuementType == "Post Approval Amendment")
                            {
                                val = string.Empty;
                            }
                            if (updateJobDocumentField == null)
                            {
                                JobDocumentField JobDocumentField = new JobDocumentField
                                {
                                    IdJobDocument = idJobDocument,
                                    IdDocumentField = Convert.ToInt32(item.Id),
                                    Value = val,
                                    ActualValue = val
                                };
                                rpoContext.JobDocumentFields.Add(JobDocumentField);
                            }
                            else
                            {
                                string pdffield = rpoContext.DocumentFields.Where(x => x.IdField == item.IdField).Select(x => x.PdfFields).FirstOrDefault();
                                pdfFields.Add(pdffield);
                                updateJobDocumentField.Value = val;
                                updateJobDocumentField.ActualValue = val;
                                rpoContext.Entry(updateJobDocumentField).State = EntityState.Modified;
                                FieldsValue.Add(new IdItemName
                                {
                                    Id = pdffield,
                                    ItemName = updateJobDocumentField.ActualValue
                                });
                                rpoContext.SaveChanges();
                            }
                        }
                        else if (item.Field.FieldName == "txtOwner_City")
                        {
                            Address ownerAddress = new Address();
                            ownerAddress = job != null && job.RfpAddress != null && job.RfpAddress.OwnerContact != null && job.RfpAddress.OwnerContact.Addresses != null ? job.RfpAddress.OwnerContact.Addresses.FirstOrDefault(x => x.IsMainAddress == true) : null;
                            if (job != null && job.RfpAddress != null && job.RfpAddress.OwnerContact != null && job.RfpAddress.OwnerContact != null && job.RfpAddress.OwnerContact.IsPrimaryCompanyAddress == true)
                            {
                                int? company_id = job != null && job.RfpAddress != null && job.RfpAddress.OwnerContact != null && job.RfpAddress.OwnerContact != null && job.RfpAddress.OwnerContact != null ? job.RfpAddress.OwnerContact.IdCompany : 0;
                                ownerAddress = job != null && job.RfpAddress != null && job.RfpAddress.OwnerContact != null && job.RfpAddress.OwnerContact.Addresses != null && job.RfpAddress.OwnerContact.Company != null ? job.RfpAddress.OwnerContact.Company.Addresses.FirstOrDefault(x => x.IdCompany == company_id) : null;
                            }
                            string val = ownerAddress != null ? ownerAddress.City : string.Empty;
                            if (docuementType == "Post Approval Amendment")
                            {
                                val = string.Empty;
                            }
                            if (updateJobDocumentField == null)
                            {
                                JobDocumentField JobDocumentField = new JobDocumentField
                                {
                                    IdJobDocument = idJobDocument,
                                    IdDocumentField = Convert.ToInt32(item.Id),
                                    Value = val,
                                    ActualValue = val
                                };
                                rpoContext.JobDocumentFields.Add(JobDocumentField);
                            }
                            else
                            {
                                string pdffield = rpoContext.DocumentFields.Where(x => x.IdField == item.IdField).Select(x => x.PdfFields).FirstOrDefault();
                                pdfFields.Add(pdffield);
                                updateJobDocumentField.Value = val;
                                updateJobDocumentField.ActualValue = val;
                                rpoContext.Entry(updateJobDocumentField).State = EntityState.Modified;
                                FieldsValue.Add(new IdItemName
                                {
                                    Id = pdffield,
                                    ItemName = updateJobDocumentField.ActualValue
                                });
                                rpoContext.SaveChanges();
                            }
                        }
                        else if (item.Field.FieldName == "txtOwner_State")
                        {
                            Address ownerAddress = new Address();
                            ownerAddress = job != null && job.RfpAddress != null && job.RfpAddress.OwnerContact != null && job.RfpAddress.OwnerContact.Addresses != null ? job.RfpAddress.OwnerContact.Addresses.FirstOrDefault(x => x.IsMainAddress == true) : null;
                            if (job != null && job.RfpAddress != null && job.RfpAddress.OwnerContact != null && job.RfpAddress.OwnerContact != null && job.RfpAddress.OwnerContact.IsPrimaryCompanyAddress == true)
                            {
                                int? company_id = job != null && job.RfpAddress != null && job.RfpAddress.OwnerContact != null && job.RfpAddress.OwnerContact != null && job.RfpAddress.OwnerContact != null ? job.RfpAddress.OwnerContact.IdCompany : 0;
                                ownerAddress = job != null && job.RfpAddress != null && job.RfpAddress.OwnerContact != null && job.RfpAddress.OwnerContact.Addresses != null && job.RfpAddress.OwnerContact.Company != null ? job.RfpAddress.OwnerContact.Company.Addresses.FirstOrDefault(x => x.IdCompany == company_id) : null;
                            }

                            string val = ownerAddress != null && ownerAddress.State != null ? ownerAddress.State.Acronym : string.Empty;
                            if (docuementType == "Post Approval Amendment")
                            {
                                val = string.Empty;
                            }
                            if (updateJobDocumentField == null)
                            {
                                JobDocumentField JobDocumentField = new JobDocumentField
                                {
                                    IdJobDocument = idJobDocument,
                                    IdDocumentField = Convert.ToInt32(item.Id),
                                    Value = val,
                                    ActualValue = val
                                };
                                rpoContext.JobDocumentFields.Add(JobDocumentField);
                            }
                            else
                            {
                                string pdffield = rpoContext.DocumentFields.Where(x => x.IdField == item.IdField).Select(x => x.PdfFields).FirstOrDefault();
                                pdfFields.Add(pdffield);
                                updateJobDocumentField.Value = val;
                                updateJobDocumentField.ActualValue = val;
                                rpoContext.Entry(updateJobDocumentField).State = EntityState.Modified;
                                FieldsValue.Add(new IdItemName
                                {
                                    Id = pdffield,
                                    ItemName = updateJobDocumentField.ActualValue
                                });
                                rpoContext.SaveChanges();
                            }
                        }
                        else if (item.Field.FieldName == "txtOwner_Zip")
                        {
                            Address ownerAddress = new Address();
                            ownerAddress = job != null && job.RfpAddress != null && job.RfpAddress.OwnerContact != null && job.RfpAddress.OwnerContact.Addresses != null ? job.RfpAddress.OwnerContact.Addresses.FirstOrDefault(x => x.IsMainAddress == true) : null;
                            if (job != null && job.RfpAddress != null && job.RfpAddress.OwnerContact != null && job.RfpAddress.OwnerContact != null && job.RfpAddress.OwnerContact.IsPrimaryCompanyAddress == true)
                            {
                                int? company_id = job != null && job.RfpAddress != null && job.RfpAddress.OwnerContact != null && job.RfpAddress.OwnerContact != null && job.RfpAddress.OwnerContact != null ? job.RfpAddress.OwnerContact.IdCompany : 0;
                                ownerAddress = job != null && job.RfpAddress != null && job.RfpAddress.OwnerContact != null && job.RfpAddress.OwnerContact.Addresses != null && job.RfpAddress.OwnerContact.Company != null ? job.RfpAddress.OwnerContact.Company.Addresses.FirstOrDefault(x => x.IdCompany == company_id) : null;
                            }

                            string val = ownerAddress != null ? ownerAddress.ZipCode : string.Empty;
                            if (docuementType == "Post Approval Amendment")
                            {
                                val = string.Empty;
                            }
                            if (updateJobDocumentField == null)
                            {
                                JobDocumentField JobDocumentField = new JobDocumentField
                                {
                                    IdJobDocument = idJobDocument,
                                    IdDocumentField = Convert.ToInt32(item.Id),
                                    Value = val,
                                    ActualValue = val
                                };
                                rpoContext.JobDocumentFields.Add(JobDocumentField);
                            }
                            else
                            {
                                string pdffield = rpoContext.DocumentFields.Where(x => x.IdField == item.IdField).Select(x => x.PdfFields).FirstOrDefault();
                                pdfFields.Add(pdffield);
                                updateJobDocumentField.Value = val;
                                updateJobDocumentField.ActualValue = val;
                                rpoContext.Entry(updateJobDocumentField).State = EntityState.Modified;
                                FieldsValue.Add(new IdItemName
                                {
                                    Id = pdffield,
                                    ItemName = updateJobDocumentField.ActualValue
                                });
                                rpoContext.SaveChanges();
                            }
                        }
                        else if (item.Field.FieldName == "txtOwner_Phone")
                        {
                            string ownerPhone = job != null && job.RfpAddress != null && job.RfpAddress.OwnerContact != null ? job.RfpAddress.OwnerContact.WorkPhone : string.Empty;
                            if (ownerPhone == null || ownerPhone == "")
                            {
                                ownerPhone = job != null && job.RfpAddress != null && job.RfpAddress.OwnerContact != null ? job.RfpAddress.OwnerContact.MobilePhone : string.Empty;
                            }
                            if (docuementType == "Post Approval Amendment")
                            {
                                ownerPhone = string.Empty;
                            }
                            if (updateJobDocumentField == null)
                            {
                                JobDocumentField JobDocumentField = new JobDocumentField
                                {
                                    IdJobDocument = idJobDocument,
                                    IdDocumentField = Convert.ToInt32(item.Id),
                                    Value = ownerPhone,
                                    ActualValue = ownerPhone
                                };
                                rpoContext.JobDocumentFields.Add(JobDocumentField);
                            }
                            else
                            {
                                string pdffield = rpoContext.DocumentFields.Where(x => x.IdField == item.IdField).Select(x => x.PdfFields).FirstOrDefault();
                                pdfFields.Add(pdffield);
                                updateJobDocumentField.Value = ownerPhone;
                                updateJobDocumentField.ActualValue = ownerPhone;
                                rpoContext.Entry(updateJobDocumentField).State = EntityState.Modified;
                                FieldsValue.Add(new IdItemName
                                {
                                    Id = pdffield,
                                    ItemName = updateJobDocumentField.ActualValue
                                });
                                rpoContext.SaveChanges();
                            }
                        }
                        else if (item.Field.FieldName == "txtOwner_EMail")
                        {
                            string val = job != null && job.RfpAddress != null && job.RfpAddress.OwnerContact != null ? job.RfpAddress.OwnerContact.Email : string.Empty;
                            if (docuementType == "Post Approval Amendment")
                            {
                                val = string.Empty;
                            }

                            if (updateJobDocumentField == null)
                            {
                                JobDocumentField JobDocumentField = new JobDocumentField
                                {
                                    IdJobDocument = idJobDocument,
                                    IdDocumentField = Convert.ToInt32(item.Id),
                                    Value = val,
                                    ActualValue = val
                                };
                                rpoContext.JobDocumentFields.Add(JobDocumentField);
                            }
                            else
                            {
                                string pdffield = rpoContext.DocumentFields.Where(x => x.IdField == item.IdField).Select(x => x.PdfFields).FirstOrDefault();
                                pdfFields.Add(pdffield);
                                updateJobDocumentField.Value = val;
                                updateJobDocumentField.ActualValue = val;
                                rpoContext.Entry(updateJobDocumentField).State = EntityState.Modified;
                                FieldsValue.Add(new IdItemName
                                {
                                    Id = pdffield,
                                    ItemName = updateJobDocumentField.ActualValue
                                });
                                rpoContext.SaveChanges();
                            }
                        }

                        else if (item.Field.FieldName == "txtSO_Name")
                        {
                            // string val = job != null && job.RfpAddress != null ? Convert.ToString(job.RfpAddress.StreetLegalWidth) : string.Empty;

                            string val = string.Empty;
                            string ownertype = job != null && job.RfpAddress != null && job.RfpAddress.OwnerType != null && !string.IsNullOrEmpty(job.RfpAddress.OwnerType.Name) ? job.RfpAddress.OwnerType.Name : string.Empty;
                            if (ownertype.ToLower() == "Condo/Co-Op".ToLower() || ownertype.ToLower() == "CORPORATION".ToLower())
                            {
                                val = job != null && job.RfpAddress != null && job.RfpAddress.SecondOfficer != null ? job.RfpAddress.SecondOfficer.FirstName + " " + job.RfpAddress.SecondOfficer.LastName : string.Empty;
                                if (docuementType == "Post Approval Amendment")
                                {
                                    val = string.Empty;
                                }
                            }
                            if (updateJobDocumentField == null)
                            {
                                JobDocumentField JobDocumentField = new JobDocumentField
                                {
                                    IdJobDocument = idJobDocument,
                                    IdDocumentField = Convert.ToInt32(item.Id),
                                    Value = val,
                                    ActualValue = val
                                };
                                rpoContext.JobDocumentFields.Add(JobDocumentField);
                            }
                            else
                            {
                                string pdffield = rpoContext.DocumentFields.Where(x => x.IdField == item.IdField).Select(x => x.PdfFields).FirstOrDefault();
                                pdfFields.Add(pdffield);
                                updateJobDocumentField.Value = val;
                                updateJobDocumentField.ActualValue = val;
                                rpoContext.Entry(updateJobDocumentField).State = EntityState.Modified;
                                FieldsValue.Add(new IdItemName
                                {
                                    Id = pdffield,
                                    ItemName = updateJobDocumentField.ActualValue
                                });
                                rpoContext.SaveChanges();
                            }
                        }
                        else if (item.Field.FieldName == "txtSO_Title")
                        {
                            string val = string.Empty;
                            string ownertype = job != null && job.RfpAddress != null && job.RfpAddress.OwnerType != null && !string.IsNullOrEmpty(job.RfpAddress.OwnerType.Name) ? job.RfpAddress.OwnerType.Name : string.Empty;
                            if (ownertype.ToLower() == "Condo/Co-Op".ToLower() || ownertype.ToLower() == "Corporation".ToLower())
                            {
                                val = job != null && job.RfpAddress != null && job.RfpAddress.SecondOfficer != null && job.RfpAddress.SecondOfficer.ContactTitle != null ? job.RfpAddress.SecondOfficer.ContactTitle.Name : string.Empty;
                                if (docuementType == "Post Approval Amendment")
                                {
                                    val = string.Empty;
                                }
                            }
                            if (updateJobDocumentField == null)
                            {
                                JobDocumentField JobDocumentField = new JobDocumentField
                                {
                                    IdJobDocument = idJobDocument,
                                    IdDocumentField = Convert.ToInt32(item.Id),
                                    Value = val,
                                    ActualValue = val
                                };
                                rpoContext.JobDocumentFields.Add(JobDocumentField);
                            }
                            else
                            {
                                string pdffield = rpoContext.DocumentFields.Where(x => x.IdField == item.IdField).Select(x => x.PdfFields).FirstOrDefault();
                                pdfFields.Add(pdffield);
                                updateJobDocumentField.Value = val;
                                updateJobDocumentField.ActualValue = val;
                                rpoContext.Entry(updateJobDocumentField).State = EntityState.Modified;
                                FieldsValue.Add(new IdItemName
                                {
                                    Id = pdffield,
                                    ItemName = updateJobDocumentField.ActualValue
                                });
                                rpoContext.SaveChanges();
                            }
                        }
                        else if (item.Field.FieldName == "txtSO_Address")
                        {


                            string val = string.Empty;
                            string ownertype = job != null && job.RfpAddress != null && job.RfpAddress.OwnerType != null && !string.IsNullOrEmpty(job.RfpAddress.OwnerType.Name) ? job.RfpAddress.OwnerType.Name : string.Empty;
                            if (ownertype.ToLower() == "Condo/Co-Op".ToLower() || ownertype.ToLower() == "Corporation".ToLower())
                            {
                                Contact contact = job != null && job.RfpAddress.SecondOfficer != null ? job.RfpAddress.SecondOfficer : null;
                                Address contactAddress = contact != null && contact != null && contact.Addresses != null ? contact.Addresses.Where(x => x.IsMainAddress == true).FirstOrDefault() : null;

                                val = contactAddress != null ? contactAddress.Address1 + " " + contactAddress.Address2 : string.Empty;
                                if (docuementType == "Post Approval Amendment")
                                {
                                    val = string.Empty;
                                }

                            }

                            if (updateJobDocumentField == null)
                            {
                                JobDocumentField JobDocumentField = new JobDocumentField
                                {
                                    IdJobDocument = idJobDocument,
                                    IdDocumentField = Convert.ToInt32(item.Id),
                                    Value = val,
                                    ActualValue = val
                                };
                                rpoContext.JobDocumentFields.Add(JobDocumentField);
                            }
                            else
                            {
                                string pdffield = rpoContext.DocumentFields.Where(x => x.IdField == item.IdField).Select(x => x.PdfFields).FirstOrDefault();
                                pdfFields.Add(pdffield);
                                updateJobDocumentField.Value = val;
                                updateJobDocumentField.ActualValue = val;
                                rpoContext.Entry(updateJobDocumentField).State = EntityState.Modified;
                                FieldsValue.Add(new IdItemName
                                {
                                    Id = pdffield,
                                    ItemName = updateJobDocumentField.ActualValue
                                });
                                rpoContext.SaveChanges();
                            }
                        }
                        else if (item.Field.FieldName == "txtSO_City")
                        {

                            string val = string.Empty;
                            string ownertype = job != null && job.RfpAddress != null && job.RfpAddress.OwnerType != null && !string.IsNullOrEmpty(job.RfpAddress.OwnerType.Name) ? job.RfpAddress.OwnerType.Name : string.Empty;
                            if (ownertype.ToLower() == "Condo/Co-Op".ToLower() || ownertype.ToLower() == "Corporation".ToLower())
                            {
                                Contact contact = job != null && job.RfpAddress.SecondOfficer != null ? job.RfpAddress.SecondOfficer : null;
                                Address contactAddress = contact != null && contact != null && contact.Addresses != null ? contact.Addresses.Where(x => x.IsMainAddress == true).FirstOrDefault() : null;

                                val = contactAddress != null ? contactAddress.City : string.Empty;
                                if (docuementType == "Post Approval Amendment")
                                {
                                    val = string.Empty;
                                }

                            }

                            if (updateJobDocumentField == null)
                            {
                                JobDocumentField JobDocumentField = new JobDocumentField
                                {
                                    IdJobDocument = idJobDocument,
                                    IdDocumentField = Convert.ToInt32(item.Id),
                                    Value = val,
                                    ActualValue = val
                                };
                                rpoContext.JobDocumentFields.Add(JobDocumentField);
                            }
                            else
                            {
                                string pdffield = rpoContext.DocumentFields.Where(x => x.IdField == item.IdField).Select(x => x.PdfFields).FirstOrDefault();
                                pdfFields.Add(pdffield);
                                updateJobDocumentField.Value = val;
                                updateJobDocumentField.ActualValue = val;
                                rpoContext.Entry(updateJobDocumentField).State = EntityState.Modified;
                                FieldsValue.Add(new IdItemName
                                {
                                    Id = pdffield,
                                    ItemName = updateJobDocumentField.ActualValue
                                });
                                rpoContext.SaveChanges();
                            }
                        }
                        else if (item.Field.FieldName == "txtSO_State")
                        {

                            string val = string.Empty;
                            string ownertype = job != null && job.RfpAddress != null && job.RfpAddress.OwnerType != null && !string.IsNullOrEmpty(job.RfpAddress.OwnerType.Name) ? job.RfpAddress.OwnerType.Name : string.Empty;
                            if (ownertype.ToLower() == "Condo/Co-Op".ToLower() || ownertype.ToLower() == "Corporation".ToLower())
                            {
                                Contact contact = job != null && job.RfpAddress.SecondOfficer != null ? job.RfpAddress.SecondOfficer : null;
                                Address contactAddress = contact != null && contact != null && contact.Addresses != null ? contact.Addresses.Where(x => x.IsMainAddress == true).FirstOrDefault() : null;

                                val = contactAddress != null && contactAddress.State != null ? contactAddress.State.Acronym : string.Empty;
                                if (docuementType == "Post Approval Amendment")
                                {
                                    val = string.Empty;
                                }
                            }
                            if (updateJobDocumentField == null)
                            {
                                JobDocumentField JobDocumentField = new JobDocumentField
                                {
                                    IdJobDocument = idJobDocument,
                                    IdDocumentField = Convert.ToInt32(item.Id),
                                    Value = val,
                                    ActualValue = val
                                };
                                rpoContext.JobDocumentFields.Add(JobDocumentField);
                            }
                            else
                            {
                                string pdffield = rpoContext.DocumentFields.Where(x => x.IdField == item.IdField).Select(x => x.PdfFields).FirstOrDefault();
                                pdfFields.Add(pdffield);
                                updateJobDocumentField.Value = val;
                                updateJobDocumentField.ActualValue = val;
                                rpoContext.Entry(updateJobDocumentField).State = EntityState.Modified;
                                FieldsValue.Add(new IdItemName
                                {
                                    Id = pdffield,
                                    ItemName = updateJobDocumentField.ActualValue
                                });
                                rpoContext.SaveChanges();
                            }
                        }
                        else if (item.Field.FieldName == "txtSO_Zip")
                        {
                            string val = string.Empty;
                            string ownertype = job != null && job.RfpAddress != null && job.RfpAddress.OwnerType != null && !string.IsNullOrEmpty(job.RfpAddress.OwnerType.Name) ? job.RfpAddress.OwnerType.Name : string.Empty;
                            if (ownertype.ToLower() == "Condo/Co-Op".ToLower() || ownertype.ToLower() == "Corporation".ToLower())
                            {
                                Contact contact = job != null && job.RfpAddress.SecondOfficer != null ? job.RfpAddress.SecondOfficer : null;
                                Address contactAddress = contact != null && contact != null && contact.Addresses != null ? contact.Addresses.Where(x => x.IsMainAddress == true).FirstOrDefault() : null;

                                val = contactAddress != null ? contactAddress.ZipCode : string.Empty;
                                if (docuementType == "Post Approval Amendment")
                                {
                                    val = string.Empty;
                                }

                            }
                            if (updateJobDocumentField == null)
                            {
                                JobDocumentField JobDocumentField = new JobDocumentField
                                {
                                    IdJobDocument = idJobDocument,
                                    IdDocumentField = Convert.ToInt32(item.Id),
                                    Value = val,
                                    ActualValue = val
                                };
                                rpoContext.JobDocumentFields.Add(JobDocumentField);
                            }
                            else
                            {
                                string pdffield = rpoContext.DocumentFields.Where(x => x.IdField == item.IdField).Select(x => x.PdfFields).FirstOrDefault();
                                pdfFields.Add(pdffield);
                                updateJobDocumentField.Value = val;
                                updateJobDocumentField.ActualValue = val;
                                rpoContext.Entry(updateJobDocumentField).State = EntityState.Modified;
                                FieldsValue.Add(new IdItemName
                                {
                                    Id = pdffield,
                                    ItemName = updateJobDocumentField.ActualValue
                                });
                                rpoContext.SaveChanges();
                            }
                        }
                        else if (item.Field.FieldName == "txtSO_Phone")
                        {
                            string val = string.Empty;
                            string ownertype = job != null && job.RfpAddress != null && job.RfpAddress.OwnerType != null && !string.IsNullOrEmpty(job.RfpAddress.OwnerType.Name) ? job.RfpAddress.OwnerType.Name : string.Empty;
                            if (ownertype.ToLower() == "Condo/Co-Op".ToLower() || ownertype.ToLower() == "Corporation".ToLower())
                            {
                                val = job != null && job.RfpAddress != null && job.RfpAddress.SecondOfficer != null ? job.RfpAddress.SecondOfficer.WorkPhone : string.Empty;
                                if (docuementType == "Post Approval Amendment")
                                {
                                    val = string.Empty;
                                }
                            }
                            if (updateJobDocumentField == null)
                            {
                                JobDocumentField JobDocumentField = new JobDocumentField
                                {
                                    IdJobDocument = idJobDocument,
                                    IdDocumentField = Convert.ToInt32(item.Id),
                                    Value = val,
                                    ActualValue = val
                                };
                                rpoContext.JobDocumentFields.Add(JobDocumentField);
                            }
                            else
                            {
                                string pdffield = rpoContext.DocumentFields.Where(x => x.IdField == item.IdField).Select(x => x.PdfFields).FirstOrDefault();
                                pdfFields.Add(pdffield);
                                updateJobDocumentField.Value = val;
                                updateJobDocumentField.ActualValue = val;
                                rpoContext.Entry(updateJobDocumentField).State = EntityState.Modified;
                                FieldsValue.Add(new IdItemName
                                {
                                    Id = pdffield,
                                    ItemName = updateJobDocumentField.ActualValue
                                });
                                rpoContext.SaveChanges();
                            }
                        }
                        else if (item.Field.FieldName == "txtSO_EMail")
                        {
                            string val = string.Empty;
                            string ownertype = job != null && job.RfpAddress != null && job.RfpAddress.OwnerType != null && !string.IsNullOrEmpty(job.RfpAddress.OwnerType.Name) ? job.RfpAddress.OwnerType.Name : string.Empty;
                            if (ownertype.ToLower() == "Condo/Co-Op".ToLower() || ownertype.ToLower() == "Corporation".ToLower())
                            {
                                val = job != null && job.RfpAddress != null && job.RfpAddress.SecondOfficer != null ? job.RfpAddress.SecondOfficer.Email : string.Empty;
                                if (docuementType == "Post Approval Amendment")
                                {
                                    val = string.Empty;
                                }
                            }

                            if (updateJobDocumentField == null)
                            {
                                JobDocumentField JobDocumentField = new JobDocumentField
                                {
                                    IdJobDocument = idJobDocument,
                                    IdDocumentField = Convert.ToInt32(item.Id),
                                    Value = val,
                                    ActualValue = val
                                };
                                rpoContext.JobDocumentFields.Add(JobDocumentField);
                            }
                            else
                            {
                                string pdffield = rpoContext.DocumentFields.Where(x => x.IdField == item.IdField).Select(x => x.PdfFields).FirstOrDefault();
                                pdfFields.Add(pdffield);
                                updateJobDocumentField.Value = val;
                                updateJobDocumentField.ActualValue = val;
                                rpoContext.Entry(updateJobDocumentField).State = EntityState.Modified;
                                FieldsValue.Add(new IdItemName
                                {
                                    Id = pdffield,
                                    ItemName = updateJobDocumentField.ActualValue
                                });
                                rpoContext.SaveChanges();
                            }
                        }

                        else if (item.Field.FieldName == "chk26I")
                        {
                            string val = string.Empty;
                            string ownertype = job != null && job.RfpAddress != null && job.RfpAddress.OwnerType != null && !string.IsNullOrEmpty(job.RfpAddress.OwnerType.Name) ? job.RfpAddress.OwnerType.Name : string.Empty;
                            if (ownertype.ToUpper() == "INDIVIDUAL")
                            {
                                val = "1";
                            }
                            if (ownertype.ToUpper() == "PARTNERSHIP")
                            {
                                val = "2";
                            }
                            if (ownertype.ToUpper() == "CORPORATION")
                            {
                                val = "3";
                            }
                            if (ownertype.ToLower() == "Condo/Co-Op".ToLower())
                            {
                                val = "5";
                                if (docuementType == "Post Approval Amendment")
                                {
                                    val = string.Empty;
                                }
                            }

                            if (updateJobDocumentField == null)
                            {
                                JobDocumentField JobDocumentField = new JobDocumentField
                                {
                                    IdJobDocument = idJobDocument,
                                    IdDocumentField = Convert.ToInt32(item.Id),
                                    Value = val,
                                    ActualValue = val
                                };
                                rpoContext.JobDocumentFields.Add(JobDocumentField);
                            }
                            else
                            {
                                string pdffield = rpoContext.DocumentFields.Where(x => x.IdField == item.IdField).Select(x => x.PdfFields).FirstOrDefault();
                                pdfFields.Add(pdffield);
                                updateJobDocumentField.Value = val;
                                updateJobDocumentField.ActualValue = val;
                                rpoContext.Entry(updateJobDocumentField).State = EntityState.Modified;
                                FieldsValue.Add(new IdItemName
                                {
                                    Id = pdffield,
                                    ItemName = updateJobDocumentField.ActualValue
                                });
                                rpoContext.SaveChanges();
                            }
                        }
                        else if (item.Field.FieldName == "chk26P")
                        {
                            string val = string.Empty;
                            string ownertype = job != null && job.RfpAddress != null && job.RfpAddress.OwnerType != null && !string.IsNullOrEmpty(job.RfpAddress.OwnerType.Name) ? job.RfpAddress.OwnerType.Name : string.Empty;
                            if (ownertype.ToUpper() == "PARTNERSHIP")
                            {
                                val = "2";
                            }

                            if (updateJobDocumentField == null)
                            {
                                JobDocumentField JobDocumentField = new JobDocumentField
                                {
                                    IdJobDocument = idJobDocument,
                                    IdDocumentField = Convert.ToInt32(item.Id),
                                    Value = val,
                                    ActualValue = val
                                };
                                rpoContext.JobDocumentFields.Add(JobDocumentField);
                            }
                            else
                            {
                                string pdffield = rpoContext.DocumentFields.Where(x => x.IdField == item.IdField).Select(x => x.PdfFields).FirstOrDefault();
                                pdfFields.Add(pdffield);
                                updateJobDocumentField.Value = val;
                                updateJobDocumentField.ActualValue = val;
                                rpoContext.Entry(updateJobDocumentField).State = EntityState.Modified;
                                FieldsValue.Add(new IdItemName
                                {
                                    Id = pdffield,
                                    ItemName = updateJobDocumentField.ActualValue
                                });
                                rpoContext.SaveChanges();
                            }
                        }
                        else if (item.Field.FieldName == "chk26C")
                        {
                            string val = string.Empty;
                            string ownertype = job != null && job.RfpAddress != null && job.RfpAddress.OwnerType != null && !string.IsNullOrEmpty(job.RfpAddress.OwnerType.Name) ? job.RfpAddress.OwnerType.Name : string.Empty;
                            if (ownertype == "CORPORATION")
                            {
                                val = "3";
                            }


                            if (updateJobDocumentField == null)
                            {
                                JobDocumentField JobDocumentField = new JobDocumentField
                                {
                                    IdJobDocument = idJobDocument,
                                    IdDocumentField = Convert.ToInt32(item.Id),
                                    Value = val,
                                    ActualValue = val
                                };
                                rpoContext.JobDocumentFields.Add(JobDocumentField);
                            }
                            else
                            {
                                string pdffield = rpoContext.DocumentFields.Where(x => x.IdField == item.IdField).Select(x => x.PdfFields).FirstOrDefault();
                                pdfFields.Add(pdffield);
                                updateJobDocumentField.Value = val;
                                updateJobDocumentField.ActualValue = val;
                                rpoContext.Entry(updateJobDocumentField).State = EntityState.Modified;
                                FieldsValue.Add(new IdItemName
                                {
                                    Id = pdffield,
                                    ItemName = updateJobDocumentField.ActualValue
                                });
                                rpoContext.SaveChanges();
                            }
                        }
                        else if (item.Field.FieldName == "chk26G")
                        {
                            string val = string.Empty;
                            string ownertype = job != null && job.RfpAddress != null && job.RfpAddress.OwnerType != null && !string.IsNullOrEmpty(job.RfpAddress.OwnerType.Name) ? job.RfpAddress.OwnerType.Name : string.Empty;
                            if (ownertype == "GOV-OTHER")
                            {
                                val = "On";
                            }

                            if (updateJobDocumentField == null)
                            {
                                JobDocumentField JobDocumentField = new JobDocumentField
                                {
                                    IdJobDocument = idJobDocument,
                                    IdDocumentField = Convert.ToInt32(item.Id),
                                    Value = val,
                                    ActualValue = val
                                };
                                rpoContext.JobDocumentFields.Add(JobDocumentField);
                            }
                            else
                            {
                                string pdffield = rpoContext.DocumentFields.Where(x => x.IdField == item.IdField).Select(x => x.PdfFields).FirstOrDefault();
                                pdfFields.Add(pdffield);
                                updateJobDocumentField.Value = val;
                                updateJobDocumentField.ActualValue = val;
                                rpoContext.Entry(updateJobDocumentField).State = EntityState.Modified;
                                FieldsValue.Add(new IdItemName
                                {
                                    Id = pdffield,
                                    ItemName = updateJobDocumentField.ActualValue
                                });
                                rpoContext.SaveChanges();
                            }
                        }
                        else if (item.Field.FieldName == "chk26O")
                        {


                            string val = string.Empty;
                            string ownertype = job != null && job.RfpAddress != null && job.RfpAddress.OwnerType != null && !string.IsNullOrEmpty(job.RfpAddress.OwnerType.Name) ? job.RfpAddress.OwnerType.Name : string.Empty;
                            if (ownertype.ToLower() == "Condo/Co-Op".ToLower())
                            {
                                val = "5";
                                if (docuementType == "Post Approval Amendment")
                                {
                                    val = string.Empty;
                                }


                            }

                            if (updateJobDocumentField == null)
                            {
                                JobDocumentField JobDocumentField = new JobDocumentField
                                {
                                    IdJobDocument = idJobDocument,
                                    IdDocumentField = Convert.ToInt32(item.Id),
                                    Value = val,
                                    ActualValue = val
                                };
                                rpoContext.JobDocumentFields.Add(JobDocumentField);
                            }
                            else
                            {
                                string pdffield = rpoContext.DocumentFields.Where(x => x.IdField == item.IdField).Select(x => x.PdfFields).FirstOrDefault();
                                pdfFields.Add(pdffield);
                                updateJobDocumentField.Value = val;
                                updateJobDocumentField.ActualValue = val;
                                rpoContext.Entry(updateJobDocumentField).State = EntityState.Modified;
                                FieldsValue.Add(new IdItemName
                                {
                                    Id = pdffield,
                                    ItemName = updateJobDocumentField.ActualValue
                                });
                                rpoContext.SaveChanges();
                            }
                        }

                        else if (item.Field.FieldName == "chk26A")
                        {
                            string val = string.Empty;
                            string ownertype = job != null && job.RfpAddress != null && job.RfpAddress.OwnerType != null && !string.IsNullOrEmpty(job.RfpAddress.OwnerType.Name) ? job.RfpAddress.OwnerType.Name : string.Empty;
                            if (ownertype == "DCAS")
                            {
                                val = "On";
                            }

                            if (updateJobDocumentField == null)
                            {
                                JobDocumentField JobDocumentField = new JobDocumentField
                                {
                                    IdJobDocument = idJobDocument,
                                    IdDocumentField = Convert.ToInt32(item.Id),
                                    Value = val,
                                    ActualValue = val
                                };
                                rpoContext.JobDocumentFields.Add(JobDocumentField);
                            }
                            else
                            {
                                string pdffield = rpoContext.DocumentFields.Where(x => x.IdField == item.IdField).Select(x => x.PdfFields).FirstOrDefault();
                                pdfFields.Add(pdffield);
                                updateJobDocumentField.Value = val;
                                updateJobDocumentField.ActualValue = val;
                                rpoContext.Entry(updateJobDocumentField).State = EntityState.Modified;
                                FieldsValue.Add(new IdItemName
                                {
                                    Id = pdffield,
                                    ItemName = updateJobDocumentField.ActualValue
                                });
                                rpoContext.SaveChanges();
                            }
                        }
                        else if (item.Field.FieldName == "chk26H")
                        {
                            string val = string.Empty;
                            string ownertype = job != null && job.RfpAddress != null && job.RfpAddress.OwnerType != null && !string.IsNullOrEmpty(job.RfpAddress.OwnerType.Name) ? job.RfpAddress.OwnerType.Name : string.Empty;
                            if (ownertype == "HHC")
                            {
                                val = "On";
                            }

                            if (updateJobDocumentField == null)
                            {
                                JobDocumentField JobDocumentField = new JobDocumentField
                                {
                                    IdJobDocument = idJobDocument,
                                    IdDocumentField = Convert.ToInt32(item.Id),
                                    Value = val,
                                    ActualValue = val
                                };
                                rpoContext.JobDocumentFields.Add(JobDocumentField);
                            }
                            else
                            {
                                string pdffield = rpoContext.DocumentFields.Where(x => x.IdField == item.IdField).Select(x => x.PdfFields).FirstOrDefault();
                                pdfFields.Add(pdffield);
                                updateJobDocumentField.Value = val;
                                updateJobDocumentField.ActualValue = val;
                                rpoContext.Entry(updateJobDocumentField).State = EntityState.Modified;
                                FieldsValue.Add(new IdItemName
                                {
                                    Id = pdffield,
                                    ItemName = updateJobDocumentField.ActualValue
                                });
                                rpoContext.SaveChanges();
                            }
                        }
                        else if (item.Field.FieldName == "chk26Y")
                        {
                            string val = string.Empty;
                            string ownertype = job != null && job.RfpAddress != null && job.RfpAddress.OwnerType != null && !string.IsNullOrEmpty(job.RfpAddress.OwnerType.Name) ? job.RfpAddress.OwnerType.Name : string.Empty;
                            if (ownertype == "NYCHA")
                            {
                                val = "On";
                            }

                            if (updateJobDocumentField == null)
                            {
                                JobDocumentField JobDocumentField = new JobDocumentField
                                {
                                    IdJobDocument = idJobDocument,
                                    IdDocumentField = Convert.ToInt32(item.Id),
                                    Value = val,
                                    ActualValue = val
                                };
                                rpoContext.JobDocumentFields.Add(JobDocumentField);
                            }
                            else
                            {
                                string pdffield = rpoContext.DocumentFields.Where(x => x.IdField == item.IdField).Select(x => x.PdfFields).FirstOrDefault();
                                pdfFields.Add(pdffield);
                                updateJobDocumentField.Value = val;
                                updateJobDocumentField.ActualValue = val;
                                rpoContext.Entry(updateJobDocumentField).State = EntityState.Modified;
                                FieldsValue.Add(new IdItemName
                                {
                                    Id = pdffield,
                                    ItemName = updateJobDocumentField.ActualValue
                                });
                                rpoContext.SaveChanges();
                            }
                        }
                        else if (item.Field.FieldName == "chk26E")
                        {
                            string val = string.Empty;
                            string ownertype = job != null && job.RfpAddress != null && job.RfpAddress.OwnerType != null && !string.IsNullOrEmpty(job.RfpAddress.OwnerType.Name) ? job.RfpAddress.OwnerType.Name : string.Empty;
                            if (ownertype == "DOE")
                            {
                                val = "On";
                            }

                            if (updateJobDocumentField == null)
                            {
                                JobDocumentField JobDocumentField = new JobDocumentField
                                {
                                    IdJobDocument = idJobDocument,
                                    IdDocumentField = Convert.ToInt32(item.Id),
                                    Value = val,
                                    ActualValue = val
                                };
                                rpoContext.JobDocumentFields.Add(JobDocumentField);
                            }
                            else
                            {
                                string pdffield = rpoContext.DocumentFields.Where(x => x.IdField == item.IdField).Select(x => x.PdfFields).FirstOrDefault();
                                pdfFields.Add(pdffield);
                                updateJobDocumentField.Value = val;
                                updateJobDocumentField.ActualValue = val;
                                rpoContext.Entry(updateJobDocumentField).State = EntityState.Modified;
                                FieldsValue.Add(new IdItemName
                                {
                                    Id = pdffield,
                                    ItemName = updateJobDocumentField.ActualValue
                                });
                                rpoContext.SaveChanges();
                            }
                        }
                        else if (item.Field.FieldName == "chk26D")
                        {
                            string val = string.Empty;
                            string ownertype = job != null && job.RfpAddress != null && job.RfpAddress.OwnerType != null && !string.IsNullOrEmpty(job.RfpAddress.OwnerType.Name) ? job.RfpAddress.OwnerType.Name : string.Empty;
                            if (ownertype == "HPD")
                            {
                                val = "On";
                            }

                            if (updateJobDocumentField == null)
                            {
                                JobDocumentField JobDocumentField = new JobDocumentField
                                {
                                    IdJobDocument = idJobDocument,
                                    IdDocumentField = Convert.ToInt32(item.Id),
                                    Value = val,
                                    ActualValue = val
                                };
                                rpoContext.JobDocumentFields.Add(JobDocumentField);
                            }
                            else
                            {
                                string pdffield = rpoContext.DocumentFields.Where(x => x.IdField == item.IdField).Select(x => x.PdfFields).FirstOrDefault();
                                pdfFields.Add(pdffield);
                                updateJobDocumentField.Value = val;
                                updateJobDocumentField.ActualValue = val;
                                rpoContext.Entry(updateJobDocumentField).State = EntityState.Modified;
                                FieldsValue.Add(new IdItemName
                                {
                                    Id = pdffield,
                                    ItemName = updateJobDocumentField.ActualValue
                                });
                                rpoContext.SaveChanges();
                            }
                        }
                        else if (item.Field.FieldName == "chkSoilDisturbanceNo")
                        {
                            if (updateJobDocumentField == null)
                            {
                                JobDocumentField JobDocumentField = new JobDocumentField
                                {
                                    IdJobDocument = idJobDocument,
                                    IdDocumentField = Convert.ToInt32(item.Id),
                                    Value = "On",
                                    ActualValue = "On"
                                };
                                rpoContext.JobDocumentFields.Add(JobDocumentField);
                            }
                            else
                            {
                                updateJobDocumentField.Value = "On";
                                updateJobDocumentField.ActualValue = "On";
                                rpoContext.Entry(updateJobDocumentField).State = EntityState.Modified;
                                rpoContext.SaveChanges();
                            }
                        }
                        else if (item.Field.FieldName == "chkMS4AreaNo")
                        {
                            if (updateJobDocumentField == null)
                            {
                                JobDocumentField JobDocumentField = new JobDocumentField
                                {
                                    IdJobDocument = idJobDocument,
                                    IdDocumentField = Convert.ToInt32(item.Id),
                                    Value = "On",
                                    ActualValue = "On"
                                };
                                rpoContext.JobDocumentFields.Add(JobDocumentField);
                            }
                            else
                            {
                                updateJobDocumentField.Value = "On";
                                updateJobDocumentField.ActualValue = "On";
                                rpoContext.Entry(updateJobDocumentField).State = EntityState.Modified;
                                rpoContext.SaveChanges();
                            }
                        }
                        else if (item.Field.FieldName == "chk26T")
                        {
                            string val = string.Empty;
                            string ownertype = job != null && job.RfpAddress != null && job.RfpAddress.OwnerType != null && !string.IsNullOrEmpty(job.RfpAddress.OwnerType.Name) ? job.RfpAddress.OwnerType.Name : string.Empty;
                            if (ownertype == "NY STATE")
                            {
                                val = "On";
                            }

                            if (updateJobDocumentField == null)
                            {
                                JobDocumentField JobDocumentField = new JobDocumentField
                                {
                                    IdJobDocument = idJobDocument,
                                    IdDocumentField = Convert.ToInt32(item.Id),
                                    Value = val,
                                    ActualValue = val
                                };
                                rpoContext.JobDocumentFields.Add(JobDocumentField);
                            }
                            else
                            {
                                string pdffield = rpoContext.DocumentFields.Where(x => x.IdField == item.IdField).Select(x => x.PdfFields).FirstOrDefault();
                                pdfFields.Add(pdffield);
                                updateJobDocumentField.Value = val;
                                updateJobDocumentField.ActualValue = val;
                                rpoContext.Entry(updateJobDocumentField).State = EntityState.Modified;
                                FieldsValue.Add(new IdItemName
                                {
                                    Id = pdffield,
                                    ItemName = updateJobDocumentField.ActualValue
                                });
                                rpoContext.SaveChanges();
                            }
                        }

                        rpoContext.SaveChanges();
                    }
                    else
                    {

                        if (item.Field.FieldName == "Application")
                        {
                            int jobApplicantId = Convert.ToInt32(frontendFields.Value);
                            JobApplication jobApplication = rpoContext.JobApplications.FirstOrDefault(x => x.Id == jobApplicantId);
                            // ApplicationType = jobApplication != null && jobApplication.JobApplicationType != null ? jobApplication.JobApplicationType.Description : string.Empty;
                            ApplicationType = rpoContext.JobApplicationTypes.Where(x => x.Id == jobApplication.IdJobApplicationType).Select(x => x.Description).FirstOrDefault();

                            applicationNumber = jobApplication != null ? jobApplication.ApplicationNumber : string.Empty;
                            floorWorkingOn = jobApplication != null ? jobApplication.FloorWorking : string.Empty;

                            if (updateJobDocumentField == null)
                            {
                                JobDocumentField JobDocumentField = new JobDocumentField
                                {
                                    IdJobDocument = idJobDocument,
                                    IdDocumentField = Convert.ToInt32(item.Id),
                                    Value = frontendFields.Value,
                                    ActualValue = applicationNumber
                                };
                                rpoContext.JobDocumentFields.Add(JobDocumentField);
                            }
                            else
                            {
                                updateJobDocumentField.Value = frontendFields.Value;
                                updateJobDocumentField.ActualValue = applicationNumber;
                                rpoContext.Entry(updateJobDocumentField).State = EntityState.Modified;
                                rpoContext.SaveChanges();
                            }
                        }

                        else if (item.Field.FieldName == "Applicant")
                        {
                            int certifierid = Convert.ToInt32(frontendFields.Value);

                            JobContact jobContact = rpoContext.JobContacts.Where(x => x.Id == certifierid).FirstOrDefault();

                            applicantName = jobContact != null && jobContact.Contact != null ? jobContact.Contact.FirstName + " " + jobContact.Contact.LastName : string.Empty;
                            applicantFirstName = jobContact != null && jobContact.Contact != null ? jobContact.Contact.FirstName : string.Empty;
                            applicantMiddleName = jobContact != null && jobContact.Contact != null ? jobContact.Contact.MiddleName : string.Empty;
                            applicantLastName = jobContact != null && jobContact.Contact != null ? jobContact.Contact.LastName : string.Empty;
                            contactcompany = jobContact != null && jobContact.Contact != null && jobContact.Contact.Company != null ? jobContact.Contact.Company.Name : string.Empty;
                            // Address compnayAddress = jobContact != null && jobContact.Company != null && jobContact.Company.Addresses != null ? jobContact.Company.Addresses.OrderBy(x => x.AddressType.DisplayOrder).FirstOrDefault() : null;
                            Address compnayAddress = Common.GetContactAddressForJobDocument(jobContact);
                            businessAddress = compnayAddress != null ? compnayAddress.Address1 + " " + compnayAddress.Address2 : string.Empty;
                            businessCity = compnayAddress != null ? compnayAddress.City : string.Empty;
                            businessState = compnayAddress != null && compnayAddress.State != null ? compnayAddress.State.Acronym : string.Empty;
                            businessZip = compnayAddress != null ? compnayAddress.ZipCode : string.Empty;

                            contactMobilePhone = Common.GetContactPhoneNumberForJobDocument(jobContact);
                            //!= null && jobContact.Contact != null ? jobContact.Contact.MobilePhone : string.Empty;
                            contactEmail = jobContact != null ? jobContact.Contact.Email : string.Empty;
                            applicantmobilenumber = jobContact != null ? jobContact.Contact.MobilePhone : string.Empty;

                            string licenceTypeNumber = jobContact != null && jobContact.Contact != null && jobContact.Contact.ContactLicenses != null && jobContact.Contact.ContactLicenses.Count > 0 ?
                                 jobContact.Contact.ContactLicenses.Select(x => x.Number).FirstOrDefault() : string.Empty;
                            if (!string.IsNullOrEmpty(licenceTypeNumber))
                            {
                                ContactLicense contactLicenseType = rpoContext.ContactLicenses.Where(a => a.Number == licenceTypeNumber).FirstOrDefault();
                                ContactLicenseType LicenseType = rpoContext.ContactLicenseTypes.Where(b => b.Id == contactLicenseType.IdContactLicenseType).FirstOrDefault();
                                if (LicenseType.Name == "Engineer")
                                {
                                    contactLic_state_engineer = "1";
                                    contactLic_No = licenceTypeNumber;
                                }
                                else if (LicenseType.Name == "Architect")
                                {
                                    contactLic_state_architect = "2";
                                    contactLic_No = licenceTypeNumber;
                                }
                            }
                            else
                            {
                                licenceTypeNumber = jobContact != null && jobContact.Contact != null && jobContact.Contact.ContactLicenses != null && jobContact.Contact.ContactLicenses.Count > 0 ?
                                jobContact.Contact.ContactLicenses.Select(x => x.ContactLicenseType.Name).FirstOrDefault() : string.Empty;
                                if (licenceTypeNumber.ToLower() == ("Engineer").ToLower())
                                {
                                    contactLic_state_engineer = "1";
                                }
                                else if (licenceTypeNumber.ToLower() == ("Architect").ToLower())
                                {
                                    contactLic_state_architect = "2";
                                }
                            }
                            contactTitle = jobContact != null && jobContact.Contact != null && jobContact.Contact.ContactTitle != null ? jobContact.Contact.ContactTitle.Name : string.Empty;
                            documentDescription = documentDescription + (!string.IsNullOrEmpty(documentDescription) && !string.IsNullOrEmpty(applicantFirstName + " " + applicantLastName) ? " | " : string.Empty) + (!string.IsNullOrEmpty(applicantFirstName + " " + applicantLastName) ? "Applicant: " + applicantFirstName + " " + applicantLastName : string.Empty);

                            if (updateJobDocumentField == null)
                            {
                                JobDocumentField JobDocumentField = new JobDocumentField
                                {
                                    IdJobDocument = idJobDocument,
                                    IdDocumentField = frontendFields.IdDocumentField,
                                    Value = frontendFields.Value,
                                    ActualValue = applicantLastName
                                };
                                rpoContext.JobDocumentFields.Add(JobDocumentField);
                                rpoContext.SaveChanges();
                            }
                            else
                            {
                                updateJobDocumentField.Value = frontendFields.Value;
                                updateJobDocumentField.ActualValue = applicantLastName;
                                rpoContext.Entry(updateJobDocumentField).State = EntityState.Modified;
                                rpoContext.SaveChanges();
                            }
                        }

                        else if (item.Field.FieldName == "Filing Representative")
                        {
                            int idFilingRepresentative = Convert.ToInt32(frontendFields.Value);
                            //Employee employee = rpoContext.Employees.Where(x => x.Id == idFilingRepresentative).FirstOrDefault();
                            Employee employee = Common.GetEmployeeInformation(idFilingRepresentative);

                            filingRepresentativefirstname = employee != null ? employee.FirstName : string.Empty;
                            filingRepresentativelastname = employee != null ? employee.LastName : string.Empty;
                            frfirstname = employee != null ? employee.FirstName : string.Empty;
                            frLastname = employee != null ? employee.LastName : string.Empty;

                            filingRepresentativeCompany = "RPO INC";
                            filingRepresentativeaddress = employee != null ? employee.Address1 : string.Empty;
                            filingRepresentativePhone = employee != null ? employee.WorkPhone : string.Empty;
                            filingRepresentativeEmail = employee != null ? employee.Email : string.Empty;
                            filingRepresentativestate = employee != null ? employee.State.Acronym : string.Empty;
                            filingRepresentativecity = employee != null ? employee.City : string.Empty;
                            filingRepresentativezip = employee != null ? employee.ZipCode : string.Empty;
                            filingRepresentativemobile = employee != null ? employee.MobilePhone : string.Empty;
                            //  filingRepresentativeEmail = employee != null ? employee.Email : string.Empty;

                            string filingRepresentative = employee != null ? employee.FirstName + " " + employee.LastName : string.Empty;

                            AgentCertificate agentCertificate = rpoContext.AgentCertificates
                            .Include("DocumentType").FirstOrDefault(x => x.IdEmployee == idFilingRepresentative && x.DocumentType.Name.Equals("DOB Filing Representative"));
                            filingRepresentativRegnumber = agentCertificate != null ? agentCertificate.NumberId : string.Empty;
                            // documentDescription = documentDescription + (!string.IsNullOrEmpty(filingRepresentative) ? "Filing Representative: " + filingRepresentative : string.Empty);

                            documentDescription = documentDescription + (!string.IsNullOrEmpty(frfirstname) && !string.IsNullOrEmpty(frLastname) ? " | Filing Representative: " + frfirstname + " " + frLastname : string.Empty);
                            updateJobDocumentField = jobDocumentFieldList.FirstOrDefault(x => x.IdDocumentField == item.Id);
                            if (updateJobDocumentField == null)
                            {
                                JobDocumentField JobDocumentField = new JobDocumentField
                                {
                                    IdJobDocument = idJobDocument,
                                    IdDocumentField = Convert.ToInt32(item.Id),
                                    Value = frontendFields.Value,
                                    ActualValue = filingRepresentative,

                                };
                                rpoContext.JobDocumentFields.Add(JobDocumentField);
                            }
                            else
                            {
                                updateJobDocumentField.Value = frontendFields.Value;
                                updateJobDocumentField.ActualValue = filingRepresentative;
                                rpoContext.Entry(updateJobDocumentField).State = EntityState.Modified;
                                rpoContext.SaveChanges();
                            }
                        }

                        else if (item.Field.FieldName == "Filing Representative2")
                        {
                            int idFilingRepresentative = Convert.ToInt32(frontendFields.Value);
                            //Employee employee = rpoContext.Employees.Where(x => x.Id == idFilingRepresentative).FirstOrDefault();
                            if (idFilingRepresentative != 0)
                            {
                                Employee employee = Common.GetEmployeeInformation(idFilingRepresentative);


                                filingRepresentativefirstname = filingRepresentativefirstname + (employee != null ? (!string.IsNullOrEmpty(filingRepresentativefirstname) ? "/" : string.Empty) + employee.FirstName : string.Empty);
                                filingRepresentativelastname = filingRepresentativelastname + (employee != null ? (!string.IsNullOrEmpty(filingRepresentativelastname) ? "/" : string.Empty) + employee.LastName : string.Empty);
                                frfirstname = employee != null ? employee.FirstName : string.Empty;
                                frLastname = employee != null ? employee.LastName : string.Empty;

                                filingRepresentativeCompany = "RPO INC";
                                filingRepresentativePhone = employee != null ? employee.WorkPhone : string.Empty;
                            }
                            documentDescription = documentDescription + (!string.IsNullOrEmpty(frfirstname) && !string.IsNullOrEmpty(frLastname) ? " | Filing Representative: " + frfirstname + " " + frLastname : string.Empty);
                            //  filingRepresentativeEmail = employee != null ? employee.Email : string.Empty;

                            //documentDescription = documentDescription + (!string.IsNullOrEmpty(filingRepresentative) ? "Filing Representative: " + filingRepresentative : string.Empty);

                            updateJobDocumentField = jobDocumentFieldList.FirstOrDefault(x => x.IdDocumentField == item.Id);
                            if (updateJobDocumentField == null)
                            {
                                JobDocumentField JobDocumentField = new JobDocumentField
                                {
                                    IdJobDocument = idJobDocument,
                                    IdDocumentField = Convert.ToInt32(item.Id),
                                    Value = frontendFields.Value,
                                    ActualValue = frontendFields.Value,

                                };
                                rpoContext.JobDocumentFields.Add(JobDocumentField);
                            }
                            else
                            {
                                updateJobDocumentField.Value = frontendFields.Value;
                                updateJobDocumentField.ActualValue = frontendFields.Value;
                                rpoContext.Entry(updateJobDocumentField).State = EntityState.Modified;
                                rpoContext.SaveChanges();
                            }
                        }

                        else if (item.Field.FieldName == "Filing Representative3")
                        {
                            int idFilingRepresentative = Convert.ToInt32(frontendFields.Value);
                            //Employee employee = rpoContext.Employees.Where(x => x.Id == idFilingRepresentative).FirstOrDefault();


                            //   string filingRepresentative = employee != null ? employee.FirstName + " " + employee.LastName : string.Empty;
                            if (idFilingRepresentative != 0)
                            {
                                Employee employee = Common.GetEmployeeInformation(idFilingRepresentative);

                                filingRepresentativefirstname = filingRepresentativefirstname + (employee != null ? (!string.IsNullOrEmpty(filingRepresentativefirstname) ? "/" : string.Empty) + employee.FirstName : string.Empty);
                                filingRepresentativelastname = filingRepresentativelastname + (employee != null ? (!string.IsNullOrEmpty(filingRepresentativelastname) ? "/" : string.Empty) + employee.LastName : string.Empty);
                                frfirstname = employee != null ? employee.FirstName : string.Empty;
                                frLastname = employee != null ? employee.LastName : string.Empty;

                                filingRepresentativeCompany = "RPO INC";
                                filingRepresentativePhone = employee != null ? employee.WorkPhone : string.Empty;
                            }
                            // filingRepresentativeEmail = employee != null ? employee.Email : string.Empty;

                            // documentDescription = documentDescription + (!string.IsNullOrEmpty(filingRepresentative) ? "Filing Representative: " + filingRepresentative : string.Empty);
                            documentDescription = documentDescription + (!string.IsNullOrEmpty(frfirstname) && !string.IsNullOrEmpty(frLastname) ? " | Filing Representative: " + frfirstname + " " + frLastname : string.Empty);
                            updateJobDocumentField = jobDocumentFieldList.FirstOrDefault(x => x.IdDocumentField == item.Id);
                            if (updateJobDocumentField == null)
                            {
                                JobDocumentField JobDocumentField = new JobDocumentField
                                {
                                    IdJobDocument = idJobDocument,
                                    IdDocumentField = Convert.ToInt32(item.Id),
                                    Value = frontendFields.Value,
                                    ActualValue = frontendFields.Value,

                                };
                                rpoContext.JobDocumentFields.Add(JobDocumentField);
                            }
                            else
                            {
                                updateJobDocumentField.Value = frontendFields.Value;
                                updateJobDocumentField.ActualValue = frontendFields.Value;
                                rpoContext.Entry(updateJobDocumentField).State = EntityState.Modified;
                                rpoContext.SaveChanges();
                            }
                        }

                        else if (item.Field.FieldName == "Type")
                        {
                            int certifierid = Convert.ToInt32(frontendFields.Value);
                            JobDocumentType jobDocumentType = rpoContext.JobDocumentTypes.FirstOrDefault(x => x.Id == certifierid);
                            docuementType = jobDocumentType != null ? jobDocumentType.Type : string.Empty;

                            documentDescription = documentDescription + (!string.IsNullOrEmpty(docuementType) ? "Type: " + docuementType : string.Empty);

                            if (updateJobDocumentField == null)
                            {
                                JobDocumentField JobDocumentField = new JobDocumentField
                                {
                                    IdJobDocument = idJobDocument,
                                    IdDocumentField = frontendFields.IdDocumentField,
                                    Value = frontendFields.Value,
                                    ActualValue = docuementType
                                };
                                rpoContext.JobDocumentFields.Add(JobDocumentField);
                                rpoContext.SaveChanges();
                            }
                            else
                            {
                                updateJobDocumentField.Value = frontendFields.Value;
                                updateJobDocumentField.ActualValue = docuementType;
                                rpoContext.Entry(updateJobDocumentField).State = EntityState.Modified;
                                rpoContext.SaveChanges();
                            }
                        }

                        else if (item.Field.FieldName == "Job Document Work Type")
                        {
                            string workTypes = frontendFields.Value;
                            List<int> workTypesLst = !string.IsNullOrEmpty(workTypes) ? (workTypes.Split(',') != null && workTypes.Split(',').Any() ? workTypes.Split(',').Select(x => int.Parse(x)).ToList() : new List<int>()) : new List<int>();


                            var jobApplicationWorkPermitType = rpoContext.JobApplicationWorkPermitTypes
                                                                        .Include("JobWorkType")
                                                                        .Where(x => workTypesLst.Contains(x.Id))
                                                                        .Select(x => new
                                                                        {
                                                                            Permittype = x.PermitType != null && x.PermitType != "" ? x.PermitType : x.JobWorkType.Description,
                                                                            PermitTypeCode = x.Code,
                                                                            Fees = x.PermitType != null && x.PermitType != "" ? x.EstimatedCost : x.EstimatedCost,
                                                                            WorkDescription = x.WorkDescription != "" ? x.WorkDescription : string.Empty
                                                                        }).ToList();
                            //Fees = x.PermitType != null && x.PermitType != "" ? x.RenewalFee : x.EstimatedCost

                            string permitType = jobApplicationWorkPermitType != null ? String.Join(",", jobApplicationWorkPermitType.Select(x => x.Permittype)) : string.Empty;
                            permitTypecode = jobApplicationWorkPermitType != null ? String.Join(",", jobApplicationWorkPermitType.Select(x => x.PermitTypeCode)) : string.Empty;
                            string fees = jobApplicationWorkPermitType != null ? String.Join(",", jobApplicationWorkPermitType.Select(x => x.Fees)) : string.Empty;
                            //  string fees1 = 0;
                            double? d = 0;
                            //string desc = string.Empty;
                            documentDescription = documentDescription + (!string.IsNullOrEmpty(permitType) ? " | Job Document Work Type: " + permitType : string.Empty);
                            foreach (var item1 in jobApplicationWorkPermitType)
                            {
                                if (jobApplicationWorkPermitType.Count > 1)
                                {
                                    d = d + (item1.Fees == null ? 0 : item1.Fees);
                                    if (!string.IsNullOrEmpty(item1.WorkDescription))
                                    {
                                        desc = desc + item1.WorkDescription + ". ,";
                                    }
                                }
                                else
                                {
                                    d = d + (item1.Fees == null ? 0 : item1.Fees);
                                    if (!string.IsNullOrEmpty(item1.WorkDescription))
                                    {
                                        desc = desc + item1.WorkDescription + ".";
                                    }
                                }

                            }
                            if (desc.Length > 2)
                            {
                                desc = desc.Remove(desc.Length - 2);
                            }
                            estfees = Convert.ToString(d);
                            // int fees1 = jobApplicationWorkPermitType != null ?  Convert.ToInt32(jobApplicationWorkPermitType.Select(x => x.Fees))  : string.Empty;
                            if (updateJobDocumentField == null)
                            {
                                JobDocumentField JobDocumentField = new JobDocumentField
                                {
                                    IdJobDocument = idJobDocument,
                                    IdDocumentField = frontendFields.IdDocumentField,
                                    Value = workTypes,
                                    ActualValue = permitType
                                };
                                rpoContext.JobDocumentFields.Add(JobDocumentField);
                                rpoContext.SaveChanges();
                            }

                            else
                            {
                                updateJobDocumentField.Value = workTypes;
                                updateJobDocumentField.ActualValue = permitType;
                                rpoContext.Entry(updateJobDocumentField).State = EntityState.Modified;
                                rpoContext.SaveChanges();
                            }
                        }

                        else if (item.Field.FieldName == "For")
                        {
                            jobDocumentFor = frontendFields.Value;
                            if (updateJobDocumentField == null)
                            {
                                JobDocumentField JobDocumentField = new JobDocumentField
                                {
                                    IdJobDocument = idJobDocument,
                                    IdDocumentField = frontendFields.IdDocumentField,
                                    Value = frontendFields.Value,
                                    ActualValue = frontendFields.Value
                                };
                                rpoContext.JobDocumentFields.Add(JobDocumentField);
                                rpoContext.SaveChanges();
                            }

                            else
                            {
                                updateJobDocumentField.Value = frontendFields.Value;
                                updateJobDocumentField.ActualValue = frontendFields.Value;
                                rpoContext.Entry(updateJobDocumentField).State = EntityState.Modified;
                                rpoContext.SaveChanges();
                            }
                        }
                        else if (item.Field.FieldName == "Lessee Responsible")
                        {
                            int certifierid = Convert.ToInt32(frontendFields.Value);

                            JobContact jobContact = rpoContext.JobContacts.Where(x => x.Id == certifierid).FirstOrDefault();

                            LR_Name = jobContact != null && jobContact.Contact != null ? jobContact.Contact.LastName + " " + jobContact.Contact.FirstName : string.Empty;
                            // LR_Relationship = jobContact != null && jobContact.Contact != null ? jobContact.Contact.ContactTitle.Name: string.Empty;
                            // applicantMiddleName = jobContact != null && jobContact.Contact != null ? jobContact.Contact.MiddleName : string.Empty;
                            //applicantLastName = jobContact != null && jobContact.Contact != null ? jobContact.Contact.LastName : string.Empty;
                            LR_Company = jobContact != null && jobContact.Contact != null && jobContact.Contact.Company != null ? jobContact.Contact.Company.Name : string.Empty;
                            // Address compnayAddress = jobContact != null && jobContact.Company != null && jobContact.Company.Addresses != null ? jobContact.Company.Addresses.OrderBy(x => x.AddressType.DisplayOrder).FirstOrDefault() : null;
                            Address compnayAddress = Common.GetContactAddressForJobDocument(jobContact);
                            LR_Address = compnayAddress != null ? compnayAddress.Address1 + " " + compnayAddress.Address2 : string.Empty;
                            LR_City = compnayAddress != null ? compnayAddress.City : string.Empty;
                            LR_State = compnayAddress != null && compnayAddress.State != null ? compnayAddress.State.Acronym : string.Empty;
                            LR_Zip = compnayAddress != null ? compnayAddress.ZipCode : string.Empty;

                            LR_Phone = Common.GetContactPhoneNumberForJobDocument(jobContact);
                            //!= null && jobContact.Contact != null ? jobContact.Contact.MobilePhone : string.Empty;
                            LR_EMail = jobContact != null ? jobContact.Contact.Email : string.Empty;
                            LR_Relationship = jobContact != null && jobContact.Contact != null && jobContact.Contact.ContactTitle != null ? jobContact.Contact.ContactTitle.Name : string.Empty;

                            documentDescription = documentDescription + (!string.IsNullOrEmpty(LR_Name) ? " | Lessee Responsible: " + LR_Name : string.Empty);
                            //  documentDescription = documentDescription + (!string.IsNullOrEmpty(documentDescription) && !string.IsNullOrEmpty(applicantFirstName + " " + applicantLastName) ? " | " : string.Empty) + (!string.IsNullOrEmpty(applicantFirstName + " " + applicantLastName) ? "Applicant: " + applicantFirstName + " " + applicantLastName : string.Empty);

                            if (updateJobDocumentField == null)
                            {
                                JobDocumentField JobDocumentField = new JobDocumentField
                                {
                                    IdJobDocument = idJobDocument,
                                    IdDocumentField = frontendFields.IdDocumentField,
                                    Value = frontendFields.Value,
                                    ActualValue = applicantLastName
                                };
                                rpoContext.JobDocumentFields.Add(JobDocumentField);
                                rpoContext.SaveChanges();
                            }
                            else
                            {
                                updateJobDocumentField.Value = frontendFields.Value;
                                updateJobDocumentField.ActualValue = applicantLastName;
                                rpoContext.Entry(updateJobDocumentField).State = EntityState.Modified;
                                rpoContext.SaveChanges();
                            }

                        }

                        else if (item.Field.FieldName == "Job Description")
                        {

                            comments = frontendFields.Value;
                            documentDescription = documentDescription + (!string.IsNullOrEmpty(comments) ? " | Job Description: " + comments : string.Empty);
                            // jobDocumentFor = frontendFields.Value;
                            if (updateJobDocumentField == null)
                            {
                                JobDocumentField JobDocumentField = new JobDocumentField
                                {
                                    IdJobDocument = idJobDocument,
                                    IdDocumentField = frontendFields.IdDocumentField,
                                    Value = frontendFields.Value,
                                    ActualValue = frontendFields.Value
                                };
                                rpoContext.JobDocumentFields.Add(JobDocumentField);
                                rpoContext.SaveChanges();
                            }

                            else
                            {
                                updateJobDocumentField.Value = frontendFields.Value;
                                updateJobDocumentField.ActualValue = frontendFields.Value;
                                rpoContext.Entry(updateJobDocumentField).State = EntityState.Modified;
                                rpoContext.SaveChanges();
                            }


                        }


                        else
                        {
                            if (updateJobDocumentField == null)
                            {
                                JobDocumentField JobDocumentField = new JobDocumentField
                                {
                                    IdJobDocument = idJobDocument,
                                    IdDocumentField = frontendFields.IdDocumentField,
                                    Value = frontendFields.Value
                                };
                                rpoContext.JobDocumentFields.Add(JobDocumentField);
                                rpoContext.SaveChanges();
                            }
                            else
                            {
                                updateJobDocumentField.Value = frontendFields.Value;
                                rpoContext.Entry(updateJobDocumentField).State = EntityState.Modified;
                                rpoContext.SaveChanges();
                            }
                        }
                    }
                }
            }
            List<string> newpdfString = pdfFields;
            List<int> newDocumentFieldId = DocumentFieldsIds;
            jobDocument.DocumentDescription = documentDescription;
            jobDocument.JobDocumentFor = jobDocumentFor;
            rpoContext.SaveChanges();
            GenerateEditedJobDocument(idJobDocument, pdfFields, newDocumentFieldId, FieldsValue);


        }

        public static void GenerateCertificateOfCorrection2019(int idJobDocument, JobDocumentCreateOrUpdateDTO jobDocumentCreateOrUpdateDTO)
        {
            RpoContext rpoContext = new RpoContext();
            var documentFieldList = rpoContext.DocumentFields.Include("Field").Where(x => x.IdDocument == jobDocumentCreateOrUpdateDTO.IdDocument).OrderByDescending(x => x.Field.IsDisplayInFrontend).ThenBy(x => x.DisplayOrder).ToList();

            var jobDocumentFieldList = rpoContext.JobDocumentFields.
                 Where(x => x.IdJobDocument == idJobDocument).ToList();

            JobDocument jobDocument = rpoContext.JobDocuments.FirstOrDefault(x => x.Id == idJobDocument);
            string documentDescription = string.Empty;
            string jobDocumentFor = string.Empty;

            if (documentFieldList != null && documentFieldList.Count > 0)
            {
                Job job = rpoContext.Jobs.Include("ProjectManager").
                    Include("Contact").
                    Include("RfpAddress.Borough").
                    Include("Company.Addresses.State")
                    .Where(x => x.Id == jobDocumentCreateOrUpdateDTO.IdJob).FirstOrDefault();

                string companynamePersonPerformed = string.Empty;
                string companyAddressPersonPerformed = string.Empty;
                string contactLicensePersonPerformed = string.Empty;
                string certifierAddress = string.Empty;
                string summonsNumber = string.Empty;

                string architectEngineer = "";
                string contractor = "";


                foreach (DocumentField item in documentFieldList)
                {
                    var frontendFields = jobDocumentCreateOrUpdateDTO.JobDocumentFields.FirstOrDefault(x => x.IdDocumentField == item.Id);
                    if (frontendFields == null)
                    {
                        if (item.Field.FieldName == "JobFileInfo")
                        {
                            JobDocumentField updateJobDocumentField = jobDocumentFieldList.FirstOrDefault(x => x.IdDocumentField == item.Id);
                            string jobFileInfo = job != null ? job.JobNumber + " - AEU2-2019.pdf" : string.Empty;
                            if (updateJobDocumentField == null)
                            {
                                JobDocumentField JobDocumentField = new JobDocumentField
                                {
                                    IdJobDocument = idJobDocument,
                                    IdDocumentField = Convert.ToInt32(item.Id),
                                    Value = jobFileInfo,
                                    ActualValue = jobFileInfo
                                };
                                rpoContext.JobDocumentFields.Add(JobDocumentField);
                            }
                            else
                            {
                                updateJobDocumentField.Value = jobFileInfo;
                                updateJobDocumentField.ActualValue = jobFileInfo;
                                rpoContext.Entry(updateJobDocumentField).State = EntityState.Modified;
                                rpoContext.SaveChanges();
                            }
                        }
                        else if (item.Field.FieldName == "ECBNo1")
                        {
                            JobDocumentField updateJobDocumentField = jobDocumentFieldList.FirstOrDefault(x => x.IdDocumentField == item.Id);
                            if (updateJobDocumentField == null)
                            {
                                JobDocumentField JobDocumentField = new JobDocumentField
                                {
                                    IdJobDocument = idJobDocument,
                                    IdDocumentField = Convert.ToInt32(item.Id),
                                    Value = summonsNumber != null ? summonsNumber.Length > 6 ? summonsNumber.Substring(0, 3) : summonsNumber : string.Empty,
                                    ActualValue = summonsNumber != null ? summonsNumber.Length > 6 ? summonsNumber.Substring(0, 3) : summonsNumber : string.Empty
                                };
                                rpoContext.JobDocumentFields.Add(JobDocumentField);
                            }
                            else
                            {
                                updateJobDocumentField.Value = summonsNumber != null ? summonsNumber.Length > 6 ? summonsNumber.Substring(0, 3) : summonsNumber : string.Empty;
                                updateJobDocumentField.ActualValue = summonsNumber != null ? summonsNumber.Length > 6 ? summonsNumber.Substring(0, 3) : summonsNumber : string.Empty;
                                rpoContext.Entry(updateJobDocumentField).State = EntityState.Modified;
                                rpoContext.SaveChanges();
                            }
                        }
                        else if (item.Field.FieldName == "ECBNo2")
                        {
                            JobDocumentField updateJobDocumentField = jobDocumentFieldList.FirstOrDefault(x => x.IdDocumentField == item.Id);
                            if (updateJobDocumentField == null)
                            {
                                JobDocumentField JobDocumentField = new JobDocumentField
                                {
                                    IdJobDocument = idJobDocument,
                                    IdDocumentField = Convert.ToInt32(item.Id),
                                    Value = summonsNumber != null ? summonsNumber.Length > 6 ? summonsNumber.Substring(3, 3) : summonsNumber : string.Empty,
                                    ActualValue = summonsNumber != null ? summonsNumber.Length > 6 ? summonsNumber.Substring(3, 3) : summonsNumber : string.Empty
                                };
                                rpoContext.JobDocumentFields.Add(JobDocumentField);
                            }
                            else
                            {
                                updateJobDocumentField.Value = summonsNumber != null ? summonsNumber.Length > 6 ? summonsNumber.Substring(3, 3) : summonsNumber : string.Empty;
                                updateJobDocumentField.ActualValue = summonsNumber != null ? summonsNumber.Length > 6 ? summonsNumber.Substring(3, 3) : summonsNumber : string.Empty;
                                rpoContext.Entry(updateJobDocumentField).State = EntityState.Modified;
                                rpoContext.SaveChanges();
                            }
                        }
                        else if (item.Field.FieldName == "ECBNo3")
                        {
                            JobDocumentField updateJobDocumentField = jobDocumentFieldList.FirstOrDefault(x => x.IdDocumentField == item.Id);
                            if (updateJobDocumentField == null)
                            {
                                JobDocumentField JobDocumentField = new JobDocumentField
                                {
                                    IdJobDocument = idJobDocument,
                                    IdDocumentField = Convert.ToInt32(item.Id),
                                    Value = summonsNumber != null ? summonsNumber.Length > 8 ? summonsNumber.Substring(6, 2) : summonsNumber : string.Empty,
                                    ActualValue = summonsNumber != null ? summonsNumber.Length > 8 ? summonsNumber.Substring(6, 2) : summonsNumber : string.Empty
                                };
                                rpoContext.JobDocumentFields.Add(JobDocumentField);
                            }
                            else
                            {
                                updateJobDocumentField.Value = summonsNumber != null ? summonsNumber.Length > 8 ? summonsNumber.Substring(6, 2) : summonsNumber : string.Empty;
                                updateJobDocumentField.ActualValue = summonsNumber != null ? summonsNumber.Length > 8 ? summonsNumber.Substring(6, 2) : summonsNumber : string.Empty;
                                rpoContext.Entry(updateJobDocumentField).State = EntityState.Modified;
                                rpoContext.SaveChanges();
                            }
                        }
                        else if (item.Field.FieldName == "ECBNo4")
                        {
                            JobDocumentField updateJobDocumentField = jobDocumentFieldList.FirstOrDefault(x => x.IdDocumentField == item.Id);
                            if (updateJobDocumentField == null)
                            {
                                JobDocumentField JobDocumentField = new JobDocumentField
                                {
                                    IdJobDocument = idJobDocument,
                                    IdDocumentField = Convert.ToInt32(item.Id),
                                    Value = summonsNumber != null ? summonsNumber.Length > 9 ? summonsNumber.Remove(0, 8) : summonsNumber.Substring(8, 1) : string.Empty,
                                    ActualValue = summonsNumber != null ? summonsNumber.Length > 9 ? summonsNumber.Remove(0, 8) : summonsNumber.Substring(8, 1) : string.Empty
                                };
                                rpoContext.JobDocumentFields.Add(JobDocumentField);
                            }
                            else
                            {
                                updateJobDocumentField.Value = summonsNumber != null ? summonsNumber.Length > 9 ? summonsNumber.Remove(0, 8) : summonsNumber.Substring(8, 1) : string.Empty;
                                updateJobDocumentField.ActualValue = summonsNumber != null ? summonsNumber.Length > 9 ? summonsNumber.Remove(0, 8) : summonsNumber.Substring(8, 1) : string.Empty;
                                rpoContext.Entry(updateJobDocumentField).State = EntityState.Modified;
                                rpoContext.SaveChanges();
                            }
                        }
                        else if (item.Field.FieldName == "Address")
                        {
                            JobDocumentField updateJobDocumentField = jobDocumentFieldList.FirstOrDefault(x => x.IdDocumentField == item.Id);
                            if (updateJobDocumentField == null)
                            {
                                JobDocumentField JobDocumentField = new JobDocumentField
                                {
                                    IdJobDocument = idJobDocument,
                                    IdDocumentField = Convert.ToInt32(item.Id),
                                    Value = job != null && job.RfpAddress != null ? job.RfpAddress.HouseNumber + ' ' + job.RfpAddress.Street : string.Empty,
                                    ActualValue = job != null && job.RfpAddress != null ? job.RfpAddress.HouseNumber + ' ' + job.RfpAddress.Street : string.Empty
                                };
                                rpoContext.JobDocumentFields.Add(JobDocumentField);
                            }
                            else
                            {
                                updateJobDocumentField.Value = job != null && job.RfpAddress != null ? job.RfpAddress.HouseNumber + ' ' + job.RfpAddress.Street : string.Empty;
                                updateJobDocumentField.ActualValue = job != null && job.RfpAddress != null ? job.RfpAddress.HouseNumber + ' ' + job.RfpAddress.Street : string.Empty;
                                rpoContext.Entry(updateJobDocumentField).State = EntityState.Modified;
                                rpoContext.SaveChanges();
                            }
                        }
                        else if (item.Field.FieldName == "BoroughZip")
                        {
                            JobDocumentField updateJobDocumentField = jobDocumentFieldList.FirstOrDefault(x => x.IdDocumentField == item.Id);
                            if (updateJobDocumentField == null)
                            {
                                JobDocumentField JobDocumentField = new JobDocumentField
                                {
                                    IdJobDocument = idJobDocument,
                                    IdDocumentField = Convert.ToInt32(item.Id),
                                    Value = job != null && job.RfpAddress != null && job.RfpAddress.Borough != null ? job.RfpAddress.Borough.Description + ' ' + job.RfpAddress.ZipCode : string.Empty,
                                    ActualValue = job != null && job.RfpAddress != null && job.RfpAddress.Borough != null ? job.RfpAddress.Borough.Description + ' ' + job.RfpAddress.ZipCode : string.Empty
                                };
                                rpoContext.JobDocumentFields.Add(JobDocumentField);
                            }
                            else
                            {
                                updateJobDocumentField.Value = job != null && job.RfpAddress != null && job.RfpAddress.Borough != null ? job.RfpAddress.Borough.Description + ' ' + job.RfpAddress.ZipCode : string.Empty;
                                updateJobDocumentField.ActualValue = job != null && job.RfpAddress != null && job.RfpAddress.Borough != null ? job.RfpAddress.Borough.Description + ' ' + job.RfpAddress.ZipCode : string.Empty;
                                rpoContext.Entry(updateJobDocumentField).State = EntityState.Modified;
                                rpoContext.SaveChanges();
                            }
                        }
                        else if (item.Field.FieldName == "State")
                        {
                            var jobCompanyAddresses = job.Company != null ? job.Company.Addresses.FirstOrDefault() : null;
                            JobDocumentField updateJobDocumentField = jobDocumentFieldList.FirstOrDefault(x => x.IdDocumentField == item.Id);
                            if (updateJobDocumentField == null)
                            {
                                JobDocumentField JobDocumentField = new JobDocumentField
                                {
                                    IdJobDocument = idJobDocument,
                                    IdDocumentField = Convert.ToInt32(item.Id),
                                    Value = jobCompanyAddresses != null && jobCompanyAddresses.State != null ? jobCompanyAddresses.State.Acronym : string.Empty,
                                    ActualValue = jobCompanyAddresses != null && jobCompanyAddresses.State != null ? jobCompanyAddresses.State.Acronym : string.Empty
                                };
                                rpoContext.JobDocumentFields.Add(JobDocumentField);
                            }
                            else
                            {
                                updateJobDocumentField.Value = jobCompanyAddresses != null && jobCompanyAddresses.State != null ? jobCompanyAddresses.State.Acronym : string.Empty;
                                updateJobDocumentField.ActualValue = jobCompanyAddresses != null && jobCompanyAddresses.State != null ? jobCompanyAddresses.State.Acronym : string.Empty;
                                rpoContext.Entry(updateJobDocumentField).State = EntityState.Modified;
                                rpoContext.SaveChanges();
                            }
                        }
                        else if (item.Field.FieldName == "County")
                        {
                            JobDocumentField updateJobDocumentField = jobDocumentFieldList.FirstOrDefault(x => x.IdDocumentField == item.Id);
                            if (updateJobDocumentField == null)
                            {
                                JobDocumentField JobDocumentField = new JobDocumentField
                                {
                                    IdJobDocument = idJobDocument,
                                    IdDocumentField = Convert.ToInt32(item.Id),
                                    Value = job != null && job.RfpAddress != null && job.RfpAddress.Borough != null ? job.RfpAddress.Borough.County : string.Empty,
                                    ActualValue = job != null && job.RfpAddress != null && job.RfpAddress.Borough != null ? job.RfpAddress.Borough.County : string.Empty

                                };
                                rpoContext.JobDocumentFields.Add(JobDocumentField);
                            }
                            else
                            {
                                updateJobDocumentField.Value = job != null && job.RfpAddress != null && job.RfpAddress.Borough != null ? job.RfpAddress.Borough.County : string.Empty;
                                updateJobDocumentField.ActualValue = job != null && job.RfpAddress != null && job.RfpAddress.Borough != null ? job.RfpAddress.Borough.County : string.Empty;
                                rpoContext.Entry(updateJobDocumentField).State = EntityState.Modified;
                                rpoContext.SaveChanges();
                            }
                        }


                        else if (item.Field.FieldName == "Respondent")
                        {
                            JobDocumentField updateJobDocumentField = jobDocumentFieldList.FirstOrDefault(x => x.IdDocumentField == item.Id);
                            if (updateJobDocumentField == null)
                            {
                                JobDocumentField JobDocumentField = new JobDocumentField
                                {
                                    IdJobDocument = idJobDocument,
                                    IdDocumentField = Convert.ToInt32(item.Id),
                                    Value = string.Empty, //static Respondent
                                    ActualValue = string.Empty //static Respondent

                                };
                                rpoContext.JobDocumentFields.Add(JobDocumentField);
                            }
                            else
                            {
                                updateJobDocumentField.Value = string.Empty;
                                updateJobDocumentField.ActualValue = string.Empty;
                                rpoContext.Entry(updateJobDocumentField).State = EntityState.Modified;
                                rpoContext.SaveChanges();
                            }
                        }
                        else if (item.Field.FieldName == "Officer")
                        {
                            JobDocumentField updateJobDocumentField = jobDocumentFieldList.FirstOrDefault(x => x.IdDocumentField == item.Id);
                            if (updateJobDocumentField == null)
                            {
                                JobDocumentField JobDocumentField = new JobDocumentField
                                {
                                    IdJobDocument = idJobDocument,
                                    IdDocumentField = Convert.ToInt32(item.Id),
                                    Value = "", //static Officer
                                    ActualValue = "" //static Officer

                                };
                                rpoContext.JobDocumentFields.Add(JobDocumentField);
                            }
                            else
                            {
                                updateJobDocumentField.Value = string.Empty;
                                updateJobDocumentField.ActualValue = string.Empty;
                                rpoContext.Entry(updateJobDocumentField).State = EntityState.Modified;
                                rpoContext.SaveChanges();
                            }
                        }
                        else if (item.Field.FieldName == "Respondent_Managing_Agent")
                        {
                            JobDocumentField updateJobDocumentField = jobDocumentFieldList.FirstOrDefault(x => x.IdDocumentField == item.Id);
                            if (updateJobDocumentField == null)
                            {
                                JobDocumentField JobDocumentField = new JobDocumentField
                                {
                                    IdJobDocument = idJobDocument,
                                    IdDocumentField = Convert.ToInt32(item.Id),
                                    Value = "", // static Respondent_Managing_Agent
                                    ActualValue = "" // static Respondent_Managing_Agent

                                };
                                rpoContext.JobDocumentFields.Add(JobDocumentField);
                            }
                            else
                            {
                                updateJobDocumentField.Value = string.Empty;
                                updateJobDocumentField.ActualValue = string.Empty;
                                rpoContext.Entry(updateJobDocumentField).State = EntityState.Modified;
                                rpoContext.SaveChanges();
                            }
                        }
                        else if (item.Field.FieldName == "Owner")
                        {
                            JobDocumentField updateJobDocumentField = jobDocumentFieldList.FirstOrDefault(x => x.IdDocumentField == item.Id);
                            if (updateJobDocumentField == null)
                            {
                                JobDocumentField JobDocumentField = new JobDocumentField
                                {
                                    IdJobDocument = idJobDocument,
                                    IdDocumentField = Convert.ToInt32(item.Id),
                                    Value = "",  // static Owner  
                                    ActualValue = ""  // static Owner  

                                };
                                rpoContext.JobDocumentFields.Add(JobDocumentField);
                            }
                            else
                            {
                                updateJobDocumentField.Value = string.Empty;
                                updateJobDocumentField.ActualValue = string.Empty;
                                rpoContext.Entry(updateJobDocumentField).State = EntityState.Modified;
                                rpoContext.SaveChanges();
                            }
                        }
                        else if (item.Field.FieldName == "PlaceofOccurence_Managing_Agent")
                        {
                            JobDocumentField updateJobDocumentField = jobDocumentFieldList.FirstOrDefault(x => x.IdDocumentField == item.Id);
                            if (updateJobDocumentField == null)
                            {
                                JobDocumentField JobDocumentField = new JobDocumentField
                                {
                                    IdJobDocument = idJobDocument,
                                    IdDocumentField = Convert.ToInt32(item.Id),
                                    Value = "", // static PlaceofOccurence_Managing_Agent
                                    ActualValue = "" // static PlaceofOccurence_Managing_Agent

                                };
                                rpoContext.JobDocumentFields.Add(JobDocumentField);
                            }
                            else
                            {
                                updateJobDocumentField.Value = string.Empty;
                                updateJobDocumentField.ActualValue = string.Empty;
                                rpoContext.Entry(updateJobDocumentField).State = EntityState.Modified;
                                rpoContext.SaveChanges();
                            }
                        }
                        else if (item.Field.FieldName == "Partner")
                        {

                            JobDocumentField updateJobDocumentField = jobDocumentFieldList.FirstOrDefault(x => x.IdDocumentField == item.Id);
                            if (updateJobDocumentField == null)
                            {
                                JobDocumentField JobDocumentField = new JobDocumentField
                                {
                                    IdJobDocument = idJobDocument,
                                    IdDocumentField = Convert.ToInt32(item.Id),
                                    Value = "", // static Partner
                                    ActualValue = "" // static Partner
                                };
                                rpoContext.JobDocumentFields.Add(JobDocumentField);
                            }
                            else
                            {
                                updateJobDocumentField.Value = string.Empty;
                                updateJobDocumentField.ActualValue = string.Empty;
                                rpoContext.Entry(updateJobDocumentField).State = EntityState.Modified;
                                rpoContext.SaveChanges();
                            }
                        }
                        else if (item.Field.FieldName == "ContractorOrAgent")
                        {

                            JobDocumentField updateJobDocumentField = jobDocumentFieldList.FirstOrDefault(x => x.IdDocumentField == item.Id);
                            if (updateJobDocumentField == null)
                            {
                                JobDocumentField JobDocumentField = new JobDocumentField
                                {
                                    IdJobDocument = idJobDocument,
                                    IdDocumentField = Convert.ToInt32(item.Id),
                                    Value = "", // static ContractorOrAgent
                                    ActualValue = "" // static ContractorOrAgent

                                };
                                rpoContext.JobDocumentFields.Add(JobDocumentField);
                            }
                            else
                            {
                                updateJobDocumentField.Value = string.Empty;
                                updateJobDocumentField.ActualValue = string.Empty;
                                rpoContext.Entry(updateJobDocumentField).State = EntityState.Modified;
                                rpoContext.SaveChanges();
                            }
                        }
                        else if (item.Field.FieldName == "CertifierAddress")
                        {
                            //var jobCompanyAddresses = job.Company.Addresses.OrderBy(x => x.AddressType.DisplayOrder).FirstOrDefault();
                            JobDocumentField updateJobDocumentField = jobDocumentFieldList.FirstOrDefault(x => x.IdDocumentField == item.Id);

                            //= (job.Company != null ? job.Company.Name + " " : string.Empty) + (jobCompanyAddresses != null ? jobCompanyAddresses.Address1 + " " + jobCompanyAddresses.Address2 + " " + jobCompanyAddresses.City + " " + jobCompanyAddresses.State.Acronym + " " + jobCompanyAddresses.ZipCode : string.Empty);
                            certifierAddress = certifierAddress;

                            if (updateJobDocumentField == null)
                            {
                                JobDocumentField JobDocumentField = new JobDocumentField
                                {
                                    IdJobDocument = idJobDocument,
                                    IdDocumentField = Convert.ToInt32(item.Id),
                                    Value = certifierAddress,
                                    ActualValue = certifierAddress

                                };
                                rpoContext.JobDocumentFields.Add(JobDocumentField);
                            }
                            else
                            {
                                updateJobDocumentField.Value = certifierAddress;
                                updateJobDocumentField.ActualValue = certifierAddress;
                                rpoContext.Entry(updateJobDocumentField).State = EntityState.Modified;
                                rpoContext.SaveChanges();
                            }
                        }
                        else if (item.Field.FieldName == "CompletionDate")
                        {
                            JobDocumentField updateJobDocumentField = jobDocumentFieldList.FirstOrDefault(x => x.IdDocumentField == item.Id);
                            if (updateJobDocumentField == null)
                            {
                                JobDocumentField JobDocumentField = new JobDocumentField
                                {
                                    IdJobDocument = idJobDocument,
                                    IdDocumentField = Convert.ToInt32(item.Id),
                                    Value = "",// Set as Blank
                                    ActualValue = "" // Set as Blank

                                };
                                rpoContext.JobDocumentFields.Add(JobDocumentField);
                            }
                            else
                            {
                                updateJobDocumentField.Value = string.Empty;
                                updateJobDocumentField.ActualValue = string.Empty;
                                rpoContext.Entry(updateJobDocumentField).State = EntityState.Modified;
                                rpoContext.SaveChanges();
                            }
                        }

                        else if (item.Field.FieldName == "Myself")
                        {
                            JobDocumentField updateJobDocumentField = jobDocumentFieldList.FirstOrDefault(x => x.IdDocumentField == item.Id);
                            if (updateJobDocumentField == null)
                            {
                                JobDocumentField JobDocumentField = new JobDocumentField
                                {
                                    IdJobDocument = idJobDocument,
                                    IdDocumentField = Convert.ToInt32(item.Id),
                                    Value = "",  // static Myself  
                                    ActualValue = ""  // static Myself  

                                };
                                rpoContext.JobDocumentFields.Add(JobDocumentField);
                            }
                            else
                            {
                                updateJobDocumentField.Value = string.Empty;
                                updateJobDocumentField.ActualValue = string.Empty;
                                rpoContext.Entry(updateJobDocumentField).State = EntityState.Modified;
                                rpoContext.SaveChanges();
                            }
                        }
                        else if (item.Field.FieldName == "MyEmployee")
                        {
                            JobDocumentField updateJobDocumentField = jobDocumentFieldList.FirstOrDefault(x => x.IdDocumentField == item.Id);
                            if (updateJobDocumentField == null)
                            {
                                JobDocumentField JobDocumentField = new JobDocumentField
                                {
                                    IdJobDocument = idJobDocument,
                                    IdDocumentField = Convert.ToInt32(item.Id),
                                    Value = "", // static MyEmployee
                                    ActualValue = "" // static MyEmployee

                                };
                                rpoContext.JobDocumentFields.Add(JobDocumentField);
                            }
                            else
                            {
                                updateJobDocumentField.Value = string.Empty;
                                updateJobDocumentField.ActualValue = string.Empty;
                                rpoContext.Entry(updateJobDocumentField).State = EntityState.Modified;
                                rpoContext.SaveChanges();
                            }
                        }
                        else if (item.Field.FieldName == "Contractor")
                        {
                            JobDocumentField updateJobDocumentField = jobDocumentFieldList.FirstOrDefault(x => x.IdDocumentField == item.Id);
                            if (updateJobDocumentField == null)
                            {
                                JobDocumentField JobDocumentField = new JobDocumentField
                                {
                                    IdJobDocument = idJobDocument,
                                    IdDocumentField = Convert.ToInt32(item.Id),
                                    Value = contractor,
                                    ActualValue = contractor

                                };
                                rpoContext.JobDocumentFields.Add(JobDocumentField);
                            }
                            else
                            {
                                updateJobDocumentField.Value = contractor;
                                updateJobDocumentField.ActualValue = contractor;
                                rpoContext.Entry(updateJobDocumentField).State = EntityState.Modified;
                                rpoContext.SaveChanges();
                            }
                        }
                        else if (item.Field.FieldName == "ArchitectEngineer")
                        {
                            JobDocumentField updateJobDocumentField = jobDocumentFieldList.FirstOrDefault(x => x.IdDocumentField == item.Id);
                            if (updateJobDocumentField == null)
                            {
                                JobDocumentField JobDocumentField = new JobDocumentField
                                {
                                    IdJobDocument = idJobDocument,
                                    IdDocumentField = Convert.ToInt32(item.Id),
                                    Value = architectEngineer,
                                    ActualValue = architectEngineer

                                };
                                rpoContext.JobDocumentFields.Add(JobDocumentField);
                            }
                            else
                            {
                                updateJobDocumentField.Value = architectEngineer;
                                updateJobDocumentField.ActualValue = architectEngineer;
                                rpoContext.Entry(updateJobDocumentField).State = EntityState.Modified;
                                rpoContext.SaveChanges();
                            }
                        }
                        else if (item.Field.FieldName == "Company")
                        {
                            JobDocumentField updateJobDocumentField = jobDocumentFieldList.FirstOrDefault(x => x.IdDocumentField == item.Id);

                            companynamePersonPerformed = companynamePersonPerformed;
                            if (updateJobDocumentField == null)
                            {
                                JobDocumentField JobDocumentField = new JobDocumentField
                                {
                                    IdJobDocument = idJobDocument,
                                    IdDocumentField = Convert.ToInt32(item.Id),
                                    Value = companynamePersonPerformed,
                                    ActualValue = companynamePersonPerformed
                                };
                                rpoContext.JobDocumentFields.Add(JobDocumentField);
                            }
                            else
                            {
                                updateJobDocumentField.Value = companynamePersonPerformed;
                                updateJobDocumentField.ActualValue = companynamePersonPerformed;
                                rpoContext.Entry(updateJobDocumentField).State = EntityState.Modified;
                                rpoContext.SaveChanges();
                            }
                        }

                        else if (item.Field.FieldName == "ApplicantAddress")
                        {
                            JobDocumentField updateJobDocumentField = jobDocumentFieldList.FirstOrDefault(x => x.IdDocumentField == item.Id);
                            companyAddressPersonPerformed = companyAddressPersonPerformed;
                            if (updateJobDocumentField == null)
                            {
                                JobDocumentField JobDocumentField = new JobDocumentField
                                {
                                    IdJobDocument = idJobDocument,
                                    IdDocumentField = Convert.ToInt32(item.Id),
                                    Value = companyAddressPersonPerformed,
                                    ActualValue = companyAddressPersonPerformed
                                };
                                rpoContext.JobDocumentFields.Add(JobDocumentField);
                            }
                            else
                            {
                                updateJobDocumentField.Value = companyAddressPersonPerformed;
                                updateJobDocumentField.ActualValue = companyAddressPersonPerformed;
                                rpoContext.Entry(updateJobDocumentField).State = EntityState.Modified;
                                rpoContext.SaveChanges();
                            }
                        }
                        else if (item.Field.FieldName == "Lic_No")
                        {
                            JobDocumentField updateJobDocumentField = jobDocumentFieldList.FirstOrDefault(x => x.IdDocumentField == item.Id);
                            if (updateJobDocumentField == null)
                            {
                                JobDocumentField JobDocumentField = new JobDocumentField
                                {
                                    IdJobDocument = idJobDocument,
                                    IdDocumentField = Convert.ToInt32(item.Id),
                                    Value = contactLicensePersonPerformed,
                                    ActualValue = contactLicensePersonPerformed
                                };
                                rpoContext.JobDocumentFields.Add(JobDocumentField);
                            }
                            else
                            {
                                updateJobDocumentField.Value = contactLicensePersonPerformed;
                                updateJobDocumentField.ActualValue = contactLicensePersonPerformed;
                                rpoContext.Entry(updateJobDocumentField).State = EntityState.Modified;
                                rpoContext.SaveChanges();
                            }
                        }
                        else if (item.Field.FieldName == "topmostSubform[0].Page1[0].TextField5[3]")
                        {
                            JobDocumentField updateJobDocumentField = jobDocumentFieldList.FirstOrDefault(x => x.IdDocumentField == item.Id);
                            if (updateJobDocumentField == null)
                            {
                                JobDocumentField JobDocumentField = new JobDocumentField
                                {
                                    IdJobDocument = idJobDocument,
                                    IdDocumentField = Convert.ToInt32(item.Id),
                                    Value = "RPO INC. 146 WEST 29TH STREET, SUITE 2E NEW YORK, NY 10001",
                                    ActualValue = "RPO INC. 146 WEST 29TH STREET, SUITE 2E NEW YORK, NY 10001"
                                };
                                rpoContext.JobDocumentFields.Add(JobDocumentField);
                            }
                            else
                            {
                                updateJobDocumentField.Value = "RPO INC. 146 WEST 29TH STREET, SUITE 2E NEW YORK, NY 10001";
                                updateJobDocumentField.ActualValue = "RPO INC. 146 WEST 29TH STREET, SUITE 2E NEW YORK, NY 10001";
                                rpoContext.Entry(updateJobDocumentField).State = EntityState.Modified;
                                rpoContext.SaveChanges();
                            }
                        }
                        else if (item.Field.FieldName == "Date")
                        {
                            JobDocumentField updateJobDocumentField = jobDocumentFieldList.FirstOrDefault(x => x.IdDocumentField == item.Id);
                            if (updateJobDocumentField == null)
                            {
                                JobDocumentField JobDocumentField = new JobDocumentField
                                {
                                    IdJobDocument = idJobDocument,
                                    IdDocumentField = Convert.ToInt32(item.Id),
                                    Value = string.Empty,
                                    ActualValue = string.Empty
                                };
                                rpoContext.JobDocumentFields.Add(JobDocumentField);
                            }
                            else
                            {
                                updateJobDocumentField.Value = string.Empty;
                                updateJobDocumentField.ActualValue = string.Empty;
                                rpoContext.Entry(updateJobDocumentField).State = EntityState.Modified;
                                rpoContext.SaveChanges();
                            }
                        }
                        rpoContext.SaveChanges();
                    }
                    else
                    {

                        if (item.Field.FieldName == "Certifier")
                        {
                            int idJobApplicant = frontendFields.Value != null ? Convert.ToInt32(frontendFields.Value) : 0;
                            Contact contact = rpoContext.Contacts.Include("Company.Addresses").Include("Addresses").Where(x => x.Id == idJobApplicant).FirstOrDefault();

                            Company company = contact.Company;
                            Address companyAddress = Common.GetContactAddressForJobDocument(contact);
                            //company != null && company.Addresses != null ? company.Addresses.OrderBy(x => x.AddressType.DisplayOrder).FirstOrDefault() : null;

                            //ContactLicense contactLicense = contact.ContactLicenses.FirstOrDefault();

                            //if (companyAddress == null)
                            //{
                            //    companyAddress = contact != null && contact.Addresses != null ? contact.Addresses.FirstOrDefault(x => x.IsMainAddress == true) : null;
                            //}

                            certifierAddress = company != null ? contact.Company.Name + ", " : string.Empty;
                            string certifierCompanyAddress = companyAddress != null ? companyAddress.Address1 + " " + companyAddress.Address2 + " " + companyAddress.City + (companyAddress.State != null ? " " + companyAddress.State.Acronym : string.Empty) + " " + companyAddress.ZipCode : string.Empty;
                            certifierAddress = certifierAddress + certifierCompanyAddress;

                            string certifierName = contact != null ? contact.FirstName + " " + contact.LastName : string.Empty;
                            //documentDescription = documentDescription + (!string.IsNullOrEmpty(documentDescription) && !string.IsNullOrEmpty(certifierName) ? " | " : string.Empty) + (!string.IsNullOrEmpty(certifierName) ? "Certifier: " + certifierName : string.Empty);
                            documentDescription = "Certifier Name: " + certifierName;
                            JobDocumentField updateJobDocumentField = jobDocumentFieldList.FirstOrDefault(x => x.IdDocumentField == item.Id);
                            if (updateJobDocumentField == null)
                            {
                                JobDocumentField JobDocumentField = new JobDocumentField
                                {
                                    IdJobDocument = idJobDocument,
                                    IdDocumentField = frontendFields.IdDocumentField,
                                    Value = Convert.ToString(idJobApplicant),
                                    ActualValue = contact != null ? contact.FirstName + " " + contact.LastName : string.Empty
                                };
                                rpoContext.JobDocumentFields.Add(JobDocumentField);
                                rpoContext.SaveChanges();
                            }
                            else
                            {
                                updateJobDocumentField.Value = Convert.ToString(idJobApplicant);
                                updateJobDocumentField.ActualValue = contact != null ? contact.FirstName + " " + contact.LastName : string.Empty;
                                rpoContext.Entry(updateJobDocumentField).State = EntityState.Modified;
                                rpoContext.SaveChanges();
                            }
                        }
                        else if (item.Field.FieldName == "Person Who Performed Work")
                        {
                            int certifierid = Convert.ToInt32(frontendFields.Value);
                            Contact contact = rpoContext.Contacts.Include("Company.Addresses").Include("Addresses").Where(x => x.Id == certifierid).FirstOrDefault();

                            Company company = contact.Company;
                            Address companyAddress = Common.GetContactAddressForJobDocument(contact);

                            //company != null && company.Addresses != null ? company.Addresses.OrderBy(x => x.AddressType.DisplayOrder).FirstOrDefault() : null;
                            //if (companyAddress == null)
                            //{
                            //    companyAddress = contact != null && contact.Addresses != null ? contact.Addresses.FirstOrDefault(x => x.IsMainAddress == true) : null;
                            //}

                            companynamePersonPerformed = company != null ? contact.Company.Name : string.Empty;


                            if (company != null && company.CompanyTypes != null && company.CompanyTypes.Where(x => x.ItemName == "General Contractor").Any())
                            {

                                contactLicensePersonPerformed = company.TrackingNumber;
                                contractor = "3";
                            }
                            else
                            {
                                ContactLicense contactLicense = contact.ContactLicenses.FirstOrDefault(x => x.ContactLicenseType.Name == "Engineer" || x.ContactLicenseType.Name == "Architect");
                                contactLicensePersonPerformed = contactLicense != null ? contactLicense.Number : string.Empty;
                                contractor = "4";
                            }

                            companyAddressPersonPerformed = companyAddress != null ? companyAddress.Address1 + " " + companyAddress.Address2 + " " + companyAddress.City + (companyAddress.State != null ? " " + companyAddress.State.Acronym : string.Empty) + " " + companyAddress.ZipCode : string.Empty;

                            string personWhoPerformedWorkName = contact != null ? contact.FirstName + " " + contact.LastName : string.Empty;
                            //documentDescription = documentDescription + (!string.IsNullOrEmpty(documentDescription) && !string.IsNullOrEmpty(personWhoPerformedWorkName) ? " | " : string.Empty) + (!string.IsNullOrEmpty(personWhoPerformedWorkName) ? "Person Who Performed Work: " + personWhoPerformedWorkName : string.Empty);

                            documentDescription = documentDescription + (!string.IsNullOrEmpty(documentDescription) && !string.IsNullOrEmpty(personWhoPerformedWorkName) ? " | " : string.Empty) + (!string.IsNullOrEmpty(personWhoPerformedWorkName) ? "Person Who Performed Work: " + personWhoPerformedWorkName : string.Empty);
                            JobDocumentField updateJobDocumentField = jobDocumentFieldList.FirstOrDefault(x => x.IdDocumentField == item.Id);
                            if (updateJobDocumentField == null)
                            {
                                JobDocumentField JobDocumentField = new JobDocumentField
                                {
                                    IdJobDocument = idJobDocument,
                                    IdDocumentField = frontendFields.IdDocumentField,
                                    Value = Convert.ToString(certifierid),
                                    ActualValue = contact != null ? contact.FirstName + " " + contact.LastName : string.Empty
                                };
                                rpoContext.JobDocumentFields.Add(JobDocumentField);
                                rpoContext.SaveChanges();
                            }
                            else
                            {
                                updateJobDocumentField.Value = Convert.ToString(certifierid);
                                updateJobDocumentField.ActualValue = contact != null ? contact.FirstName + " " + contact.LastName : string.Empty;
                                rpoContext.Entry(updateJobDocumentField).State = EntityState.Modified;
                                rpoContext.SaveChanges();
                            }
                        }
                        else if (item.Field.FieldName == "Violation #")
                        {
                            int violationId = Convert.ToInt32(frontendFields.Value);
                            JobViolation jobViolation = rpoContext.JobViolations.Where(x => x.Id == violationId).FirstOrDefault();

                            jobDocument.IdJobViolation = violationId;

                            summonsNumber = jobViolation != null ? jobViolation.SummonsNumber : string.Empty;

                            JobDocumentField updateJobDocumentField = jobDocumentFieldList.FirstOrDefault(x => x.IdDocumentField == item.Id);
                            if (updateJobDocumentField == null)
                            {
                                JobDocumentField JobDocumentField = new JobDocumentField
                                {
                                    IdJobDocument = idJobDocument,
                                    IdDocumentField = frontendFields.IdDocumentField,
                                    Value = frontendFields.Value,
                                    ActualValue = jobViolation.SummonsNumber
                                };
                                rpoContext.JobDocumentFields.Add(JobDocumentField);
                                rpoContext.SaveChanges();
                            }
                            else
                            {
                                updateJobDocumentField.Value = frontendFields.Value;
                                updateJobDocumentField.ActualValue = jobViolation.SummonsNumber;
                                rpoContext.Entry(updateJobDocumentField).State = EntityState.Modified;
                                rpoContext.SaveChanges();
                            }
                        }
                        else if (item.Field.FieldName == "Optional Description")
                        {
                            //documentDescription = "Optional Additional Description: " + frontendFields.Value;
                            documentDescription = documentDescription + (!string.IsNullOrEmpty(documentDescription) && !string.IsNullOrEmpty(documentDescription) ? " | " : string.Empty) + (!string.IsNullOrEmpty(documentDescription) ? "Optional Additional Description: " + frontendFields.Value : string.Empty);
                            JobDocumentField updateJobDocumentField = jobDocumentFieldList.FirstOrDefault(x => x.IdDocumentField == item.Id);
                            if (updateJobDocumentField == null)
                            {
                                JobDocumentField JobDocumentField = new JobDocumentField
                                {
                                    IdJobDocument = idJobDocument,
                                    IdDocumentField = frontendFields.IdDocumentField,
                                    Value = frontendFields.Value,
                                    ActualValue = frontendFields.Value
                                };
                                rpoContext.JobDocumentFields.Add(JobDocumentField);
                                rpoContext.SaveChanges();
                            }
                            else
                            {
                                updateJobDocumentField.Value = frontendFields.Value;
                                updateJobDocumentField.ActualValue = frontendFields.Value;
                                rpoContext.Entry(updateJobDocumentField).State = EntityState.Modified;
                                rpoContext.SaveChanges();
                            }
                        }
                        else
                        {
                            JobDocumentField updateJobDocumentField = jobDocumentFieldList.FirstOrDefault(x => x.IdDocumentField == item.Id);
                            if (updateJobDocumentField == null)
                            {
                                JobDocumentField JobDocumentField = new JobDocumentField
                                {
                                    IdJobDocument = idJobDocument,
                                    IdDocumentField = frontendFields.IdDocumentField,
                                    Value = frontendFields.Value,
                                    ActualValue = frontendFields.Value
                                };
                                rpoContext.JobDocumentFields.Add(JobDocumentField);
                                rpoContext.SaveChanges();
                            }
                            else
                            {
                                updateJobDocumentField.Value = frontendFields.Value;
                                updateJobDocumentField.ActualValue = frontendFields.Value;
                                rpoContext.Entry(updateJobDocumentField).State = EntityState.Modified;
                                rpoContext.SaveChanges();
                            }
                        }


                    }
                }
            }

            jobDocument.DocumentDescription = documentDescription;
            jobDocument.JobDocumentFor = jobDocumentFor;
            rpoContext.SaveChanges();

            // Generate Job Document
            GenerateJobDocument(idJobDocument);
        }

        public static void EditCertificateOfCorrection2019(int idJobDocument, JobDocumentCreateOrUpdateDTO jobDocumentCreateOrUpdateDTO)
        {
            RpoContext rpoContext = new RpoContext();
            var documentFieldList = rpoContext.DocumentFields.Include("Field").Where(x => x.IdDocument == jobDocumentCreateOrUpdateDTO.IdDocument).OrderByDescending(x => x.Field.IsDisplayInFrontend).ThenBy(x => x.DisplayOrder).ToList();
            List<IdItemName> FieldsValue = new List<IdItemName>();
            List<string> pdfFields = new List<string>();
            List<int> DocumentFieldsIds = new List<int>();
            var jobDocumentFieldList = rpoContext.JobDocumentFields.
                 Where(x => x.IdJobDocument == idJobDocument).ToList();

            JobDocument jobDocument = rpoContext.JobDocuments.FirstOrDefault(x => x.Id == idJobDocument);
            string documentDescription = string.Empty;
            string jobDocumentFor = string.Empty;

            if (documentFieldList != null && documentFieldList.Count > 0)
            {
                Job job = rpoContext.Jobs.Include("ProjectManager").
                    Include("Contact").
                    Include("RfpAddress.Borough").
                    Include("Company.Addresses.State")
                    .Where(x => x.Id == jobDocumentCreateOrUpdateDTO.IdJob).FirstOrDefault();

                string companynamePersonPerformed = string.Empty;
                string companyAddressPersonPerformed = string.Empty;
                string contactLicensePersonPerformed = string.Empty;
                string certifierAddress = string.Empty;
                string summonsNumber = string.Empty;
                string architectEngineer = "";
                string contractor = "";


                foreach (DocumentField item in documentFieldList)
                {
                    var frontendFields = jobDocumentCreateOrUpdateDTO.JobDocumentFields.FirstOrDefault(x => x.IdDocumentField == item.Id);
                    if (frontendFields == null)
                    {
                        if (item.Field.FieldName == "JobFileInfo")
                        {
                            JobDocumentField updateJobDocumentField = jobDocumentFieldList.FirstOrDefault(x => x.IdDocumentField == item.Id);
                            string jobFileInfo = job != null ? job.JobNumber + " - AEU2-2019.pdf" : string.Empty;
                            if (updateJobDocumentField == null)
                            {
                                JobDocumentField JobDocumentField = new JobDocumentField
                                {
                                    IdJobDocument = idJobDocument,
                                    IdDocumentField = Convert.ToInt32(item.Id),
                                    Value = jobFileInfo,
                                    ActualValue = jobFileInfo
                                };
                                rpoContext.JobDocumentFields.Add(JobDocumentField);
                            }
                            else
                            {
                                string pdffield = rpoContext.DocumentFields.Where(x => x.IdField == item.IdField).Select(x => x.PdfFields).FirstOrDefault();
                                pdfFields.Add(pdffield);
                                updateJobDocumentField.Value = jobFileInfo;
                                updateJobDocumentField.ActualValue = jobFileInfo;
                                rpoContext.Entry(updateJobDocumentField).State = EntityState.Modified;
                                FieldsValue.Add(new IdItemName
                                {
                                    Id = pdffield,
                                    ItemName = updateJobDocumentField.ActualValue
                                });
                                rpoContext.SaveChanges();
                            }
                        }
                        else if (item.Field.FieldName == "ECBNo1")
                        {
                            JobDocumentField updateJobDocumentField = jobDocumentFieldList.FirstOrDefault(x => x.IdDocumentField == item.Id);
                            if (updateJobDocumentField == null)
                            {
                                JobDocumentField JobDocumentField = new JobDocumentField
                                {
                                    IdJobDocument = idJobDocument,
                                    IdDocumentField = Convert.ToInt32(item.Id),
                                    Value = summonsNumber != null ? summonsNumber.Length > 6 ? summonsNumber.Substring(0, 3) : summonsNumber : string.Empty,
                                    ActualValue = summonsNumber != null ? summonsNumber.Length > 6 ? summonsNumber.Substring(0, 3) : summonsNumber : string.Empty
                                };
                                rpoContext.JobDocumentFields.Add(JobDocumentField);
                            }
                            else
                            {
                                string pdffield = rpoContext.DocumentFields.Where(x => x.IdField == item.IdField).Select(x => x.PdfFields).FirstOrDefault();
                                pdfFields.Add(pdffield);
                                updateJobDocumentField.Value = summonsNumber != null ? summonsNumber.Length > 6 ? summonsNumber.Substring(0, 3) : summonsNumber : string.Empty;
                                updateJobDocumentField.ActualValue = summonsNumber != null ? summonsNumber.Length > 6 ? summonsNumber.Substring(0, 3) : summonsNumber : string.Empty;
                                rpoContext.Entry(updateJobDocumentField).State = EntityState.Modified;
                                FieldsValue.Add(new IdItemName
                                {
                                    Id = pdffield,
                                    ItemName = updateJobDocumentField.ActualValue
                                });
                                rpoContext.SaveChanges();
                            }
                        }
                        else if (item.Field.FieldName == "ECBNo2")
                        {
                            JobDocumentField updateJobDocumentField = jobDocumentFieldList.FirstOrDefault(x => x.IdDocumentField == item.Id);
                            if (updateJobDocumentField == null)
                            {
                                JobDocumentField JobDocumentField = new JobDocumentField
                                {
                                    IdJobDocument = idJobDocument,
                                    IdDocumentField = Convert.ToInt32(item.Id),
                                    Value = summonsNumber != null ? summonsNumber.Length > 6 ? summonsNumber.Substring(3, 3) : summonsNumber : string.Empty,
                                    ActualValue = summonsNumber != null ? summonsNumber.Length > 6 ? summonsNumber.Substring(3, 3) : summonsNumber : string.Empty
                                };
                                rpoContext.JobDocumentFields.Add(JobDocumentField);
                            }
                            else
                            {
                                string pdffield = rpoContext.DocumentFields.Where(x => x.IdField == item.IdField).Select(x => x.PdfFields).FirstOrDefault();
                                pdfFields.Add(pdffield);
                                updateJobDocumentField.Value = summonsNumber != null ? summonsNumber.Length > 6 ? summonsNumber.Substring(3, 3) : summonsNumber : string.Empty;
                                updateJobDocumentField.ActualValue = summonsNumber != null ? summonsNumber.Length > 6 ? summonsNumber.Substring(3, 3) : summonsNumber : string.Empty;
                                rpoContext.Entry(updateJobDocumentField).State = EntityState.Modified;
                                FieldsValue.Add(new IdItemName
                                {
                                    Id = pdffield,
                                    ItemName = updateJobDocumentField.ActualValue
                                });
                                rpoContext.SaveChanges();
                            }
                        }
                        else if (item.Field.FieldName == "ECBNo3")
                        {
                            JobDocumentField updateJobDocumentField = jobDocumentFieldList.FirstOrDefault(x => x.IdDocumentField == item.Id);
                            if (updateJobDocumentField == null)
                            {
                                JobDocumentField JobDocumentField = new JobDocumentField
                                {
                                    IdJobDocument = idJobDocument,
                                    IdDocumentField = Convert.ToInt32(item.Id),
                                    Value = summonsNumber != null ? summonsNumber.Length > 8 ? summonsNumber.Substring(6, 2) : summonsNumber : string.Empty,
                                    ActualValue = summonsNumber != null ? summonsNumber.Length > 8 ? summonsNumber.Substring(6, 2) : summonsNumber : string.Empty
                                };
                                rpoContext.JobDocumentFields.Add(JobDocumentField);
                            }
                            else
                            {
                                string pdffield = rpoContext.DocumentFields.Where(x => x.IdField == item.IdField).Select(x => x.PdfFields).FirstOrDefault();
                                pdfFields.Add(pdffield);
                                updateJobDocumentField.Value = summonsNumber != null ? summonsNumber.Length > 8 ? summonsNumber.Substring(6, 2) : summonsNumber : string.Empty;
                                updateJobDocumentField.ActualValue = summonsNumber != null ? summonsNumber.Length > 8 ? summonsNumber.Substring(6, 2) : summonsNumber : string.Empty;
                                rpoContext.Entry(updateJobDocumentField).State = EntityState.Modified;
                                FieldsValue.Add(new IdItemName
                                {
                                    Id = pdffield,
                                    ItemName = updateJobDocumentField.ActualValue
                                });
                                rpoContext.SaveChanges();
                            }
                        }
                        else if (item.Field.FieldName == "ECBNo4")
                        {
                            JobDocumentField updateJobDocumentField = jobDocumentFieldList.FirstOrDefault(x => x.IdDocumentField == item.Id);
                            if (updateJobDocumentField == null)
                            {
                                JobDocumentField JobDocumentField = new JobDocumentField
                                {
                                    IdJobDocument = idJobDocument,
                                    IdDocumentField = Convert.ToInt32(item.Id),
                                    Value = summonsNumber != null ? summonsNumber.Length > 9 ? summonsNumber.Remove(0, 8) : summonsNumber.Substring(8, 1) : string.Empty,
                                    ActualValue = summonsNumber != null ? summonsNumber.Length > 9 ? summonsNumber.Remove(0, 8) : summonsNumber.Substring(8, 1) : string.Empty
                                };
                                rpoContext.JobDocumentFields.Add(JobDocumentField);
                            }
                            else
                            {
                                string pdffield = rpoContext.DocumentFields.Where(x => x.IdField == item.IdField).Select(x => x.PdfFields).FirstOrDefault();
                                pdfFields.Add(pdffield);
                                updateJobDocumentField.Value = summonsNumber != null ? summonsNumber.Length > 9 ? summonsNumber.Remove(0, 8) : summonsNumber.Substring(8, 1) : string.Empty;
                                updateJobDocumentField.ActualValue = summonsNumber != null ? summonsNumber.Length > 9 ? summonsNumber.Remove(0, 8) : summonsNumber.Substring(8, 1) : string.Empty;
                                rpoContext.Entry(updateJobDocumentField).State = EntityState.Modified;
                                FieldsValue.Add(new IdItemName
                                {
                                    Id = pdffield,
                                    ItemName = updateJobDocumentField.ActualValue
                                });
                                rpoContext.SaveChanges();
                            }
                        }
                        else if (item.Field.FieldName == "Address")
                        {
                            JobDocumentField updateJobDocumentField = jobDocumentFieldList.FirstOrDefault(x => x.IdDocumentField == item.Id);
                            if (updateJobDocumentField == null)
                            {
                                JobDocumentField JobDocumentField = new JobDocumentField
                                {
                                    IdJobDocument = idJobDocument,
                                    IdDocumentField = Convert.ToInt32(item.Id),
                                    Value = job != null && job.RfpAddress != null ? job.RfpAddress.HouseNumber + ' ' + job.RfpAddress.Street : string.Empty,
                                    ActualValue = job != null && job.RfpAddress != null ? job.RfpAddress.HouseNumber + ' ' + job.RfpAddress.Street : string.Empty
                                };
                                rpoContext.JobDocumentFields.Add(JobDocumentField);
                            }
                            else
                            {
                                string pdffield = rpoContext.DocumentFields.Where(x => x.IdField == item.IdField).Select(x => x.PdfFields).FirstOrDefault();
                                pdfFields.Add(pdffield);
                                updateJobDocumentField.Value = job != null && job.RfpAddress != null ? job.RfpAddress.HouseNumber + ' ' + job.RfpAddress.Street : string.Empty;
                                updateJobDocumentField.ActualValue = job != null && job.RfpAddress != null ? job.RfpAddress.HouseNumber + ' ' + job.RfpAddress.Street : string.Empty;
                                rpoContext.Entry(updateJobDocumentField).State = EntityState.Modified;
                                FieldsValue.Add(new IdItemName
                                {
                                    Id = pdffield,
                                    ItemName = updateJobDocumentField.ActualValue
                                });
                                rpoContext.SaveChanges();
                            }
                        }
                        else if (item.Field.FieldName == "BoroughZip")
                        {
                            JobDocumentField updateJobDocumentField = jobDocumentFieldList.FirstOrDefault(x => x.IdDocumentField == item.Id);
                            if (updateJobDocumentField == null)
                            {
                                JobDocumentField JobDocumentField = new JobDocumentField
                                {
                                    IdJobDocument = idJobDocument,
                                    IdDocumentField = Convert.ToInt32(item.Id),
                                    Value = job != null && job.RfpAddress != null && job.RfpAddress.Borough != null ? job.RfpAddress.Borough.Description + ' ' + job.RfpAddress.ZipCode : string.Empty,
                                    ActualValue = job != null && job.RfpAddress != null && job.RfpAddress.Borough != null ? job.RfpAddress.Borough.Description + ' ' + job.RfpAddress.ZipCode : string.Empty
                                };
                                rpoContext.JobDocumentFields.Add(JobDocumentField);
                            }
                            else
                            {
                                string pdffield = rpoContext.DocumentFields.Where(x => x.IdField == item.IdField).Select(x => x.PdfFields).FirstOrDefault();
                                pdfFields.Add(pdffield);
                                updateJobDocumentField.Value = job != null && job.RfpAddress != null && job.RfpAddress.Borough != null ? job.RfpAddress.Borough.Description + ' ' + job.RfpAddress.ZipCode : string.Empty;
                                updateJobDocumentField.ActualValue = job != null && job.RfpAddress != null && job.RfpAddress.Borough != null ? job.RfpAddress.Borough.Description + ' ' + job.RfpAddress.ZipCode : string.Empty;
                                rpoContext.Entry(updateJobDocumentField).State = EntityState.Modified;
                                FieldsValue.Add(new IdItemName
                                {
                                    Id = pdffield,
                                    ItemName = updateJobDocumentField.ActualValue
                                });
                                rpoContext.SaveChanges();
                            }
                        }
                        else if (item.Field.FieldName == "State")
                        {
                            var jobCompanyAddresses = job.Company != null ? job.Company.Addresses.FirstOrDefault() : null;
                            JobDocumentField updateJobDocumentField = jobDocumentFieldList.FirstOrDefault(x => x.IdDocumentField == item.Id);
                            if (updateJobDocumentField == null)
                            {
                                JobDocumentField JobDocumentField = new JobDocumentField
                                {
                                    IdJobDocument = idJobDocument,
                                    IdDocumentField = Convert.ToInt32(item.Id),
                                    Value = jobCompanyAddresses != null && jobCompanyAddresses.State != null ? jobCompanyAddresses.State.Acronym : string.Empty,
                                    ActualValue = jobCompanyAddresses != null && jobCompanyAddresses.State != null ? jobCompanyAddresses.State.Acronym : string.Empty
                                };
                                rpoContext.JobDocumentFields.Add(JobDocumentField);
                            }
                            else
                            {
                                string pdffield = rpoContext.DocumentFields.Where(x => x.IdField == item.IdField).Select(x => x.PdfFields).FirstOrDefault();
                                pdfFields.Add(pdffield);
                                updateJobDocumentField.Value = jobCompanyAddresses != null && jobCompanyAddresses.State != null ? jobCompanyAddresses.State.Acronym : string.Empty;
                                updateJobDocumentField.ActualValue = jobCompanyAddresses != null && jobCompanyAddresses.State != null ? jobCompanyAddresses.State.Acronym : string.Empty;
                                rpoContext.Entry(updateJobDocumentField).State = EntityState.Modified;
                                FieldsValue.Add(new IdItemName
                                {
                                    Id = pdffield,
                                    ItemName = updateJobDocumentField.ActualValue
                                });
                                rpoContext.SaveChanges();
                            }
                        }
                        else if (item.Field.FieldName == "County")
                        {
                            JobDocumentField updateJobDocumentField = jobDocumentFieldList.FirstOrDefault(x => x.IdDocumentField == item.Id);
                            if (updateJobDocumentField == null)
                            {
                                JobDocumentField JobDocumentField = new JobDocumentField
                                {
                                    IdJobDocument = idJobDocument,
                                    IdDocumentField = Convert.ToInt32(item.Id),
                                    Value = job != null && job.RfpAddress != null && job.RfpAddress.Borough != null ? job.RfpAddress.Borough.County : string.Empty,
                                    ActualValue = job != null && job.RfpAddress != null && job.RfpAddress.Borough != null ? job.RfpAddress.Borough.County : string.Empty

                                };
                                rpoContext.JobDocumentFields.Add(JobDocumentField);
                            }
                            else
                            {
                                string pdffield = rpoContext.DocumentFields.Where(x => x.IdField == item.IdField).Select(x => x.PdfFields).FirstOrDefault();
                                pdfFields.Add(pdffield);
                                updateJobDocumentField.Value = job != null && job.RfpAddress != null && job.RfpAddress.Borough != null ? job.RfpAddress.Borough.County : string.Empty;
                                updateJobDocumentField.ActualValue = job != null && job.RfpAddress != null && job.RfpAddress.Borough != null ? job.RfpAddress.Borough.County : string.Empty;
                                rpoContext.Entry(updateJobDocumentField).State = EntityState.Modified;
                                FieldsValue.Add(new IdItemName
                                {
                                    Id = pdffield,
                                    ItemName = updateJobDocumentField.ActualValue
                                });
                                rpoContext.SaveChanges();
                            }
                        }


                        else if (item.Field.FieldName == "CertifierAddress")
                        {
                            //var jobCompanyAddresses = job.Company.Addresses.OrderBy(x => x.AddressType.DisplayOrder).FirstOrDefault();
                            JobDocumentField updateJobDocumentField = jobDocumentFieldList.FirstOrDefault(x => x.IdDocumentField == item.Id);

                            //= (job.Company != null ? job.Company.Name + " " : string.Empty) + (jobCompanyAddresses != null ? jobCompanyAddresses.Address1 + " " + jobCompanyAddresses.Address2 + " " + jobCompanyAddresses.City + " " + jobCompanyAddresses.State.Acronym + " " + jobCompanyAddresses.ZipCode : string.Empty);
                            certifierAddress = certifierAddress;

                            if (updateJobDocumentField == null)
                            {
                                JobDocumentField JobDocumentField = new JobDocumentField
                                {
                                    IdJobDocument = idJobDocument,
                                    IdDocumentField = Convert.ToInt32(item.Id),
                                    Value = certifierAddress,
                                    ActualValue = certifierAddress

                                };
                                rpoContext.JobDocumentFields.Add(JobDocumentField);
                            }
                            else
                            {
                                string pdffield = rpoContext.DocumentFields.Where(x => x.IdField == item.IdField).Select(x => x.PdfFields).FirstOrDefault();
                                pdfFields.Add(pdffield);
                                updateJobDocumentField.Value = certifierAddress;
                                updateJobDocumentField.ActualValue = certifierAddress;
                                rpoContext.Entry(updateJobDocumentField).State = EntityState.Modified;
                                FieldsValue.Add(new IdItemName
                                {
                                    Id = pdffield,
                                    ItemName = updateJobDocumentField.ActualValue
                                });
                                rpoContext.SaveChanges();
                            }
                        }



                        else if (item.Field.FieldName == "Contractor")
                        {
                            JobDocumentField updateJobDocumentField = jobDocumentFieldList.FirstOrDefault(x => x.IdDocumentField == item.Id);
                            if (updateJobDocumentField == null)
                            {
                                JobDocumentField JobDocumentField = new JobDocumentField
                                {
                                    IdJobDocument = idJobDocument,
                                    IdDocumentField = Convert.ToInt32(item.Id),
                                    Value = contractor,
                                    ActualValue = contractor

                                };
                                rpoContext.JobDocumentFields.Add(JobDocumentField);
                            }
                            else
                            {
                                string pdffield = rpoContext.DocumentFields.Where(x => x.IdField == item.IdField).Select(x => x.PdfFields).FirstOrDefault();
                                pdfFields.Add(pdffield);
                                updateJobDocumentField.Value = contractor;
                                updateJobDocumentField.ActualValue = contractor;
                                rpoContext.Entry(updateJobDocumentField).State = EntityState.Modified;
                                FieldsValue.Add(new IdItemName
                                {
                                    Id = pdffield,
                                    ItemName = updateJobDocumentField.ActualValue
                                });
                                rpoContext.SaveChanges();
                            }
                        }
                        else if (item.Field.FieldName == "ArchitectEngineer")
                        {
                            JobDocumentField updateJobDocumentField = jobDocumentFieldList.FirstOrDefault(x => x.IdDocumentField == item.Id);
                            if (updateJobDocumentField == null)
                            {
                                JobDocumentField JobDocumentField = new JobDocumentField
                                {
                                    IdJobDocument = idJobDocument,
                                    IdDocumentField = Convert.ToInt32(item.Id),
                                    Value = architectEngineer,
                                    ActualValue = architectEngineer

                                };
                                rpoContext.JobDocumentFields.Add(JobDocumentField);
                            }
                            else
                            {
                                string pdffield = rpoContext.DocumentFields.Where(x => x.IdField == item.IdField).Select(x => x.PdfFields).FirstOrDefault();
                                pdfFields.Add(pdffield);
                                updateJobDocumentField.Value = architectEngineer;
                                updateJobDocumentField.ActualValue = architectEngineer;
                                rpoContext.Entry(updateJobDocumentField).State = EntityState.Modified;
                                FieldsValue.Add(new IdItemName
                                {
                                    Id = pdffield,
                                    ItemName = updateJobDocumentField.ActualValue
                                });
                                rpoContext.SaveChanges();
                            }
                        }
                        else if (item.Field.FieldName == "Company")
                        {
                            JobDocumentField updateJobDocumentField = jobDocumentFieldList.FirstOrDefault(x => x.IdDocumentField == item.Id);

                            companynamePersonPerformed = companynamePersonPerformed;
                            if (updateJobDocumentField == null)
                            {
                                JobDocumentField JobDocumentField = new JobDocumentField
                                {
                                    IdJobDocument = idJobDocument,
                                    IdDocumentField = Convert.ToInt32(item.Id),
                                    Value = companynamePersonPerformed,
                                    ActualValue = companynamePersonPerformed
                                };
                                rpoContext.JobDocumentFields.Add(JobDocumentField);
                            }
                            else
                            {
                                string pdffield = rpoContext.DocumentFields.Where(x => x.IdField == item.IdField).Select(x => x.PdfFields).FirstOrDefault();
                                pdfFields.Add(pdffield);
                                updateJobDocumentField.Value = companynamePersonPerformed;
                                updateJobDocumentField.ActualValue = companynamePersonPerformed;
                                rpoContext.Entry(updateJobDocumentField).State = EntityState.Modified;
                                FieldsValue.Add(new IdItemName
                                {
                                    Id = pdffield,
                                    ItemName = updateJobDocumentField.ActualValue
                                });
                                rpoContext.SaveChanges();
                            }
                        }

                        else if (item.Field.FieldName == "ApplicantAddress")
                        {
                            JobDocumentField updateJobDocumentField = jobDocumentFieldList.FirstOrDefault(x => x.IdDocumentField == item.Id);
                            companyAddressPersonPerformed = companyAddressPersonPerformed;
                            if (updateJobDocumentField == null)
                            {
                                JobDocumentField JobDocumentField = new JobDocumentField
                                {
                                    IdJobDocument = idJobDocument,
                                    IdDocumentField = Convert.ToInt32(item.Id),
                                    Value = companyAddressPersonPerformed,
                                    ActualValue = companyAddressPersonPerformed
                                };
                                rpoContext.JobDocumentFields.Add(JobDocumentField);
                            }
                            else
                            {
                                string pdffield = rpoContext.DocumentFields.Where(x => x.IdField == item.IdField).Select(x => x.PdfFields).FirstOrDefault();
                                pdfFields.Add(pdffield);
                                updateJobDocumentField.Value = companyAddressPersonPerformed;
                                updateJobDocumentField.ActualValue = companyAddressPersonPerformed;
                                rpoContext.Entry(updateJobDocumentField).State = EntityState.Modified;
                                FieldsValue.Add(new IdItemName
                                {
                                    Id = pdffield,
                                    ItemName = updateJobDocumentField.ActualValue
                                });
                                rpoContext.SaveChanges();
                            }
                        }
                        else if (item.Field.FieldName == "topmostSubform[0].Page1[0].TextField5[3]")
                        {
                            JobDocumentField updateJobDocumentField = jobDocumentFieldList.FirstOrDefault(x => x.IdDocumentField == item.Id);
                            if (updateJobDocumentField == null)
                            {
                                JobDocumentField JobDocumentField = new JobDocumentField
                                {
                                    IdJobDocument = idJobDocument,
                                    IdDocumentField = Convert.ToInt32(item.Id),
                                    Value = "RPO INC. 146 WEST 29TH STREET, SUITE 2E NEW YORK, NY 10001",
                                    ActualValue = "RPO INC. 146 WEST 29TH STREET, SUITE 2E NEW YORK, NY 10001"
                                };
                                rpoContext.JobDocumentFields.Add(JobDocumentField);
                            }
                            else
                            {
                                string pdffield = rpoContext.DocumentFields.Where(x => x.IdField == item.IdField).Select(x => x.PdfFields).FirstOrDefault();
                                pdfFields.Add(pdffield);
                                updateJobDocumentField.Value = "RPO INC. 146 WEST 29TH STREET, SUITE 2E NEW YORK, NY 10001";
                                updateJobDocumentField.ActualValue = "RPO INC. 146 WEST 29TH STREET, SUITE 2E NEW YORK, NY 10001";
                                rpoContext.Entry(updateJobDocumentField).State = EntityState.Modified;
                                FieldsValue.Add(new IdItemName
                                {
                                    Id = pdffield,
                                    ItemName = updateJobDocumentField.ActualValue
                                });
                                rpoContext.SaveChanges();
                            }
                        }
                        else if (item.Field.FieldName == "Lic_No")
                        {
                            JobDocumentField updateJobDocumentField = jobDocumentFieldList.FirstOrDefault(x => x.IdDocumentField == item.Id);
                            if (updateJobDocumentField == null)
                            {
                                JobDocumentField JobDocumentField = new JobDocumentField
                                {
                                    IdJobDocument = idJobDocument,
                                    IdDocumentField = Convert.ToInt32(item.Id),
                                    Value = contactLicensePersonPerformed,
                                    ActualValue = contactLicensePersonPerformed
                                };
                                rpoContext.JobDocumentFields.Add(JobDocumentField);
                            }
                            else
                            {
                                string pdffield = rpoContext.DocumentFields.Where(x => x.IdField == item.IdField).Select(x => x.PdfFields).FirstOrDefault();
                                pdfFields.Add(pdffield);
                                updateJobDocumentField.Value = contactLicensePersonPerformed;
                                updateJobDocumentField.ActualValue = contactLicensePersonPerformed;
                                rpoContext.Entry(updateJobDocumentField).State = EntityState.Modified;
                                FieldsValue.Add(new IdItemName
                                {
                                    Id = pdffield,
                                    ItemName = updateJobDocumentField.ActualValue
                                });
                                rpoContext.SaveChanges();
                            }
                        }
                        rpoContext.SaveChanges();
                    }
                    else
                    {

                        if (item.Field.FieldName == "Certifier")
                        {
                            int idJobApplicant = frontendFields.Value != null ? Convert.ToInt32(frontendFields.Value) : 0;
                            Contact contact = rpoContext.Contacts.Include("Company.Addresses").Include("Addresses").Where(x => x.Id == idJobApplicant).FirstOrDefault();

                            Company company = contact.Company;
                            Address companyAddress = Common.GetContactAddressForJobDocument(contact);
                            //company != null && company.Addresses != null ? company.Addresses.OrderBy(x => x.AddressType.DisplayOrder).FirstOrDefault() : null;

                            //ContactLicense contactLicense = contact.ContactLicenses.FirstOrDefault();

                            //if (companyAddress == null)
                            //{
                            //    companyAddress = contact != null && contact.Addresses != null ? contact.Addresses.FirstOrDefault(x => x.IsMainAddress == true) : null;
                            //}

                            certifierAddress = company != null ? contact.Company.Name + ", " : string.Empty;
                            string certifierCompanyAddress = companyAddress != null ? companyAddress.Address1 + " " + companyAddress.Address2 + " " + companyAddress.City + (companyAddress.State != null ? " " + companyAddress.State.Acronym : string.Empty) + " " + companyAddress.ZipCode : string.Empty;
                            certifierAddress = certifierAddress + certifierCompanyAddress;

                            string certifierName = contact != null ? contact.FirstName + " " + contact.LastName : string.Empty;
                            //documentDescription = documentDescription + (!string.IsNullOrEmpty(documentDescription) && !string.IsNullOrEmpty(certifierName) ? " | " : string.Empty) + (!string.IsNullOrEmpty(certifierName) ? "Certifier: " + certifierName : string.Empty);
                            documentDescription = "Certifier Name: " + certifierName;
                            JobDocumentField updateJobDocumentField = jobDocumentFieldList.FirstOrDefault(x => x.IdDocumentField == item.Id);
                            if (updateJobDocumentField == null)
                            {
                                JobDocumentField JobDocumentField = new JobDocumentField
                                {
                                    IdJobDocument = idJobDocument,
                                    IdDocumentField = frontendFields.IdDocumentField,
                                    Value = Convert.ToString(idJobApplicant),
                                    ActualValue = contact != null ? contact.FirstName + " " + contact.LastName : string.Empty
                                };
                                rpoContext.JobDocumentFields.Add(JobDocumentField);
                                rpoContext.SaveChanges();
                            }
                            else
                            {
                                string pdffield = rpoContext.DocumentFields.Where(x => x.IdField == item.IdField).Select(x => x.PdfFields).FirstOrDefault();
                                pdfFields.Add(pdffield);
                                updateJobDocumentField.Value = Convert.ToString(idJobApplicant);
                                updateJobDocumentField.ActualValue = contact != null ? contact.FirstName + " " + contact.LastName : string.Empty;
                                rpoContext.Entry(updateJobDocumentField).State = EntityState.Modified;
                                FieldsValue.Add(new IdItemName
                                {
                                    Id = pdffield,
                                    ItemName = updateJobDocumentField.ActualValue
                                });
                                rpoContext.SaveChanges();
                            }
                        }
                        else if (item.Field.FieldName == "Person Who Performed Work")
                        {
                            int certifierid = Convert.ToInt32(frontendFields.Value);
                            Contact contact = rpoContext.Contacts.Include("Company.Addresses").Include("Addresses").Where(x => x.Id == certifierid).FirstOrDefault();

                            Company company = contact.Company;
                            Address companyAddress = Common.GetContactAddressForJobDocument(contact);

                            //company != null && company.Addresses != null ? company.Addresses.OrderBy(x => x.AddressType.DisplayOrder).FirstOrDefault() : null;
                            //if (companyAddress == null)
                            //{
                            //    companyAddress = contact != null && contact.Addresses != null ? contact.Addresses.FirstOrDefault(x => x.IsMainAddress == true) : null;
                            //}

                            companynamePersonPerformed = company != null ? contact.Company.Name : string.Empty;


                            if (company != null && company.CompanyTypes != null && company.CompanyTypes.Where(x => x.ItemName == "General Contractor").Any())
                            {

                                contactLicensePersonPerformed = company.TrackingNumber;
                                contractor = "3";
                            }
                            else
                            {
                                ContactLicense contactLicense = contact.ContactLicenses.FirstOrDefault(x => x.ContactLicenseType.Name == "Engineer" || x.ContactLicenseType.Name == "Architect");
                                contactLicensePersonPerformed = contactLicense != null ? contactLicense.Number : string.Empty;
                                contractor = "4";
                            }

                            companyAddressPersonPerformed = companyAddress != null ? companyAddress.Address1 + " " + companyAddress.Address2 + " " + companyAddress.City + (companyAddress.State != null ? " " + companyAddress.State.Acronym : string.Empty) + " " + companyAddress.ZipCode : string.Empty;

                            string personWhoPerformedWorkName = contact != null ? contact.FirstName + " " + contact.LastName : string.Empty;
                            //documentDescription = documentDescription + (!string.IsNullOrEmpty(documentDescription) && !string.IsNullOrEmpty(personWhoPerformedWorkName) ? " | " : string.Empty) + (!string.IsNullOrEmpty(personWhoPerformedWorkName) ? "Person Who Performed Work: " + personWhoPerformedWorkName : string.Empty);

                            documentDescription = documentDescription + (!string.IsNullOrEmpty(documentDescription) && !string.IsNullOrEmpty(personWhoPerformedWorkName) ? " | " : string.Empty) + (!string.IsNullOrEmpty(personWhoPerformedWorkName) ? "Person Who Performed Work: " + personWhoPerformedWorkName : string.Empty);
                            JobDocumentField updateJobDocumentField = jobDocumentFieldList.FirstOrDefault(x => x.IdDocumentField == item.Id);
                            if (updateJobDocumentField == null)
                            {
                                JobDocumentField JobDocumentField = new JobDocumentField
                                {
                                    IdJobDocument = idJobDocument,
                                    IdDocumentField = frontendFields.IdDocumentField,
                                    Value = Convert.ToString(certifierid),
                                    ActualValue = contact != null ? contact.FirstName + " " + contact.LastName : string.Empty
                                };
                                rpoContext.JobDocumentFields.Add(JobDocumentField);
                                rpoContext.SaveChanges();
                            }
                            else
                            {
                                string pdffield = rpoContext.DocumentFields.Where(x => x.IdField == item.IdField).Select(x => x.PdfFields).FirstOrDefault();
                                pdfFields.Add(pdffield);
                                updateJobDocumentField.Value = Convert.ToString(certifierid);
                                updateJobDocumentField.ActualValue = contact != null ? contact.FirstName + " " + contact.LastName : string.Empty;
                                rpoContext.Entry(updateJobDocumentField).State = EntityState.Modified;
                                FieldsValue.Add(new IdItemName
                                {
                                    Id = pdffield,
                                    ItemName = updateJobDocumentField.ActualValue
                                });
                                rpoContext.SaveChanges();
                            }
                        }
                        else if (item.Field.FieldName == "Violation #")
                        {
                            int violationId = Convert.ToInt32(frontendFields.Value);
                            JobViolation jobViolation = rpoContext.JobViolations.Where(x => x.Id == violationId).FirstOrDefault();

                            jobDocument.IdJobViolation = violationId;
                            summonsNumber = jobViolation != null ? jobViolation.SummonsNumber : string.Empty;

                            JobDocumentField updateJobDocumentField = jobDocumentFieldList.FirstOrDefault(x => x.IdDocumentField == item.Id);
                            if (updateJobDocumentField == null)
                            {
                                JobDocumentField JobDocumentField = new JobDocumentField
                                {
                                    IdJobDocument = idJobDocument,
                                    IdDocumentField = frontendFields.IdDocumentField,
                                    Value = frontendFields.Value,
                                    ActualValue = jobViolation.SummonsNumber
                                };
                                rpoContext.JobDocumentFields.Add(JobDocumentField);
                                rpoContext.SaveChanges();
                            }
                            else
                            {
                                string pdffield = rpoContext.DocumentFields.Where(x => x.IdField == item.IdField).Select(x => x.PdfFields).FirstOrDefault();
                                pdfFields.Add(pdffield);
                                updateJobDocumentField.Value = frontendFields.Value;
                                updateJobDocumentField.ActualValue = jobViolation.SummonsNumber;
                                rpoContext.Entry(updateJobDocumentField).State = EntityState.Modified;
                                FieldsValue.Add(new IdItemName
                                {
                                    Id = pdffield,
                                    ItemName = updateJobDocumentField.ActualValue
                                });
                                rpoContext.SaveChanges();
                            }
                        }
                        else if (item.Field.FieldName == "Optional Description")
                        {
                            //documentDescription = "Optional Additional Description: " + frontendFields.Value;
                            documentDescription = documentDescription + (!string.IsNullOrEmpty(documentDescription) && !string.IsNullOrEmpty(documentDescription) ? " | " : string.Empty) + (!string.IsNullOrEmpty(documentDescription) ? "Optional Additional Description: " + frontendFields.Value : string.Empty);
                            JobDocumentField updateJobDocumentField = jobDocumentFieldList.FirstOrDefault(x => x.IdDocumentField == item.Id);
                            if (updateJobDocumentField == null)
                            {
                                JobDocumentField JobDocumentField = new JobDocumentField
                                {
                                    IdJobDocument = idJobDocument,
                                    IdDocumentField = frontendFields.IdDocumentField,
                                    Value = frontendFields.Value,
                                    ActualValue = frontendFields.Value
                                };
                                rpoContext.JobDocumentFields.Add(JobDocumentField);
                                rpoContext.SaveChanges();
                            }
                            else
                            {
                                updateJobDocumentField.Value = frontendFields.Value;
                                updateJobDocumentField.ActualValue = frontendFields.Value;
                                rpoContext.Entry(updateJobDocumentField).State = EntityState.Modified;
                                rpoContext.SaveChanges();
                            }
                        }
                        else
                        {
                            JobDocumentField updateJobDocumentField = jobDocumentFieldList.FirstOrDefault(x => x.IdDocumentField == item.Id);
                            if (updateJobDocumentField == null)
                            {
                                JobDocumentField JobDocumentField = new JobDocumentField
                                {
                                    IdJobDocument = idJobDocument,
                                    IdDocumentField = frontendFields.IdDocumentField,
                                    Value = frontendFields.Value,
                                    ActualValue = frontendFields.Value
                                };
                                rpoContext.JobDocumentFields.Add(JobDocumentField);
                                rpoContext.SaveChanges();
                            }
                            else
                            {
                                updateJobDocumentField.Value = frontendFields.Value;
                                updateJobDocumentField.ActualValue = frontendFields.Value;
                                rpoContext.Entry(updateJobDocumentField).State = EntityState.Modified;
                                rpoContext.SaveChanges();
                            }
                        }


                    }
                }
            }
            List<string> newpdfString = pdfFields;
            List<int> newDocumentFieldId = DocumentFieldsIds;
            jobDocument.DocumentDescription = documentDescription;
            jobDocument.JobDocumentFor = jobDocumentFor;
            rpoContext.SaveChanges();

            // Edit Job Document
            GenerateEditedJobDocument(idJobDocument, pdfFields, newDocumentFieldId, FieldsValue);
        }

        //public static void GenerateApplicationfortechmgmtplanexamination2019(int idJobDocument, JobDocumentCreateOrUpdateDTO jobDocumentCreateOrUpdateDTO)
        //{
        //    RpoContext rpoContext = new RpoContext();
        //    var documentFieldList = rpoContext.DocumentFields.Include("Field").Where(x => x.IdDocument == jobDocumentCreateOrUpdateDTO.IdDocument).OrderByDescending(x => x.Field.IsDisplayInFrontend).ThenBy(x => x.DisplayOrder).ToList();
        //    JobDocument jobDocument = rpoContext.JobDocuments.FirstOrDefault(x => x.Id == idJobDocument);
        //    string documentDescription = string.Empty;
        //    string jobDocumentFor = string.Empty;

        //    if (documentFieldList != null && documentFieldList.Count > 0)
        //    {
        //        Job job = rpoContext.Jobs.Include("ProjectManager").
        //            Include("Contact.ContactTitle").
        //            Include("RfpAddress.Borough").
        //            Include("Company.Addresses.AddressType").
        //            Include("Company.Addresses.State")
        //            .Where(x => x.Id == jobDocumentCreateOrUpdateDTO.IdJob).FirstOrDefault();

        //        string contactName = string.Empty;
        //        string licenceName = string.Empty;
        //        string contactName2 = string.Empty;
        //        string companyName2 = string.Empty;
        //        string location2 = string.Empty;
        //        string docuementType = string.Empty;
        //        string floorWorkingOn = string.Empty;
        //        string applicantFirstName = string.Empty;
        //        string applicantMiddleName = string.Empty;
        //        string applicantLastName = string.Empty;
        //        string contactcompany = string.Empty;
        //        string businessAddress = string.Empty;
        //        //   string businessAddress = string.Empty;
        //        string businessCity = string.Empty;
        //        string businessState = string.Empty;
        //        string businessZip = string.Empty;
        //        string contactMobilePhone = string.Empty;
        //        string contactEmail = string.Empty;
        //        string contactTitle = string.Empty;
        //        string documentType = string.Empty;
        //        string documentName = string.Empty;
        //        //   string contactcompany = string.Empty;
        //        string applicantmobilenumber = string.Empty;
        //        string contactLic_state_engineer = string.Empty;
        //        string contactLic_state_architect = string.Empty;
        //        string contactLic_No = string.Empty;
        //        string filingRepresentativeCompany = string.Empty;
        //        string filingRepresentativePhone = string.Empty;
        //        string filingRepresentativeEmail = string.Empty;

        //        string filingRepresentativeCompany2 = string.Empty;
        //        string filingRepresentativePhone2 = string.Empty;
        //        string filingRepresentativeEmail2 = string.Empty;


        //        string filingRepresentativeCompany3 = string.Empty;
        //        string filingRepresentativePhone3 = string.Empty;
        //        string filingRepresentativeEmail3 = string.Empty;


        //        string filingRepresentativefirstname = string.Empty;
        //        string frfirstname = string.Empty;
        //        string frLastname = string.Empty;
        //        string filingRepresentative2firstname = string.Empty;
        //        string filingRepresentativef3irstname = string.Empty;
        //        string filingRepresentativelastname = string.Empty;
        //        string filingRepresentative2lastname = string.Empty;
        //        string filingRepresentative3lastname = string.Empty;
        //        string filingRepresentativeaddress = string.Empty;
        //        string filingRepresentativecity = string.Empty;
        //        string filingRepresentativestate = string.Empty;
        //        string filingRepresentativezip = string.Empty;
        //        string filingRepresentativemobile = string.Empty;
        //        string filingRepresentativeemail = string.Empty;
        //        string filingRepresentativRegnumber = string.Empty;
        //        string[] permitTypecodeArr = new string[20];
        //        string permitTypecode = string.Empty;
        //        string estfees = string.Empty;
        //        string LR_Name = string.Empty;
        //        string LR_Relationship = string.Empty;
        //        string LR_Company = string.Empty;
        //        string LR_Address = string.Empty;
        //        string LR_City = string.Empty;
        //        string LR_State = string.Empty;
        //        string LR_Zip = string.Empty;
        //        string LR_Phone = string.Empty;
        //        string LR_Fax = string.Empty;
        //        string LR_EMail = string.Empty;
        //        string applicantName = string.Empty;
        //        string comments = string.Empty;
        //        string applicationNumber = string.Empty;
        //        string ApplicationType = string.Empty;
        //        string desc = string.Empty;
        //        var jobDocumentFieldList = rpoContext.JobDocumentFields.Where(x => x.IdJobDocument == idJobDocument).ToList();
        //        foreach (DocumentField item in documentFieldList)
        //        {
        //            JobDocumentField updateJobDocumentField = jobDocumentFieldList.FirstOrDefault(x => x.IdDocumentField == item.Id);
        //            var frontendFields = jobDocumentCreateOrUpdateDTO.JobDocumentFields.FirstOrDefault(x => x.IdDocumentField == item.Id);
        //            if (frontendFields == null)
        //            {
        //                if (item.Field.FieldName == "JobFileInfo")
        //                {
        //                    string jobFileInfo = job != null ? job.JobNumber + " - TM-1.pdf" : string.Empty;
        //                    if (updateJobDocumentField == null)
        //                    {
        //                        JobDocumentField JobDocumentField = new JobDocumentField
        //                        {
        //                            IdJobDocument = idJobDocument,
        //                            IdDocumentField = Convert.ToInt32(item.Id),
        //                            Value = jobFileInfo,
        //                            ActualValue = jobFileInfo
        //                        };
        //                        rpoContext.JobDocumentFields.Add(JobDocumentField);
        //                    }
        //                    else
        //                    {
        //                        updateJobDocumentField.Value = jobFileInfo;
        //                        updateJobDocumentField.ActualValue = jobFileInfo;
        //                        rpoContext.Entry(updateJobDocumentField).State = EntityState.Modified;
        //                        rpoContext.SaveChanges();
        //                    }
        //                }
        //                else if (item.Field.FieldName == "bldg_nrb")
        //                {
        //                    string houseNumber = job != null && job.RfpAddress != null ? job.RfpAddress.HouseNumber : string.Empty;
        //                    if (updateJobDocumentField == null)
        //                    {
        //                        JobDocumentField JobDocumentField = new JobDocumentField
        //                        {
        //                            IdJobDocument = idJobDocument,
        //                            IdDocumentField = Convert.ToInt32(item.Id),
        //                            Value = houseNumber,
        //                            ActualValue = houseNumber
        //                        };
        //                        rpoContext.JobDocumentFields.Add(JobDocumentField);
        //                    }
        //                    else
        //                    {
        //                        updateJobDocumentField.Value = houseNumber;
        //                        updateJobDocumentField.ActualValue = houseNumber;
        //                        rpoContext.Entry(updateJobDocumentField).State = EntityState.Modified;
        //                        rpoContext.SaveChanges();
        //                    }
        //                }
        //                else if (item.Field.FieldName == "street")
        //                {
        //                    string houseStreet = job != null && job.RfpAddress != null ? job.RfpAddress.Street : string.Empty;
        //                    if (updateJobDocumentField == null)
        //                    {
        //                        JobDocumentField JobDocumentField = new JobDocumentField
        //                        {
        //                            IdJobDocument = idJobDocument,
        //                            IdDocumentField = Convert.ToInt32(item.Id),
        //                            Value = houseStreet,
        //                            ActualValue = houseStreet
        //                        };
        //                        rpoContext.JobDocumentFields.Add(JobDocumentField);
        //                    }
        //                    else
        //                    {
        //                        updateJobDocumentField.Value = houseStreet;
        //                        updateJobDocumentField.ActualValue = houseStreet;
        //                        rpoContext.Entry(updateJobDocumentField).State = EntityState.Modified;
        //                        rpoContext.SaveChanges();
        //                    }
        //                }
        //                else if (item.Field.FieldName == "bin")
        //                {
        //                    string binNumber = job != null && job.RfpAddress != null ? job.RfpAddress.BinNumber : string.Empty;

        //                    if (updateJobDocumentField == null)
        //                    {
        //                        JobDocumentField JobDocumentField = new JobDocumentField
        //                        {
        //                            IdJobDocument = idJobDocument,
        //                            IdDocumentField = Convert.ToInt32(item.Id),
        //                            Value = binNumber,
        //                            ActualValue = binNumber
        //                        };
        //                        rpoContext.JobDocumentFields.Add(JobDocumentField);
        //                    }
        //                    else
        //                    {
        //                        updateJobDocumentField.Value = binNumber;
        //                        updateJobDocumentField.ActualValue = binNumber;
        //                        rpoContext.Entry(updateJobDocumentField).State = EntityState.Modified;
        //                        rpoContext.SaveChanges();
        //                    }
        //                }
        //                else if (item.Field.FieldName == "block")
        //                {
        //                    string block = job != null && job.RfpAddress != null ? job.RfpAddress.Block : string.Empty;
        //                    if (updateJobDocumentField == null)
        //                    {
        //                        JobDocumentField JobDocumentField = new JobDocumentField
        //                        {
        //                            IdJobDocument = idJobDocument,
        //                            IdDocumentField = Convert.ToInt32(item.Id),
        //                            Value = block,
        //                            ActualValue = block
        //                        };
        //                        rpoContext.JobDocumentFields.Add(JobDocumentField);
        //                    }
        //                    else
        //                    {
        //                        updateJobDocumentField.Value = block;
        //                        updateJobDocumentField.ActualValue = block;
        //                        rpoContext.Entry(updateJobDocumentField).State = EntityState.Modified;
        //                        rpoContext.SaveChanges();
        //                    }
        //                }
        //                else if (item.Field.FieldName == "lot")
        //                {
        //                    string lot = job != null && job.RfpAddress != null ? job.RfpAddress.Lot : string.Empty;
        //                    if (updateJobDocumentField == null)
        //                    {
        //                        JobDocumentField JobDocumentField = new JobDocumentField
        //                        {
        //                            IdJobDocument = idJobDocument,
        //                            IdDocumentField = Convert.ToInt32(item.Id),
        //                            Value = lot,
        //                            ActualValue = lot
        //                        };
        //                        rpoContext.JobDocumentFields.Add(JobDocumentField);
        //                    }
        //                    else
        //                    {
        //                        updateJobDocumentField.Value = lot;
        //                        updateJobDocumentField.ActualValue = lot;
        //                        rpoContext.Entry(updateJobDocumentField).State = EntityState.Modified;
        //                        rpoContext.SaveChanges();
        //                    }
        //                }
        //                else if (item.Field.FieldName == "boro")
        //                {
        //                    string borough = job != null && job.RfpAddress != null && job.RfpAddress.Borough != null ? job.RfpAddress.Borough.Description : string.Empty;
        //                    if (updateJobDocumentField == null)
        //                    {
        //                        JobDocumentField JobDocumentField = new JobDocumentField
        //                        {
        //                            IdJobDocument = idJobDocument,
        //                            IdDocumentField = Convert.ToInt32(item.Id),
        //                            Value = borough,
        //                            ActualValue = borough
        //                        };
        //                        rpoContext.JobDocumentFields.Add(JobDocumentField);
        //                    }
        //                    else
        //                    {
        //                        updateJobDocumentField.Value = borough;
        //                        updateJobDocumentField.ActualValue = borough;
        //                        rpoContext.Entry(updateJobDocumentField).State = EntityState.Modified;
        //                        rpoContext.SaveChanges();
        //                    }
        //                }
        //                else if (item.Field.FieldName == "zip")
        //                {
        //                    string zipCode = job != null && job.RfpAddress != null ? job.RfpAddress.ZipCode : string.Empty;
        //                    if (updateJobDocumentField == null)
        //                    {
        //                        JobDocumentField JobDocumentField = new JobDocumentField
        //                        {
        //                            IdJobDocument = idJobDocument,
        //                            IdDocumentField = Convert.ToInt32(item.Id),
        //                            Value = zipCode,
        //                            ActualValue = zipCode
        //                        };
        //                        rpoContext.JobDocumentFields.Add(JobDocumentField);
        //                    }
        //                    else
        //                    {
        //                        updateJobDocumentField.Value = zipCode;
        //                        updateJobDocumentField.ActualValue = zipCode;
        //                        rpoContext.Entry(updateJobDocumentField).State = EntityState.Modified;
        //                        rpoContext.SaveChanges();
        //                    }
        //                }
        //                else if (item.Field.FieldName == "floor")
        //                {
        //                    if (updateJobDocumentField == null)
        //                    {
        //                        JobDocumentField JobDocumentField = new JobDocumentField
        //                        {
        //                            IdJobDocument = idJobDocument,
        //                            IdDocumentField = Convert.ToInt32(item.Id),
        //                            Value = floorWorkingOn,
        //                            ActualValue = floorWorkingOn
        //                        };
        //                        rpoContext.JobDocumentFields.Add(JobDocumentField);
        //                    }
        //                    else
        //                    {
        //                        updateJobDocumentField.Value = floorWorkingOn;
        //                        updateJobDocumentField.ActualValue = floorWorkingOn;
        //                        rpoContext.Entry(updateJobDocumentField).State = EntityState.Modified;
        //                        rpoContext.SaveChanges();
        //                    }
        //                }
        //                else if (item.Field.FieldName == "last_name_applicant")
        //                {
        //                    if (updateJobDocumentField == null)
        //                    {
        //                        JobDocumentField JobDocumentField = new JobDocumentField
        //                        {
        //                            IdJobDocument = idJobDocument,
        //                            IdDocumentField = Convert.ToInt32(item.Id),
        //                            Value = applicantLastName,
        //                            ActualValue = applicantLastName
        //                        };
        //                        rpoContext.JobDocumentFields.Add(JobDocumentField);
        //                    }
        //                    else
        //                    {
        //                        updateJobDocumentField.Value = applicantLastName;
        //                        updateJobDocumentField.ActualValue = applicantLastName;
        //                        rpoContext.Entry(updateJobDocumentField).State = EntityState.Modified;
        //                        rpoContext.SaveChanges();
        //                    }
        //                }
        //                else if (item.Field.FieldName == "first_name_applicant")
        //                {
        //                    if (updateJobDocumentField == null)
        //                    {
        //                        JobDocumentField JobDocumentField = new JobDocumentField
        //                        {
        //                            IdJobDocument = idJobDocument,
        //                            IdDocumentField = Convert.ToInt32(item.Id),
        //                            Value = applicantFirstName,
        //                            ActualValue = applicantFirstName
        //                        };
        //                        rpoContext.JobDocumentFields.Add(JobDocumentField);
        //                    }
        //                    else
        //                    {
        //                        updateJobDocumentField.Value = applicantFirstName;
        //                        updateJobDocumentField.ActualValue = applicantFirstName;
        //                        rpoContext.Entry(updateJobDocumentField).State = EntityState.Modified;
        //                        rpoContext.SaveChanges();
        //                    }
        //                }
        //                else if (item.Field.FieldName == "lic_nbr_applicant")
        //                {
        //                    if (updateJobDocumentField == null)
        //                    {
        //                        JobDocumentField JobDocumentField = new JobDocumentField
        //                        {
        //                            IdJobDocument = idJobDocument,
        //                            IdDocumentField = Convert.ToInt32(item.Id),
        //                            Value = contactLic_No,
        //                            ActualValue = contactLic_No
        //                        };
        //                        rpoContext.JobDocumentFields.Add(JobDocumentField);
        //                    }
        //                    else
        //                    {
        //                        updateJobDocumentField.Value = contactLic_No;
        //                        updateJobDocumentField.ActualValue = contactLic_No;
        //                        rpoContext.Entry(updateJobDocumentField).State = EntityState.Modified;
        //                        rpoContext.SaveChanges();
        //                    }
        //                }
        //                else if (item.Field.FieldName == "bus_name_applicant")
        //                {
        //                    if (updateJobDocumentField == null)
        //                    {
        //                        JobDocumentField JobDocumentField = new JobDocumentField
        //                        {
        //                            IdJobDocument = idJobDocument,
        //                            IdDocumentField = Convert.ToInt32(item.Id),
        //                            Value = contactcompany,
        //                            ActualValue = contactcompany
        //                        };
        //                        rpoContext.JobDocumentFields.Add(JobDocumentField);
        //                    }
        //                    else
        //                    {
        //                        updateJobDocumentField.Value = contactcompany;
        //                        updateJobDocumentField.ActualValue = contactcompany;
        //                        rpoContext.Entry(updateJobDocumentField).State = EntityState.Modified;
        //                        rpoContext.SaveChanges();
        //                    }
        //                }
        //                else if (item.Field.FieldName == "bus_add_applicant")
        //                {
        //                    if (updateJobDocumentField == null)
        //                    {
        //                        JobDocumentField JobDocumentField = new JobDocumentField
        //                        {
        //                            IdJobDocument = idJobDocument,
        //                            IdDocumentField = Convert.ToInt32(item.Id),
        //                            Value = businessAddress,
        //                            ActualValue = businessAddress
        //                        };
        //                        rpoContext.JobDocumentFields.Add(JobDocumentField);
        //                    }
        //                    else
        //                    {
        //                        updateJobDocumentField.Value = businessAddress;
        //                        updateJobDocumentField.ActualValue = businessAddress;
        //                        rpoContext.Entry(updateJobDocumentField).State = EntityState.Modified;
        //                        rpoContext.SaveChanges();
        //                    }
        //                }
        //                else if (item.Field.FieldName == "city_applicant")
        //                {
        //                    if (updateJobDocumentField == null)
        //                    {
        //                        JobDocumentField JobDocumentField = new JobDocumentField
        //                        {
        //                            IdJobDocument = idJobDocument,
        //                            IdDocumentField = Convert.ToInt32(item.Id),
        //                            Value = businessCity,
        //                            ActualValue = businessCity
        //                        };
        //                        rpoContext.JobDocumentFields.Add(JobDocumentField);
        //                    }
        //                    else
        //                    {
        //                        updateJobDocumentField.Value = businessCity;
        //                        updateJobDocumentField.ActualValue = businessCity;
        //                        rpoContext.Entry(updateJobDocumentField).State = EntityState.Modified;
        //                        rpoContext.SaveChanges();
        //                    }
        //                }
        //                else if (item.Field.FieldName == "phone_business_applicant")
        //                {
        //                    if (updateJobDocumentField == null)
        //                    {
        //                        JobDocumentField JobDocumentField = new JobDocumentField
        //                        {
        //                            IdJobDocument = idJobDocument,
        //                            IdDocumentField = Convert.ToInt32(item.Id),
        //                            Value = contactMobilePhone,
        //                            ActualValue = contactMobilePhone
        //                        };
        //                        rpoContext.JobDocumentFields.Add(JobDocumentField);
        //                    }
        //                    else
        //                    {
        //                        updateJobDocumentField.Value = contactMobilePhone;
        //                        updateJobDocumentField.ActualValue = contactMobilePhone;
        //                        rpoContext.Entry(updateJobDocumentField).State = EntityState.Modified;
        //                        rpoContext.SaveChanges();
        //                    }
        //                }
        //                else if (item.Field.FieldName == "email_applicant")
        //                {
        //                    if (updateJobDocumentField == null)
        //                    {
        //                        JobDocumentField JobDocumentField = new JobDocumentField
        //                        {
        //                            IdJobDocument = idJobDocument,
        //                            IdDocumentField = Convert.ToInt32(item.Id),
        //                            Value = contactEmail,
        //                            ActualValue = contactEmail
        //                        };
        //                        rpoContext.JobDocumentFields.Add(JobDocumentField);
        //                    }
        //                    else
        //                    {
        //                        updateJobDocumentField.Value = contactEmail;
        //                        updateJobDocumentField.ActualValue = contactEmail;
        //                        rpoContext.Entry(updateJobDocumentField).State = EntityState.Modified;
        //                        rpoContext.SaveChanges();
        //                    }
        //                }
        //                else if (item.Field.FieldName == "state_applicant")
        //                {
        //                    if (updateJobDocumentField == null)
        //                    {
        //                        JobDocumentField JobDocumentField = new JobDocumentField
        //                        {
        //                            IdJobDocument = idJobDocument,
        //                            IdDocumentField = Convert.ToInt32(item.Id),
        //                            Value = businessState,
        //                            ActualValue = businessState
        //                        };
        //                        rpoContext.JobDocumentFields.Add(JobDocumentField);
        //                    }
        //                    else
        //                    {
        //                        updateJobDocumentField.Value = businessState;
        //                        updateJobDocumentField.ActualValue = businessState;
        //                        rpoContext.Entry(updateJobDocumentField).State = EntityState.Modified;
        //                        rpoContext.SaveChanges();
        //                    }
        //                }
        //                else if (item.Field.FieldName == "zip_applicant")
        //                {
        //                    if (updateJobDocumentField == null)
        //                    {
        //                        JobDocumentField JobDocumentField = new JobDocumentField
        //                        {
        //                            IdJobDocument = idJobDocument,
        //                            IdDocumentField = Convert.ToInt32(item.Id),
        //                            Value = businessZip,
        //                            ActualValue = businessZip
        //                        };
        //                        rpoContext.JobDocumentFields.Add(JobDocumentField);
        //                    }
        //                    else
        //                    {
        //                        updateJobDocumentField.Value = businessZip;
        //                        updateJobDocumentField.ActualValue = businessZip;
        //                        rpoContext.Entry(updateJobDocumentField).State = EntityState.Modified;
        //                        rpoContext.SaveChanges();
        //                    }
        //                }
        //                else if (item.Field.FieldName == "box1_applicant")
        //                {
        //                    if (updateJobDocumentField == null)
        //                    {
        //                        JobDocumentField JobDocumentField = new JobDocumentField
        //                        {
        //                            IdJobDocument = idJobDocument,
        //                            IdDocumentField = Convert.ToInt32(item.Id),
        //                            Value = contactLic_state_engineer,
        //                            ActualValue = contactLic_state_engineer
        //                        };
        //                        rpoContext.JobDocumentFields.Add(JobDocumentField);
        //                    }
        //                    else
        //                    {
        //                        updateJobDocumentField.Value = contactLic_state_engineer;
        //                        updateJobDocumentField.ActualValue = contactLic_state_engineer;
        //                        rpoContext.Entry(updateJobDocumentField).State = EntityState.Modified;
        //                        rpoContext.SaveChanges();
        //                    }
        //                }
        //                else if (item.Field.FieldName == "last_name_fp")
        //                {
        //                    if (updateJobDocumentField == null)
        //                    {
        //                        JobDocumentField JobDocumentField = new JobDocumentField
        //                        {
        //                            IdJobDocument = idJobDocument,
        //                            IdDocumentField = Convert.ToInt32(item.Id),
        //                            Value = filingRepresentativelastname,
        //                            ActualValue = filingRepresentativelastname
        //                        };
        //                        rpoContext.JobDocumentFields.Add(JobDocumentField);
        //                    }
        //                    else
        //                    {
        //                        updateJobDocumentField.Value = filingRepresentativelastname;
        //                        updateJobDocumentField.ActualValue = filingRepresentativelastname;
        //                        rpoContext.Entry(updateJobDocumentField).State = EntityState.Modified;
        //                        rpoContext.SaveChanges();
        //                    }
        //                }
        //                else if (item.Field.FieldName == "first_name_fp")
        //                {
        //                    if (updateJobDocumentField == null)
        //                    {
        //                        JobDocumentField JobDocumentField = new JobDocumentField
        //                        {
        //                            IdJobDocument = idJobDocument,
        //                            IdDocumentField = Convert.ToInt32(item.Id),
        //                            Value = filingRepresentativefirstname,
        //                            ActualValue = filingRepresentativefirstname
        //                        };
        //                        rpoContext.JobDocumentFields.Add(JobDocumentField);
        //                    }
        //                    else
        //                    {
        //                        updateJobDocumentField.Value = filingRepresentativefirstname;
        //                        updateJobDocumentField.ActualValue = filingRepresentativefirstname;
        //                        rpoContext.Entry(updateJobDocumentField).State = EntityState.Modified;
        //                        rpoContext.SaveChanges();
        //                    }
        //                }
        //                else if (item.Field.FieldName == "reg_no")
        //                {
        //                    if (updateJobDocumentField == null)
        //                    {
        //                        JobDocumentField JobDocumentField = new JobDocumentField
        //                        {
        //                            IdJobDocument = idJobDocument,
        //                            IdDocumentField = Convert.ToInt32(item.Id),
        //                            Value = filingRepresentativRegnumber,
        //                            ActualValue = filingRepresentativRegnumber
        //                        };
        //                        rpoContext.JobDocumentFields.Add(JobDocumentField);
        //                    }
        //                    else
        //                    {
        //                        updateJobDocumentField.Value = filingRepresentativRegnumber;
        //                        updateJobDocumentField.ActualValue = filingRepresentativRegnumber;
        //                        rpoContext.Entry(updateJobDocumentField).State = EntityState.Modified;
        //                        rpoContext.SaveChanges();
        //                    }
        //                }
        //                else if (item.Field.FieldName == "bus_name_fp")
        //                {
        //                    if (updateJobDocumentField == null)
        //                    {
        //                        JobDocumentField JobDocumentField = new JobDocumentField
        //                        {
        //                            IdJobDocument = idJobDocument,
        //                            IdDocumentField = Convert.ToInt32(item.Id),
        //                            Value = filingRepresentativeCompany,
        //                            ActualValue = filingRepresentativeCompany
        //                        };
        //                        rpoContext.JobDocumentFields.Add(JobDocumentField);
        //                    }
        //                    else
        //                    {
        //                        updateJobDocumentField.Value = filingRepresentativeCompany;
        //                        updateJobDocumentField.ActualValue = filingRepresentativeCompany;
        //                        rpoContext.Entry(updateJobDocumentField).State = EntityState.Modified;
        //                        rpoContext.SaveChanges();
        //                    }
        //                }
        //                else if (item.Field.FieldName == "fp_bus_tel")
        //                {
        //                    if (updateJobDocumentField == null)
        //                    {
        //                        JobDocumentField JobDocumentField = new JobDocumentField
        //                        {
        //                            IdJobDocument = idJobDocument,
        //                            IdDocumentField = Convert.ToInt32(item.Id),
        //                            Value = filingRepresentativePhone,
        //                            ActualValue = filingRepresentativePhone
        //                        };
        //                        rpoContext.JobDocumentFields.Add(JobDocumentField);
        //                    }
        //                    else
        //                    {
        //                        updateJobDocumentField.Value = filingRepresentativePhone;
        //                        updateJobDocumentField.ActualValue = filingRepresentativePhone;
        //                        rpoContext.Entry(updateJobDocumentField).State = EntityState.Modified;
        //                        rpoContext.SaveChanges();
        //                    }
        //                }
        //                else if (item.Field.FieldName == "bus_add_fp")
        //                {
        //                    if (updateJobDocumentField == null)
        //                    {
        //                        JobDocumentField JobDocumentField = new JobDocumentField
        //                        {
        //                            IdJobDocument = idJobDocument,
        //                            IdDocumentField = Convert.ToInt32(item.Id),
        //                            Value = filingRepresentativeaddress,
        //                            ActualValue = filingRepresentativeaddress
        //                        };
        //                        rpoContext.JobDocumentFields.Add(JobDocumentField);
        //                    }
        //                    else
        //                    {
        //                        updateJobDocumentField.Value = filingRepresentativeaddress;
        //                        updateJobDocumentField.ActualValue = filingRepresentativeaddress;
        //                        rpoContext.Entry(updateJobDocumentField).State = EntityState.Modified;
        //                        rpoContext.SaveChanges();
        //                    }
        //                }
        //                else if (item.Field.FieldName == "city_fp")
        //                {
        //                    if (updateJobDocumentField == null)
        //                    {
        //                        JobDocumentField JobDocumentField = new JobDocumentField
        //                        {
        //                            IdJobDocument = idJobDocument,
        //                            IdDocumentField = Convert.ToInt32(item.Id),
        //                            Value = filingRepresentativecity,
        //                            ActualValue = filingRepresentativecity
        //                        };
        //                        rpoContext.JobDocumentFields.Add(JobDocumentField);
        //                    }
        //                    else
        //                    {
        //                        updateJobDocumentField.Value = filingRepresentativecity;
        //                        updateJobDocumentField.ActualValue = filingRepresentativecity;
        //                        rpoContext.Entry(updateJobDocumentField).State = EntityState.Modified;
        //                        rpoContext.SaveChanges();
        //                    }
        //                }
        //                else if (item.Field.FieldName == "state_fp")
        //                {
        //                    if (updateJobDocumentField == null)
        //                    {
        //                        JobDocumentField JobDocumentField = new JobDocumentField
        //                        {
        //                            IdJobDocument = idJobDocument,
        //                            IdDocumentField = Convert.ToInt32(item.Id),
        //                            Value = filingRepresentativestate,
        //                            ActualValue = filingRepresentativestate
        //                        };
        //                        rpoContext.JobDocumentFields.Add(JobDocumentField);
        //                    }
        //                    else
        //                    {
        //                        updateJobDocumentField.Value = filingRepresentativestate;
        //                        updateJobDocumentField.ActualValue = filingRepresentativestate;
        //                        rpoContext.Entry(updateJobDocumentField).State = EntityState.Modified;
        //                        rpoContext.SaveChanges();
        //                    }
        //                }
        //                else if (item.Field.FieldName == "fp_zip")
        //                {
        //                    if (updateJobDocumentField == null)
        //                    {
        //                        JobDocumentField JobDocumentField = new JobDocumentField
        //                        {
        //                            IdJobDocument = idJobDocument,
        //                            IdDocumentField = Convert.ToInt32(item.Id),
        //                            Value = filingRepresentativezip,
        //                            ActualValue = filingRepresentativezip
        //                        };
        //                        rpoContext.JobDocumentFields.Add(JobDocumentField);
        //                    }
        //                    else
        //                    {
        //                        updateJobDocumentField.Value = filingRepresentativezip;
        //                        updateJobDocumentField.ActualValue = filingRepresentativezip;
        //                        rpoContext.Entry(updateJobDocumentField).State = EntityState.Modified;
        //                        rpoContext.SaveChanges();
        //                    }
        //                }
        //                else if (item.Field.FieldName == "email_fp")
        //                {
        //                    if (updateJobDocumentField == null)
        //                    {
        //                        JobDocumentField JobDocumentField = new JobDocumentField
        //                        {
        //                            IdJobDocument = idJobDocument,
        //                            IdDocumentField = Convert.ToInt32(item.Id),
        //                            Value = filingRepresentativeEmail,
        //                            ActualValue = filingRepresentativeEmail
        //                        };
        //                        rpoContext.JobDocumentFields.Add(JobDocumentField);
        //                    }
        //                    else
        //                    {
        //                        updateJobDocumentField.Value = filingRepresentativeEmail;
        //                        updateJobDocumentField.ActualValue = filingRepresentativeEmail;
        //                        rpoContext.Entry(updateJobDocumentField).State = EntityState.Modified;
        //                        rpoContext.SaveChanges();
        //                    }
        //                }
        //                else if (item.Field.FieldName == "hob")
        //                {
        //                    string height = job != null && job.RfpAddress != null ? Convert.ToString(job.RfpAddress.Feet) : string.Empty;

        //                    if (updateJobDocumentField == null)
        //                    {
        //                        JobDocumentField JobDocumentField = new JobDocumentField
        //                        {
        //                            IdJobDocument = idJobDocument,
        //                            IdDocumentField = Convert.ToInt32(item.Id),
        //                            Value = height,
        //                            ActualValue = height
        //                        };
        //                        rpoContext.JobDocumentFields.Add(JobDocumentField);
        //                    }
        //                    else
        //                    {
        //                        updateJobDocumentField.Value = height;
        //                        updateJobDocumentField.ActualValue = height;
        //                        rpoContext.Entry(updateJobDocumentField).State = EntityState.Modified;
        //                        rpoContext.SaveChanges();
        //                    }
        //                }
        //                else if (item.Field.FieldName == "bs")
        //                {
        //                    string stories = job != null && job.RfpAddress != null ? Convert.ToString(job.RfpAddress.Stories) : string.Empty;
        //                    // JobDocumentField updateJobDocumentField = jobDocumentFieldList.FirstOrDefault(x => x.IdDocumentField == item.Id);
        //                    if (updateJobDocumentField == null)
        //                    {
        //                        JobDocumentField JobDocumentField = new JobDocumentField
        //                        {
        //                            IdJobDocument = idJobDocument,
        //                            IdDocumentField = Convert.ToInt32(item.Id),
        //                            Value = stories,
        //                            ActualValue = stories,
        //                        };
        //                        rpoContext.JobDocumentFields.Add(JobDocumentField);
        //                    }
        //                    else
        //                    {
        //                        updateJobDocumentField.Value = stories;
        //                        updateJobDocumentField.ActualValue = stories;
        //                        rpoContext.Entry(updateJobDocumentField).State = EntityState.Modified;
        //                        rpoContext.SaveChanges();
        //                    }
        //                }
        //                else if (item.Field.FieldName == "cc")
        //                {
        //                    string ConstructionClassification = job != null && job.RfpAddress != null && job.RfpAddress.ConstructionClassification != null ? Convert.ToString(job.RfpAddress.ConstructionClassification.Code) : string.Empty;

        //                    if (updateJobDocumentField == null)
        //                    {
        //                        JobDocumentField JobDocumentField = new JobDocumentField
        //                        {
        //                            IdJobDocument = idJobDocument,
        //                            IdDocumentField = Convert.ToInt32(item.Id),
        //                            Value = ConstructionClassification,
        //                            ActualValue = ConstructionClassification
        //                        };
        //                        rpoContext.JobDocumentFields.Add(JobDocumentField);
        //                    }
        //                    else
        //                    {
        //                        updateJobDocumentField.Value = ConstructionClassification;
        //                        updateJobDocumentField.ActualValue = ConstructionClassification;
        //                        rpoContext.Entry(updateJobDocumentField).State = EntityState.Modified;
        //                        rpoContext.SaveChanges();
        //                    }
        //                }
        //                else if (item.Field.FieldName == "landmark")
        //                {
        //                    string Landmark = string.Empty;
        //                    if (job != null && job.RfpAddress != null && job.RfpAddress.IsLandmark == true)
        //                    {
        //                        Landmark = "Yes";
        //                    }
        //                    else
        //                    {
        //                        Landmark = "No";
        //                    }

        //                    if (updateJobDocumentField == null)
        //                    {
        //                        JobDocumentField JobDocumentField = new JobDocumentField
        //                        {
        //                            IdJobDocument = idJobDocument,
        //                            IdDocumentField = Convert.ToInt32(item.Id),
        //                            Value = Landmark,
        //                            ActualValue = Landmark
        //                        };
        //                        rpoContext.JobDocumentFields.Add(JobDocumentField);
        //                    }
        //                    else
        //                    {
        //                        updateJobDocumentField.Value = Landmark;
        //                        updateJobDocumentField.ActualValue = Landmark;
        //                        rpoContext.Entry(updateJobDocumentField).State = EntityState.Modified;
        //                        rpoContext.SaveChanges();
        //                    }
        //                }
        //                else if (item.Field.FieldName == "flood_area")
        //                {
        //                    string val = string.Empty;
        //                    if (job != null && job.RfpAddress != null && job.RfpAddress.SpecialFloodHazardAreaCheck == true)
        //                    {
        //                        val = "Yes";
        //                    }
        //                    else
        //                    {
        //                        val = "No";
        //                    }

        //                    if (updateJobDocumentField == null)
        //                    {
        //                        JobDocumentField JobDocumentField = new JobDocumentField
        //                        {
        //                            IdJobDocument = idJobDocument,
        //                            IdDocumentField = Convert.ToInt32(item.Id),
        //                            Value = val,
        //                            ActualValue = val
        //                        };
        //                        rpoContext.JobDocumentFields.Add(JobDocumentField);
        //                    }
        //                    else
        //                    {
        //                        updateJobDocumentField.Value = val;
        //                        updateJobDocumentField.ActualValue = val;
        //                        rpoContext.Entry(updateJobDocumentField).State = EntityState.Modified;
        //                        rpoContext.SaveChanges();
        //                    }
        //                }
        //                else if (item.Field.FieldName == "name_applicant_print")
        //                {
        //                    if (updateJobDocumentField == null)
        //                    {
        //                        JobDocumentField JobDocumentField = new JobDocumentField
        //                        {
        //                            IdJobDocument = idJobDocument,
        //                            IdDocumentField = Convert.ToInt32(item.Id),
        //                            Value = applicantName,
        //                            ActualValue = applicantName
        //                        };
        //                        rpoContext.JobDocumentFields.Add(JobDocumentField);
        //                    }
        //                    else
        //                    {
        //                        updateJobDocumentField.Value = applicantName;
        //                        updateJobDocumentField.ActualValue = applicantName;
        //                        rpoContext.Entry(updateJobDocumentField).State = EntityState.Modified;
        //                        rpoContext.SaveChanges();
        //                    }
        //                }
        //                else if (item.Field.FieldName == "name_owner_print")
        //                {
        //                    string val = job != null && job.RfpAddress != null && job.RfpAddress.OwnerContact != null ? job.RfpAddress.OwnerContact.FirstName + " " + job.RfpAddress.OwnerContact.LastName : string.Empty;

        //                    if (updateJobDocumentField == null)
        //                    {
        //                        JobDocumentField JobDocumentField = new JobDocumentField
        //                        {
        //                            IdJobDocument = idJobDocument,
        //                            IdDocumentField = Convert.ToInt32(item.Id),
        //                            Value = val,
        //                            ActualValue = val
        //                        };
        //                        rpoContext.JobDocumentFields.Add(JobDocumentField);
        //                    }
        //                    else
        //                    {
        //                        updateJobDocumentField.Value = val;
        //                        updateJobDocumentField.ActualValue = val;
        //                        rpoContext.Entry(updateJobDocumentField).State = EntityState.Modified;
        //                        rpoContext.SaveChanges();
        //                    }
        //                }
        //                else if (item.Field.FieldName == "last_name_owner")
        //                {
        //                    string val = job != null && job.RfpAddress != null && job.RfpAddress.OwnerContact != null ? job.RfpAddress.OwnerContact.LastName : string.Empty;

        //                    if (updateJobDocumentField == null)
        //                    {
        //                        JobDocumentField JobDocumentField = new JobDocumentField
        //                        {
        //                            IdJobDocument = idJobDocument,
        //                            IdDocumentField = Convert.ToInt32(item.Id),
        //                            Value = val,
        //                            ActualValue = val
        //                        };
        //                        rpoContext.JobDocumentFields.Add(JobDocumentField);
        //                    }
        //                    else
        //                    {
        //                        updateJobDocumentField.Value = val;
        //                        updateJobDocumentField.ActualValue = val;
        //                        rpoContext.Entry(updateJobDocumentField).State = EntityState.Modified;
        //                        rpoContext.SaveChanges();
        //                    }
        //                }
        //                else if (item.Field.FieldName == "first_name_owner")
        //                {
        //                    string val = job != null && job.RfpAddress != null && job.RfpAddress.OwnerContact != null ? job.RfpAddress.OwnerContact.FirstName : string.Empty;

        //                    if (updateJobDocumentField == null)
        //                    {
        //                        JobDocumentField JobDocumentField = new JobDocumentField
        //                        {
        //                            IdJobDocument = idJobDocument,
        //                            IdDocumentField = Convert.ToInt32(item.Id),
        //                            Value = val,
        //                            ActualValue = val
        //                        };
        //                        rpoContext.JobDocumentFields.Add(JobDocumentField);
        //                    }
        //                    else
        //                    {
        //                        updateJobDocumentField.Value = val;
        //                        updateJobDocumentField.ActualValue = val;
        //                        rpoContext.Entry(updateJobDocumentField).State = EntityState.Modified;
        //                        rpoContext.SaveChanges();
        //                    }
        //                }
        //                else if (item.Field.FieldName == "owner_bus_phone")
        //                {
        //                    string ownerPhone = job != null && job.RfpAddress != null && job.RfpAddress.OwnerContact != null ? job.RfpAddress.OwnerContact.WorkPhone : string.Empty;
        //                    if (ownerPhone == null || ownerPhone == "")
        //                    {
        //                        ownerPhone = job != null && job.RfpAddress != null && job.RfpAddress.OwnerContact != null ? job.RfpAddress.OwnerContact.MobilePhone : string.Empty;
        //                    }
        //                    if (docuementType == "Post Approval Amendment")
        //                    {
        //                        ownerPhone = string.Empty;
        //                    }
        //                    if (updateJobDocumentField == null)
        //                    {
        //                        JobDocumentField JobDocumentField = new JobDocumentField
        //                        {
        //                            IdJobDocument = idJobDocument,
        //                            IdDocumentField = Convert.ToInt32(item.Id),
        //                            Value = ownerPhone,
        //                            ActualValue = ownerPhone
        //                        };
        //                        rpoContext.JobDocumentFields.Add(JobDocumentField);
        //                    }
        //                    else
        //                    {
        //                        updateJobDocumentField.Value = ownerPhone;
        //                        updateJobDocumentField.ActualValue = ownerPhone;
        //                        rpoContext.Entry(updateJobDocumentField).State = EntityState.Modified;
        //                        rpoContext.SaveChanges();
        //                    }
        //                }
        //                else if (item.Field.FieldName == "bus_name_owner")
        //                {
        //                    Contact owner = job != null && job.RfpAddress != null && job.RfpAddress.OwnerContact != null ? job.RfpAddress.OwnerContact : null;
        //                    string val = owner != null && owner.Company != null ? owner.Company.Name : string.Empty;
        //                    if (docuementType == "Post Approval Amendment")
        //                    {
        //                        val = string.Empty;
        //                    }

        //                    if (updateJobDocumentField == null)
        //                    {
        //                        JobDocumentField JobDocumentField = new JobDocumentField
        //                        {
        //                            IdJobDocument = idJobDocument,
        //                            IdDocumentField = Convert.ToInt32(item.Id),
        //                            Value = val,
        //                            ActualValue = val
        //                        };
        //                        rpoContext.JobDocumentFields.Add(JobDocumentField);
        //                    }
        //                    else
        //                    {
        //                        updateJobDocumentField.Value = val;
        //                        updateJobDocumentField.ActualValue = val;
        //                        rpoContext.Entry(updateJobDocumentField).State = EntityState.Modified;
        //                        rpoContext.SaveChanges();
        //                    }
        //                }
        //                else if (item.Field.FieldName == "bus_add_owner")
        //                {
        //                    Address ownerAddress = new Address();
        //                    ownerAddress = job != null && job.RfpAddress != null && job.RfpAddress.OwnerContact != null && job.RfpAddress.OwnerContact.Addresses != null ? job.RfpAddress.OwnerContact.Addresses.FirstOrDefault(x => x.IsMainAddress == true) : null;
        //                    if (job != null && job.RfpAddress != null && job.RfpAddress.OwnerContact != null && job.RfpAddress.OwnerContact != null && job.RfpAddress.OwnerContact.IsPrimaryCompanyAddress == true)
        //                    {
        //                        int? company_id = job != null && job.RfpAddress != null && job.RfpAddress.OwnerContact != null && job.RfpAddress.OwnerContact != null && job.RfpAddress.OwnerContact != null ? job.RfpAddress.OwnerContact.IdCompany : 0;
        //                        ownerAddress = job != null && job.RfpAddress != null && job.RfpAddress.OwnerContact != null && job.RfpAddress.OwnerContact.Addresses != null && job.RfpAddress.OwnerContact.Company != null ? job.RfpAddress.OwnerContact.Company.Addresses.FirstOrDefault(x => x.IdCompany == company_id) : null;
        //                    }
        //                    string val = ownerAddress != null ? ownerAddress.Address1 + " " + ownerAddress.Address2 : string.Empty;
        //                    if (docuementType == "Post Approval Amendment")
        //                    {
        //                        val = string.Empty;
        //                    }
        //                    if (updateJobDocumentField == null)
        //                    {
        //                        JobDocumentField JobDocumentField = new JobDocumentField
        //                        {
        //                            IdJobDocument = idJobDocument,
        //                            IdDocumentField = Convert.ToInt32(item.Id),
        //                            Value = val,
        //                            ActualValue = val
        //                        };
        //                        rpoContext.JobDocumentFields.Add(JobDocumentField);
        //                    }
        //                    else
        //                    {
        //                        updateJobDocumentField.Value = val;
        //                        updateJobDocumentField.ActualValue = val;
        //                        rpoContext.Entry(updateJobDocumentField).State = EntityState.Modified;
        //                        rpoContext.SaveChanges();
        //                    }
        //                }
        //                else if (item.Field.FieldName == "city_owner")
        //                {
        //                    Address ownerAddress = new Address();
        //                    ownerAddress = job != null && job.RfpAddress != null && job.RfpAddress.OwnerContact != null && job.RfpAddress.OwnerContact.Addresses != null ? job.RfpAddress.OwnerContact.Addresses.FirstOrDefault(x => x.IsMainAddress == true) : null;
        //                    if (job != null && job.RfpAddress != null && job.RfpAddress.OwnerContact != null && job.RfpAddress.OwnerContact != null && job.RfpAddress.OwnerContact.IsPrimaryCompanyAddress == true)
        //                    {
        //                        int? company_id = job != null && job.RfpAddress != null && job.RfpAddress.OwnerContact != null && job.RfpAddress.OwnerContact != null && job.RfpAddress.OwnerContact != null ? job.RfpAddress.OwnerContact.IdCompany : 0;
        //                        ownerAddress = job != null && job.RfpAddress != null && job.RfpAddress.OwnerContact != null && job.RfpAddress.OwnerContact.Addresses != null && job.RfpAddress.OwnerContact.Company != null ? job.RfpAddress.OwnerContact.Company.Addresses.FirstOrDefault(x => x.IdCompany == company_id) : null;
        //                    }
        //                    string val = ownerAddress != null ? ownerAddress.City : string.Empty;
        //                    if (docuementType == "Post Approval Amendment")
        //                    {
        //                        val = string.Empty;
        //                    }
        //                    if (updateJobDocumentField == null)
        //                    {
        //                        JobDocumentField JobDocumentField = new JobDocumentField
        //                        {
        //                            IdJobDocument = idJobDocument,
        //                            IdDocumentField = Convert.ToInt32(item.Id),
        //                            Value = val,
        //                            ActualValue = val
        //                        };
        //                        rpoContext.JobDocumentFields.Add(JobDocumentField);
        //                    }
        //                    else
        //                    {
        //                        updateJobDocumentField.Value = val;
        //                        updateJobDocumentField.ActualValue = val;
        //                        rpoContext.Entry(updateJobDocumentField).State = EntityState.Modified;
        //                        rpoContext.SaveChanges();
        //                    }
        //                }
        //                else if (item.Field.FieldName == "state_owner")
        //                {
        //                    Address ownerAddress = new Address();
        //                    ownerAddress = job != null && job.RfpAddress != null && job.RfpAddress.OwnerContact != null && job.RfpAddress.OwnerContact.Addresses != null ? job.RfpAddress.OwnerContact.Addresses.FirstOrDefault(x => x.IsMainAddress == true) : null;
        //                    if (job != null && job.RfpAddress != null && job.RfpAddress.OwnerContact != null && job.RfpAddress.OwnerContact != null && job.RfpAddress.OwnerContact.IsPrimaryCompanyAddress == true)
        //                    {
        //                        int? company_id = job != null && job.RfpAddress != null && job.RfpAddress.OwnerContact != null && job.RfpAddress.OwnerContact != null && job.RfpAddress.OwnerContact != null ? job.RfpAddress.OwnerContact.IdCompany : 0;
        //                        ownerAddress = job != null && job.RfpAddress != null && job.RfpAddress.OwnerContact != null && job.RfpAddress.OwnerContact.Addresses != null && job.RfpAddress.OwnerContact.Company != null ? job.RfpAddress.OwnerContact.Company.Addresses.FirstOrDefault(x => x.IdCompany == company_id) : null;
        //                    }

        //                    string val = ownerAddress != null && ownerAddress.State != null ? ownerAddress.State.Acronym : string.Empty;
        //                    if (docuementType == "Post Approval Amendment")
        //                    {
        //                        val = string.Empty;
        //                    }
        //                    if (updateJobDocumentField == null)
        //                    {
        //                        JobDocumentField JobDocumentField = new JobDocumentField
        //                        {
        //                            IdJobDocument = idJobDocument,
        //                            IdDocumentField = Convert.ToInt32(item.Id),
        //                            Value = val,
        //                            ActualValue = val
        //                        };
        //                        rpoContext.JobDocumentFields.Add(JobDocumentField);
        //                    }
        //                    else
        //                    {
        //                        updateJobDocumentField.Value = val;
        //                        updateJobDocumentField.ActualValue = val;
        //                        rpoContext.Entry(updateJobDocumentField).State = EntityState.Modified;
        //                        rpoContext.SaveChanges();
        //                    }
        //                }
        //                else if (item.Field.FieldName == "zip_owner")
        //                {
        //                    Address ownerAddress = new Address();
        //                    ownerAddress = job != null && job.RfpAddress != null && job.RfpAddress.OwnerContact != null && job.RfpAddress.OwnerContact.Addresses != null ? job.RfpAddress.OwnerContact.Addresses.FirstOrDefault(x => x.IsMainAddress == true) : null;
        //                    if (job != null && job.RfpAddress != null && job.RfpAddress.OwnerContact != null && job.RfpAddress.OwnerContact != null && job.RfpAddress.OwnerContact.IsPrimaryCompanyAddress == true)
        //                    {
        //                        int? company_id = job != null && job.RfpAddress != null && job.RfpAddress.OwnerContact != null && job.RfpAddress.OwnerContact != null && job.RfpAddress.OwnerContact != null ? job.RfpAddress.OwnerContact.IdCompany : 0;
        //                        ownerAddress = job != null && job.RfpAddress != null && job.RfpAddress.OwnerContact != null && job.RfpAddress.OwnerContact.Addresses != null && job.RfpAddress.OwnerContact.Company != null ? job.RfpAddress.OwnerContact.Company.Addresses.FirstOrDefault(x => x.IdCompany == company_id) : null;
        //                    }

        //                    string val = ownerAddress != null ? ownerAddress.ZipCode : string.Empty;
        //                    if (docuementType == "Post Approval Amendment")
        //                    {
        //                        val = string.Empty;
        //                    }
        //                    if (updateJobDocumentField == null)
        //                    {
        //                        JobDocumentField JobDocumentField = new JobDocumentField
        //                        {
        //                            IdJobDocument = idJobDocument,
        //                            IdDocumentField = Convert.ToInt32(item.Id),
        //                            Value = val,
        //                            ActualValue = val
        //                        };
        //                        rpoContext.JobDocumentFields.Add(JobDocumentField);
        //                    }
        //                    else
        //                    {
        //                        updateJobDocumentField.Value = val;
        //                        updateJobDocumentField.ActualValue = val;
        //                        rpoContext.Entry(updateJobDocumentField).State = EntityState.Modified;
        //                        rpoContext.SaveChanges();
        //                    }
        //                }
        //                else if (item.Field.FieldName == "email_owner")
        //                {
        //                    string val = job != null && job.RfpAddress != null && job.RfpAddress.OwnerContact != null ? job.RfpAddress.OwnerContact.Email : string.Empty;
        //                    if (docuementType == "Post Approval Amendment")
        //                    {
        //                        val = string.Empty;
        //                    }

        //                    if (updateJobDocumentField == null)
        //                    {
        //                        JobDocumentField JobDocumentField = new JobDocumentField
        //                        {
        //                            IdJobDocument = idJobDocument,
        //                            IdDocumentField = Convert.ToInt32(item.Id),
        //                            Value = val,
        //                            ActualValue = val
        //                        };
        //                        rpoContext.JobDocumentFields.Add(JobDocumentField);
        //                    }
        //                    else
        //                    {
        //                        updateJobDocumentField.Value = val;
        //                        updateJobDocumentField.ActualValue = val;
        //                        rpoContext.Entry(updateJobDocumentField).State = EntityState.Modified;
        //                        rpoContext.SaveChanges();
        //                    }
        //                }
        //                else if (item.Field.FieldName == "job_desc")
        //                {
        //                    string val = job != null && job.RfpAddress != null && job.RfpAddress.OwnerContact != null ? job.RfpAddress.OwnerContact.FirstName : string.Empty;

        //                    if (updateJobDocumentField == null)
        //                    {
        //                        JobDocumentField JobDocumentField = new JobDocumentField
        //                        {
        //                            IdJobDocument = idJobDocument,
        //                            IdDocumentField = Convert.ToInt32(item.Id),
        //                            Value = desc,
        //                            ActualValue = desc
        //                        };
        //                        rpoContext.JobDocumentFields.Add(JobDocumentField);
        //                    }
        //                    else
        //                    {
        //                        updateJobDocumentField.Value = desc;
        //                        updateJobDocumentField.ActualValue = desc;
        //                        rpoContext.Entry(updateJobDocumentField).State = EntityState.Modified;
        //                        rpoContext.SaveChanges();
        //                    }
        //                }

        //                rpoContext.SaveChanges();
        //            }
        //            else
        //            {

        //                if (item.Field.FieldName == "Application")
        //                {
        //                    int jobApplicantId = Convert.ToInt32(frontendFields.Value);
        //                    JobApplication jobApplication = rpoContext.JobApplications.FirstOrDefault(x => x.Id == jobApplicantId);
        //                    // ApplicationType = jobApplication != null && jobApplication.JobApplicationType != null ? jobApplication.JobApplicationType.Description : string.Empty;
        //                    ApplicationType = rpoContext.JobApplicationTypes.Where(x => x.Id == jobApplication.IdJobApplicationType).Select(x => x.Description).FirstOrDefault();

        //                    applicationNumber = jobApplication != null ? jobApplication.ApplicationNumber : string.Empty;
        //                    floorWorkingOn = jobApplication != null ? jobApplication.FloorWorking : string.Empty;


        //                    List<int> workTypesLst = (from p in rpoContext.JobApplicationWorkPermitTypes where p.IdJobApplication == jobApplication.Id select p.Id).ToList();


        //                    var jobApplicationWorkPermitType = rpoContext.JobApplicationWorkPermitTypes
        //                                                                .Include("JobWorkType")
        //                                                                .Where(x => workTypesLst.Contains(x.Id))
        //                                                                .Select(x => new
        //                                                                {
        //                                                                    Permittype = x.PermitType != null && x.PermitType != "" ? x.PermitType : x.JobWorkType.Description,
        //                                                                    PermitTypeCode = x.Code,
        //                                                                    Fees = x.PermitType != null && x.PermitType != "" ? x.EstimatedCost : x.EstimatedCost,
        //                                                                    WorkDescription = x.JobWorkType.Content != "" ? x.WorkDescription.Trim() : string.Empty
        //                                                                }).ToList();
        //                    //Fees = x.PermitType != null && x.PermitType != "" ? x.RenewalFee : x.EstimatedCost

        //                    string permitType = jobApplicationWorkPermitType != null ? String.Join(",", jobApplicationWorkPermitType.Select(x => x.Permittype)) : string.Empty;
        //                    permitTypecode = jobApplicationWorkPermitType != null ? String.Join(",", jobApplicationWorkPermitType.Select(x => x.PermitTypeCode)) : string.Empty;
        //                    string fees = jobApplicationWorkPermitType != null ? String.Join(",", jobApplicationWorkPermitType.Select(x => x.Fees)) : string.Empty;
        //                    //  string fees1 = 0;
        //                    double? d = 0;
        //                    //string desc = string.Empty;
        //                    // documentDescription = documentDescription + (!string.IsNullOrEmpty(permitType) ? "Work Type: " + permitType : string.Empty);
        //                    foreach (var item1 in jobApplicationWorkPermitType)
        //                    {
        //                        if (jobApplicationWorkPermitType.Count > 1)
        //                        {
        //                            d = d + (item1.Fees == null ? 0 : item1.Fees);
        //                            if (!string.IsNullOrEmpty(item1.WorkDescription))
        //                            {
        //                                string output = item1.WorkDescription.Trim().Substring(item1.WorkDescription.Trim().Length - 1, 1);
        //                                if (output == ".")
        //                                {
        //                                    desc = desc + item1.PermitTypeCode + " : " + item1.WorkDescription;
        //                                }
        //                                else
        //                                {
        //                                    desc = desc + item1.PermitTypeCode + " : " + item1.WorkDescription + ". ";
        //                                }
        //                            }
        //                        }
        //                        else
        //                        {
        //                            d = d + (item1.Fees == null ? 0 : item1.Fees);
        //                            if (!string.IsNullOrEmpty(item1.WorkDescription))
        //                            {
        //                                string output = item1.WorkDescription.Trim().Substring(item1.WorkDescription.Trim().Length - 1, 1);

        //                                if (output == ".")
        //                                {
        //                                    desc = desc + item1.PermitTypeCode + " : " + item1.WorkDescription;
        //                                }
        //                                else
        //                                {
        //                                    desc = desc + item1.PermitTypeCode + " : " + item1.WorkDescription + ". ";
        //                                }
        //                            }
        //                        }

        //                    }


        //                    if (updateJobDocumentField == null)
        //                    {
        //                        JobDocumentField JobDocumentField = new JobDocumentField
        //                        {
        //                            IdJobDocument = idJobDocument,
        //                            IdDocumentField = Convert.ToInt32(item.Id),
        //                            Value = frontendFields.Value,
        //                            ActualValue = applicationNumber
        //                        };
        //                        rpoContext.JobDocumentFields.Add(JobDocumentField);
        //                    }
        //                    else
        //                    {
        //                        updateJobDocumentField.Value = frontendFields.Value;
        //                        updateJobDocumentField.ActualValue = applicationNumber;
        //                        rpoContext.Entry(updateJobDocumentField).State = EntityState.Modified;
        //                        rpoContext.SaveChanges();
        //                    }
        //                }

        //                else if (item.Field.FieldName == "Applicant")
        //                {
        //                    int certifierid = Convert.ToInt32(frontendFields.Value);

        //                    JobContact jobContact = rpoContext.JobContacts.Where(x => x.Id == certifierid).FirstOrDefault();

        //                    applicantName = jobContact != null && jobContact.Contact != null ? jobContact.Contact.FirstName + " " + jobContact.Contact.LastName : string.Empty;
        //                    applicantFirstName = jobContact != null && jobContact.Contact != null ? jobContact.Contact.FirstName : string.Empty;
        //                    applicantMiddleName = jobContact != null && jobContact.Contact != null ? jobContact.Contact.MiddleName : string.Empty;
        //                    applicantLastName = jobContact != null && jobContact.Contact != null ? jobContact.Contact.LastName : string.Empty;
        //                    contactcompany = jobContact != null && jobContact.Contact != null && jobContact.Contact.Company != null ? jobContact.Contact.Company.Name : string.Empty;
        //                    // Address compnayAddress = jobContact != null && jobContact.Company != null && jobContact.Company.Addresses != null ? jobContact.Company.Addresses.OrderBy(x => x.AddressType.DisplayOrder).FirstOrDefault() : null;
        //                    Address compnayAddress = Common.GetContactAddressForJobDocument(jobContact);
        //                    businessAddress = compnayAddress != null ? compnayAddress.Address1 + " " + compnayAddress.Address2 : string.Empty;
        //                    businessCity = compnayAddress != null ? compnayAddress.City : string.Empty;
        //                    businessState = compnayAddress != null && compnayAddress.State != null ? compnayAddress.State.Acronym : string.Empty;
        //                    businessZip = compnayAddress != null ? compnayAddress.ZipCode : string.Empty;

        //                    contactMobilePhone = Common.GetContactPhoneNumberForJobDocument(jobContact);
        //                    //!= null && jobContact.Contact != null ? jobContact.Contact.MobilePhone : string.Empty;
        //                    contactEmail = jobContact != null ? jobContact.Contact.Email : string.Empty;
        //                    applicantmobilenumber = jobContact != null ? jobContact.Contact.MobilePhone : string.Empty;

        //                    string licenceTypeNumber = jobContact != null && jobContact.Contact != null && jobContact.Contact.ContactLicenses != null && jobContact.Contact.ContactLicenses.Count > 0 ?
        //                         jobContact.Contact.ContactLicenses.Select(x => x.Number).FirstOrDefault() : string.Empty;
        //                    if (!string.IsNullOrEmpty(licenceTypeNumber))
        //                    {
        //                        ContactLicense contactLicenseType = rpoContext.ContactLicenses.Where(a => a.Number == licenceTypeNumber).FirstOrDefault();
        //                        ContactLicenseType LicenseType = rpoContext.ContactLicenseTypes.Where(b => b.Id == contactLicenseType.IdContactLicenseType).FirstOrDefault();
        //                        if (LicenseType.Name == "Engineer")
        //                        {
        //                            contactLic_state_engineer = "pe";
        //                            contactLic_No = licenceTypeNumber;
        //                        }
        //                        else if (LicenseType.Name == "Architect")
        //                        {
        //                            contactLic_state_engineer = "ra";
        //                            contactLic_No = licenceTypeNumber;
        //                        }
        //                    }
        //                    else
        //                    {
        //                        licenceTypeNumber = jobContact != null && jobContact.Contact != null && jobContact.Contact.ContactLicenses != null && jobContact.Contact.ContactLicenses.Count > 0 ?
        //                        jobContact.Contact.ContactLicenses.Select(x => x.ContactLicenseType.Name).FirstOrDefault() : string.Empty;
        //                        if (licenceTypeNumber.ToLower() == ("Engineer").ToLower())
        //                        {
        //                            contactLic_state_engineer = "pe";
        //                        }
        //                        else if (licenceTypeNumber.ToLower() == ("Architect").ToLower())
        //                        {
        //                            contactLic_state_engineer = "ra";
        //                        }
        //                    }
        //                    contactTitle = jobContact != null && jobContact.Contact != null && jobContact.Contact.ContactTitle != null ? jobContact.Contact.ContactTitle.Name : string.Empty;
        //                    documentDescription = documentDescription + (!string.IsNullOrEmpty(documentDescription) && !string.IsNullOrEmpty(applicantFirstName + " " + applicantLastName) ? " | " : string.Empty) + (!string.IsNullOrEmpty(applicantFirstName + " " + applicantLastName) ? "Applicant: " + applicantFirstName + " " + applicantLastName : string.Empty);

        //                    if (updateJobDocumentField == null)
        //                    {
        //                        JobDocumentField JobDocumentField = new JobDocumentField
        //                        {
        //                            IdJobDocument = idJobDocument,
        //                            IdDocumentField = frontendFields.IdDocumentField,
        //                            Value = frontendFields.Value,
        //                            ActualValue = applicantLastName
        //                        };
        //                        rpoContext.JobDocumentFields.Add(JobDocumentField);
        //                        rpoContext.SaveChanges();
        //                    }
        //                    else
        //                    {
        //                        updateJobDocumentField.Value = frontendFields.Value;
        //                        updateJobDocumentField.ActualValue = applicantLastName;
        //                        rpoContext.Entry(updateJobDocumentField).State = EntityState.Modified;
        //                        rpoContext.SaveChanges();
        //                    }
        //                }

        //                else if (item.Field.FieldName == "Filing Representative")
        //                {
        //                    int idFilingRepresentative = Convert.ToInt32(frontendFields.Value);
        //                    //Employee employee = rpoContext.Employees.Where(x => x.Id == idFilingRepresentative).FirstOrDefault();
        //                    Employee employee = Common.GetEmployeeInformation(idFilingRepresentative);

        //                    filingRepresentativefirstname = employee != null ? employee.FirstName : string.Empty;
        //                    filingRepresentativelastname = employee != null ? employee.LastName : string.Empty;
        //                    frfirstname = employee != null ? employee.FirstName : string.Empty;
        //                    frLastname = employee != null ? employee.LastName : string.Empty;

        //                    filingRepresentativeCompany = "RPO INC";
        //                    filingRepresentativeaddress = employee != null ? employee.Address1 : string.Empty;
        //                    filingRepresentativePhone = employee != null ? employee.WorkPhone : string.Empty;
        //                    filingRepresentativeEmail = employee != null ? employee.Email : string.Empty;
        //                    filingRepresentativestate = employee != null ? employee.State.Acronym : string.Empty;
        //                    filingRepresentativecity = employee != null ? employee.City : string.Empty;
        //                    filingRepresentativezip = employee != null ? employee.ZipCode : string.Empty;
        //                    filingRepresentativemobile = employee != null ? employee.MobilePhone : string.Empty;
        //                    //  filingRepresentativeEmail = employee != null ? employee.Email : string.Empty;

        //                    string filingRepresentative = employee != null ? employee.FirstName + " " + employee.LastName : string.Empty;

        //                    AgentCertificate agentCertificate = rpoContext.AgentCertificates
        //                    .Include("DocumentType").FirstOrDefault(x => x.IdEmployee == idFilingRepresentative && x.DocumentType.Name.Equals("DOB Filing Representative"));
        //                    filingRepresentativRegnumber = agentCertificate != null ? agentCertificate.NumberId : string.Empty;
        //                    // documentDescription = documentDescription + (!string.IsNullOrEmpty(filingRepresentative) ? "Filing Representative: " + filingRepresentative : string.Empty);

        //                    documentDescription = documentDescription + (!string.IsNullOrEmpty(frfirstname) && !string.IsNullOrEmpty(frLastname) ? " | Filing Representative: " + frfirstname + " " + frLastname : string.Empty);
        //                    updateJobDocumentField = jobDocumentFieldList.FirstOrDefault(x => x.IdDocumentField == item.Id);
        //                    if (updateJobDocumentField == null)
        //                    {
        //                        JobDocumentField JobDocumentField = new JobDocumentField
        //                        {
        //                            IdJobDocument = idJobDocument,
        //                            IdDocumentField = Convert.ToInt32(item.Id),
        //                            Value = frontendFields.Value,
        //                            ActualValue = filingRepresentative,

        //                        };
        //                        rpoContext.JobDocumentFields.Add(JobDocumentField);
        //                    }
        //                    else
        //                    {
        //                        updateJobDocumentField.Value = frontendFields.Value;
        //                        updateJobDocumentField.ActualValue = filingRepresentative;
        //                        rpoContext.Entry(updateJobDocumentField).State = EntityState.Modified;
        //                        rpoContext.SaveChanges();
        //                    }
        //                }

        //                else
        //                {
        //                    if (updateJobDocumentField == null)
        //                    {
        //                        JobDocumentField JobDocumentField = new JobDocumentField
        //                        {
        //                            IdJobDocument = idJobDocument,
        //                            IdDocumentField = frontendFields.IdDocumentField,
        //                            Value = frontendFields.Value
        //                        };
        //                        rpoContext.JobDocumentFields.Add(JobDocumentField);
        //                        rpoContext.SaveChanges();
        //                    }
        //                    else
        //                    {
        //                        updateJobDocumentField.Value = frontendFields.Value;
        //                        rpoContext.Entry(updateJobDocumentField).State = EntityState.Modified;
        //                        rpoContext.SaveChanges();
        //                    }
        //                }
        //            }
        //        }
        //    }
        //    jobDocument.DocumentDescription = documentDescription;
        //    jobDocument.JobDocumentFor = jobDocumentFor;
        //    rpoContext.SaveChanges();
        //    GenerateJobDocument(idJobDocument);


        //}


        //public static void EditApplicationfortechmgmtplanexamination2019(int idJobDocument, JobDocumentCreateOrUpdateDTO jobDocumentCreateOrUpdateDTO)
        //{
        //    RpoContext rpoContext = new RpoContext();
        //    var documentFieldList = rpoContext.DocumentFields.Include("Field").Where(x => x.IdDocument == jobDocumentCreateOrUpdateDTO.IdDocument).OrderByDescending(x => x.Field.IsDisplayInFrontend).ThenBy(x => x.DisplayOrder).ToList();
        //    JobDocument jobDocument = rpoContext.JobDocuments.FirstOrDefault(x => x.Id == idJobDocument);
        //    string documentDescription = string.Empty;
        //    string jobDocumentFor = string.Empty;
        //    List<IdItemName> FieldsValue = new List<IdItemName>();
        //    List<string> pdfFields = new List<string>();
        //    List<int> DocumentFieldsIds = new List<int>();

        //    if (documentFieldList != null && documentFieldList.Count > 0)
        //    {
        //        Job job = rpoContext.Jobs.Include("ProjectManager").
        //            Include("Contact.ContactTitle").
        //            Include("RfpAddress.Borough").
        //            Include("Company.Addresses.AddressType").
        //            Include("Company.Addresses.State")
        //            .Where(x => x.Id == jobDocumentCreateOrUpdateDTO.IdJob).FirstOrDefault();

        //        string contactName = string.Empty;
        //        string licenceName = string.Empty;
        //        string contactName2 = string.Empty;
        //        string companyName2 = string.Empty;
        //        string location2 = string.Empty;
        //        string docuementType = string.Empty;
        //        string floorWorkingOn = string.Empty;
        //        string applicantFirstName = string.Empty;
        //        string applicantMiddleName = string.Empty;
        //        string applicantLastName = string.Empty;
        //        string contactcompany = string.Empty;
        //        string businessAddress = string.Empty;
        //        //   string businessAddress = string.Empty;
        //        string businessCity = string.Empty;
        //        string businessState = string.Empty;
        //        string businessZip = string.Empty;
        //        string contactMobilePhone = string.Empty;
        //        string contactEmail = string.Empty;
        //        string contactTitle = string.Empty;
        //        string documentType = string.Empty;
        //        string documentName = string.Empty;
        //        //   string contactcompany = string.Empty;
        //        string applicantmobilenumber = string.Empty;
        //        string contactLic_state_engineer = string.Empty;
        //        string contactLic_state_architect = string.Empty;
        //        string contactLic_No = string.Empty;
        //        string filingRepresentativeCompany = string.Empty;
        //        string filingRepresentativePhone = string.Empty;
        //        string filingRepresentativeEmail = string.Empty;

        //        string filingRepresentativeCompany2 = string.Empty;
        //        string filingRepresentativePhone2 = string.Empty;
        //        string filingRepresentativeEmail2 = string.Empty;


        //        string filingRepresentativeCompany3 = string.Empty;
        //        string filingRepresentativePhone3 = string.Empty;
        //        string filingRepresentativeEmail3 = string.Empty;


        //        string filingRepresentativefirstname = string.Empty;
        //        string frfirstname = string.Empty;
        //        string frLastname = string.Empty;
        //        string filingRepresentative2firstname = string.Empty;
        //        string filingRepresentativef3irstname = string.Empty;
        //        string filingRepresentativelastname = string.Empty;
        //        string filingRepresentative2lastname = string.Empty;
        //        string filingRepresentative3lastname = string.Empty;
        //        string filingRepresentativeaddress = string.Empty;
        //        string filingRepresentativecity = string.Empty;
        //        string filingRepresentativestate = string.Empty;
        //        string filingRepresentativezip = string.Empty;
        //        string filingRepresentativemobile = string.Empty;
        //        string filingRepresentativeemail = string.Empty;
        //        string filingRepresentativRegnumber = string.Empty;
        //        string[] permitTypecodeArr = new string[20];
        //        string permitTypecode = string.Empty;
        //        string estfees = string.Empty;
        //        string LR_Name = string.Empty;
        //        string LR_Relationship = string.Empty;
        //        string LR_Company = string.Empty;
        //        string LR_Address = string.Empty;
        //        string LR_City = string.Empty;
        //        string LR_State = string.Empty;
        //        string LR_Zip = string.Empty;
        //        string LR_Phone = string.Empty;
        //        string LR_Fax = string.Empty;
        //        string LR_EMail = string.Empty;
        //        string applicantName = string.Empty;
        //        string comments = string.Empty;
        //        string applicationNumber = string.Empty;
        //        string ApplicationType = string.Empty;
        //        string desc = string.Empty;
        //        var jobDocumentFieldList = rpoContext.JobDocumentFields.Where(x => x.IdJobDocument == idJobDocument).ToList();
        //        foreach (DocumentField item in documentFieldList)
        //        {
        //            JobDocumentField updateJobDocumentField = jobDocumentFieldList.FirstOrDefault(x => x.IdDocumentField == item.Id);
        //            var frontendFields = jobDocumentCreateOrUpdateDTO.JobDocumentFields.FirstOrDefault(x => x.IdDocumentField == item.Id);
        //            if (frontendFields == null)
        //            {
        //                if (item.Field.FieldName == "JobFileInfo")
        //                {
        //                    string jobFileInfo = job != null ? job.JobNumber + " - TM-1.pdf" : string.Empty;
        //                    if (updateJobDocumentField == null)
        //                    {
        //                        JobDocumentField JobDocumentField = new JobDocumentField
        //                        {
        //                            IdJobDocument = idJobDocument,
        //                            IdDocumentField = Convert.ToInt32(item.Id),
        //                            Value = jobFileInfo,
        //                            ActualValue = jobFileInfo
        //                        };
        //                        rpoContext.JobDocumentFields.Add(JobDocumentField);
        //                    }
        //                    else
        //                    {
        //                        updateJobDocumentField.Value = jobFileInfo;
        //                        updateJobDocumentField.ActualValue = jobFileInfo;
        //                        rpoContext.Entry(updateJobDocumentField).State = EntityState.Modified;
        //                        rpoContext.SaveChanges();
        //                    }
        //                }
        //                else if (item.Field.FieldName == "bldg_nrb")
        //                {
        //                    string houseNumber = job != null && job.RfpAddress != null ? job.RfpAddress.HouseNumber : string.Empty;
        //                    if (updateJobDocumentField == null)
        //                    {
        //                        JobDocumentField JobDocumentField = new JobDocumentField
        //                        {
        //                            IdJobDocument = idJobDocument,
        //                            IdDocumentField = Convert.ToInt32(item.Id),
        //                            Value = houseNumber,
        //                            ActualValue = houseNumber
        //                        };
        //                        rpoContext.JobDocumentFields.Add(JobDocumentField);
        //                    }
        //                    else
        //                    {
        //                        string pdffield = rpoContext.DocumentFields.Where(x => x.IdField == item.IdField).Select(x => x.PdfFields).FirstOrDefault();
        //                        pdfFields.Add(pdffield);
        //                        updateJobDocumentField.Value = houseNumber;
        //                        updateJobDocumentField.ActualValue = houseNumber;
        //                        rpoContext.Entry(updateJobDocumentField).State = EntityState.Modified;
        //                        FieldsValue.Add(new IdItemName
        //                        {
        //                            Id = pdffield,
        //                            ItemName = updateJobDocumentField.ActualValue
        //                        });
        //                        rpoContext.SaveChanges();
        //                    }
        //                }
        //                else if (item.Field.FieldName == "street")
        //                {
        //                    string houseStreet = job != null && job.RfpAddress != null ? job.RfpAddress.Street : string.Empty;
        //                    if (updateJobDocumentField == null)
        //                    {
        //                        JobDocumentField JobDocumentField = new JobDocumentField
        //                        {
        //                            IdJobDocument = idJobDocument,
        //                            IdDocumentField = Convert.ToInt32(item.Id),
        //                            Value = houseStreet,
        //                            ActualValue = houseStreet
        //                        };
        //                        rpoContext.JobDocumentFields.Add(JobDocumentField);
        //                    }
        //                    else
        //                    {
        //                        string pdffield = rpoContext.DocumentFields.Where(x => x.IdField == item.IdField).Select(x => x.PdfFields).FirstOrDefault();
        //                        pdfFields.Add(pdffield);
        //                        updateJobDocumentField.Value = houseStreet;
        //                        updateJobDocumentField.ActualValue = houseStreet;
        //                        rpoContext.Entry(updateJobDocumentField).State = EntityState.Modified;
        //                        FieldsValue.Add(new IdItemName
        //                        {
        //                            Id = pdffield,
        //                            ItemName = updateJobDocumentField.ActualValue
        //                        });
        //                        rpoContext.SaveChanges();
        //                    }
        //                }
        //                else if (item.Field.FieldName == "bin")
        //                {
        //                    string binNumber = job != null && job.RfpAddress != null ? job.RfpAddress.BinNumber : string.Empty;

        //                    if (updateJobDocumentField == null)
        //                    {
        //                        JobDocumentField JobDocumentField = new JobDocumentField
        //                        {
        //                            IdJobDocument = idJobDocument,
        //                            IdDocumentField = Convert.ToInt32(item.Id),
        //                            Value = binNumber,
        //                            ActualValue = binNumber
        //                        };
        //                        rpoContext.JobDocumentFields.Add(JobDocumentField);
        //                    }
        //                    else
        //                    {
        //                        string pdffield = rpoContext.DocumentFields.Where(x => x.IdField == item.IdField).Select(x => x.PdfFields).FirstOrDefault();
        //                        pdfFields.Add(pdffield);
        //                        updateJobDocumentField.Value = binNumber;
        //                        updateJobDocumentField.ActualValue = binNumber;
        //                        rpoContext.Entry(updateJobDocumentField).State = EntityState.Modified;
        //                        FieldsValue.Add(new IdItemName
        //                        {
        //                            Id = pdffield,
        //                            ItemName = updateJobDocumentField.ActualValue
        //                        });
        //                        rpoContext.SaveChanges();
        //                    }
        //                }
        //                else if (item.Field.FieldName == "block")
        //                {
        //                    string block = job != null && job.RfpAddress != null ? job.RfpAddress.Block : string.Empty;
        //                    if (updateJobDocumentField == null)
        //                    {
        //                        JobDocumentField JobDocumentField = new JobDocumentField
        //                        {
        //                            IdJobDocument = idJobDocument,
        //                            IdDocumentField = Convert.ToInt32(item.Id),
        //                            Value = block,
        //                            ActualValue = block
        //                        };
        //                        rpoContext.JobDocumentFields.Add(JobDocumentField);
        //                    }
        //                    else
        //                    {
        //                        string pdffield = rpoContext.DocumentFields.Where(x => x.IdField == item.IdField).Select(x => x.PdfFields).FirstOrDefault();
        //                        pdfFields.Add(pdffield);
        //                        updateJobDocumentField.Value = block;
        //                        updateJobDocumentField.ActualValue = block;
        //                        rpoContext.Entry(updateJobDocumentField).State = EntityState.Modified;
        //                        FieldsValue.Add(new IdItemName
        //                        {
        //                            Id = pdffield,
        //                            ItemName = updateJobDocumentField.ActualValue
        //                        });
        //                        rpoContext.SaveChanges();
        //                    }
        //                }
        //                else if (item.Field.FieldName == "lot")
        //                {
        //                    string lot = job != null && job.RfpAddress != null ? job.RfpAddress.Lot : string.Empty;
        //                    if (updateJobDocumentField == null)
        //                    {
        //                        JobDocumentField JobDocumentField = new JobDocumentField
        //                        {
        //                            IdJobDocument = idJobDocument,
        //                            IdDocumentField = Convert.ToInt32(item.Id),
        //                            Value = lot,
        //                            ActualValue = lot
        //                        };
        //                        rpoContext.JobDocumentFields.Add(JobDocumentField);
        //                    }
        //                    else
        //                    {
        //                        string pdffield = rpoContext.DocumentFields.Where(x => x.IdField == item.IdField).Select(x => x.PdfFields).FirstOrDefault();
        //                        pdfFields.Add(pdffield);
        //                        updateJobDocumentField.Value = lot;
        //                        updateJobDocumentField.ActualValue = lot;
        //                        rpoContext.Entry(updateJobDocumentField).State = EntityState.Modified;
        //                        FieldsValue.Add(new IdItemName
        //                        {
        //                            Id = pdffield,
        //                            ItemName = updateJobDocumentField.ActualValue
        //                        });
        //                        rpoContext.SaveChanges();
        //                    }
        //                }
        //                else if (item.Field.FieldName == "boro")
        //                {
        //                    string borough = job != null && job.RfpAddress != null && job.RfpAddress.Borough != null ? job.RfpAddress.Borough.Description : string.Empty;
        //                    if (updateJobDocumentField == null)
        //                    {
        //                        JobDocumentField JobDocumentField = new JobDocumentField
        //                        {
        //                            IdJobDocument = idJobDocument,
        //                            IdDocumentField = Convert.ToInt32(item.Id),
        //                            Value = borough,
        //                            ActualValue = borough
        //                        };
        //                        rpoContext.JobDocumentFields.Add(JobDocumentField);
        //                    }
        //                    else
        //                    {
        //                        string pdffield = rpoContext.DocumentFields.Where(x => x.IdField == item.IdField).Select(x => x.PdfFields).FirstOrDefault();
        //                        pdfFields.Add(pdffield);
        //                        updateJobDocumentField.Value = borough;
        //                        updateJobDocumentField.ActualValue = borough;
        //                        rpoContext.Entry(updateJobDocumentField).State = EntityState.Modified;
        //                        FieldsValue.Add(new IdItemName
        //                        {
        //                            Id = pdffield,
        //                            ItemName = updateJobDocumentField.ActualValue
        //                        });
        //                        rpoContext.SaveChanges();
        //                    }
        //                }
        //                else if (item.Field.FieldName == "zip")
        //                {
        //                    string zipCode = job != null && job.RfpAddress != null ? job.RfpAddress.ZipCode : string.Empty;
        //                    if (updateJobDocumentField == null)
        //                    {
        //                        JobDocumentField JobDocumentField = new JobDocumentField
        //                        {
        //                            IdJobDocument = idJobDocument,
        //                            IdDocumentField = Convert.ToInt32(item.Id),
        //                            Value = zipCode,
        //                            ActualValue = zipCode
        //                        };
        //                        rpoContext.JobDocumentFields.Add(JobDocumentField);
        //                    }
        //                    else
        //                    {
        //                        string pdffield = rpoContext.DocumentFields.Where(x => x.IdField == item.IdField).Select(x => x.PdfFields).FirstOrDefault();
        //                        pdfFields.Add(pdffield);
        //                        updateJobDocumentField.Value = zipCode;
        //                        updateJobDocumentField.ActualValue = zipCode;
        //                        rpoContext.Entry(updateJobDocumentField).State = EntityState.Modified;
        //                        FieldsValue.Add(new IdItemName
        //                        {
        //                            Id = pdffield,
        //                            ItemName = updateJobDocumentField.ActualValue
        //                        });
        //                        rpoContext.SaveChanges();
        //                    }
        //                }
        //                else if (item.Field.FieldName == "floor")
        //                {
        //                    if (updateJobDocumentField == null)
        //                    {
        //                        JobDocumentField JobDocumentField = new JobDocumentField
        //                        {
        //                            IdJobDocument = idJobDocument,
        //                            IdDocumentField = Convert.ToInt32(item.Id),
        //                            Value = floorWorkingOn,
        //                            ActualValue = floorWorkingOn
        //                        };
        //                        rpoContext.JobDocumentFields.Add(JobDocumentField);
        //                    }
        //                    else
        //                    {
        //                        string pdffield = rpoContext.DocumentFields.Where(x => x.IdField == item.IdField).Select(x => x.PdfFields).FirstOrDefault();
        //                        pdfFields.Add(pdffield);
        //                        updateJobDocumentField.Value = floorWorkingOn;
        //                        updateJobDocumentField.ActualValue = floorWorkingOn;
        //                        rpoContext.Entry(updateJobDocumentField).State = EntityState.Modified;
        //                        FieldsValue.Add(new IdItemName
        //                        {
        //                            Id = pdffield,
        //                            ItemName = updateJobDocumentField.ActualValue
        //                        });
        //                        rpoContext.SaveChanges();
        //                    }
        //                }
        //                else if (item.Field.FieldName == "last_name_applicant")
        //                {
        //                    if (updateJobDocumentField == null)
        //                    {
        //                        JobDocumentField JobDocumentField = new JobDocumentField
        //                        {
        //                            IdJobDocument = idJobDocument,
        //                            IdDocumentField = Convert.ToInt32(item.Id),
        //                            Value = applicantLastName,
        //                            ActualValue = applicantLastName
        //                        };
        //                        rpoContext.JobDocumentFields.Add(JobDocumentField);
        //                    }
        //                    else
        //                    {
        //                        string pdffield = rpoContext.DocumentFields.Where(x => x.IdField == item.IdField).Select(x => x.PdfFields).FirstOrDefault();
        //                        pdfFields.Add(pdffield);
        //                        updateJobDocumentField.Value = applicantLastName;
        //                        updateJobDocumentField.ActualValue = applicantLastName;
        //                        rpoContext.Entry(updateJobDocumentField).State = EntityState.Modified;
        //                        FieldsValue.Add(new IdItemName
        //                        {
        //                            Id = pdffield,
        //                            ItemName = updateJobDocumentField.ActualValue
        //                        });
        //                        rpoContext.SaveChanges();
        //                    }
        //                }
        //                else if (item.Field.FieldName == "first_name_applicant")
        //                {
        //                    if (updateJobDocumentField == null)
        //                    {
        //                        JobDocumentField JobDocumentField = new JobDocumentField
        //                        {
        //                            IdJobDocument = idJobDocument,
        //                            IdDocumentField = Convert.ToInt32(item.Id),
        //                            Value = applicantFirstName,
        //                            ActualValue = applicantFirstName
        //                        };
        //                        rpoContext.JobDocumentFields.Add(JobDocumentField);
        //                    }
        //                    else
        //                    {
        //                        string pdffield = rpoContext.DocumentFields.Where(x => x.IdField == item.IdField).Select(x => x.PdfFields).FirstOrDefault();
        //                        pdfFields.Add(pdffield);
        //                        updateJobDocumentField.Value = applicantFirstName;
        //                        updateJobDocumentField.ActualValue = applicantFirstName;
        //                        rpoContext.Entry(updateJobDocumentField).State = EntityState.Modified;
        //                        FieldsValue.Add(new IdItemName
        //                        {
        //                            Id = pdffield,
        //                            ItemName = updateJobDocumentField.ActualValue
        //                        });
        //                        rpoContext.SaveChanges();
        //                    }
        //                }
        //                else if (item.Field.FieldName == "lic_nbr_applicant")
        //                {
        //                    if (updateJobDocumentField == null)
        //                    {
        //                        JobDocumentField JobDocumentField = new JobDocumentField
        //                        {
        //                            IdJobDocument = idJobDocument,
        //                            IdDocumentField = Convert.ToInt32(item.Id),
        //                            Value = contactLic_No,
        //                            ActualValue = contactLic_No
        //                        };
        //                        rpoContext.JobDocumentFields.Add(JobDocumentField);
        //                    }
        //                    else
        //                    {
        //                        string pdffield = rpoContext.DocumentFields.Where(x => x.IdField == item.IdField).Select(x => x.PdfFields).FirstOrDefault();
        //                        pdfFields.Add(pdffield);
        //                        updateJobDocumentField.Value = contactLic_No;
        //                        updateJobDocumentField.ActualValue = contactLic_No;
        //                        rpoContext.Entry(updateJobDocumentField).State = EntityState.Modified;
        //                        FieldsValue.Add(new IdItemName
        //                        {
        //                            Id = pdffield,
        //                            ItemName = updateJobDocumentField.ActualValue
        //                        });
        //                        rpoContext.SaveChanges();
        //                    }
        //                }
        //                else if (item.Field.FieldName == "bus_name_applicant")
        //                {
        //                    if (updateJobDocumentField == null)
        //                    {
        //                        JobDocumentField JobDocumentField = new JobDocumentField
        //                        {
        //                            IdJobDocument = idJobDocument,
        //                            IdDocumentField = Convert.ToInt32(item.Id),
        //                            Value = contactcompany,
        //                            ActualValue = contactcompany
        //                        };
        //                        rpoContext.JobDocumentFields.Add(JobDocumentField);
        //                    }
        //                    else
        //                    {
        //                        string pdffield = rpoContext.DocumentFields.Where(x => x.IdField == item.IdField).Select(x => x.PdfFields).FirstOrDefault();
        //                        pdfFields.Add(pdffield);
        //                        updateJobDocumentField.Value = contactcompany;
        //                        updateJobDocumentField.ActualValue = contactcompany;
        //                        rpoContext.Entry(updateJobDocumentField).State = EntityState.Modified;
        //                        FieldsValue.Add(new IdItemName
        //                        {
        //                            Id = pdffield,
        //                            ItemName = updateJobDocumentField.ActualValue
        //                        });
        //                        rpoContext.SaveChanges();
        //                    }
        //                }
        //                else if (item.Field.FieldName == "bus_add_applicant")
        //                {
        //                    if (updateJobDocumentField == null)
        //                    {
        //                        JobDocumentField JobDocumentField = new JobDocumentField
        //                        {
        //                            IdJobDocument = idJobDocument,
        //                            IdDocumentField = Convert.ToInt32(item.Id),
        //                            Value = businessAddress,
        //                            ActualValue = businessAddress
        //                        };
        //                        rpoContext.JobDocumentFields.Add(JobDocumentField);
        //                    }
        //                    else
        //                    {
        //                        string pdffield = rpoContext.DocumentFields.Where(x => x.IdField == item.IdField).Select(x => x.PdfFields).FirstOrDefault();
        //                        pdfFields.Add(pdffield);
        //                        updateJobDocumentField.Value = businessAddress;
        //                        updateJobDocumentField.ActualValue = businessAddress;
        //                        rpoContext.Entry(updateJobDocumentField).State = EntityState.Modified;
        //                        FieldsValue.Add(new IdItemName
        //                        {
        //                            Id = pdffield,
        //                            ItemName = updateJobDocumentField.ActualValue
        //                        });
        //                        rpoContext.SaveChanges();
        //                    }
        //                }
        //                else if (item.Field.FieldName == "city_applicant")
        //                {
        //                    if (updateJobDocumentField == null)
        //                    {
        //                        JobDocumentField JobDocumentField = new JobDocumentField
        //                        {
        //                            IdJobDocument = idJobDocument,
        //                            IdDocumentField = Convert.ToInt32(item.Id),
        //                            Value = businessCity,
        //                            ActualValue = businessCity
        //                        };
        //                        rpoContext.JobDocumentFields.Add(JobDocumentField);
        //                    }
        //                    else
        //                    {
        //                        string pdffield = rpoContext.DocumentFields.Where(x => x.IdField == item.IdField).Select(x => x.PdfFields).FirstOrDefault();
        //                        pdfFields.Add(pdffield);
        //                        updateJobDocumentField.Value = businessCity;
        //                        updateJobDocumentField.ActualValue = businessCity;
        //                        rpoContext.Entry(updateJobDocumentField).State = EntityState.Modified;
        //                        FieldsValue.Add(new IdItemName
        //                        {
        //                            Id = pdffield,
        //                            ItemName = updateJobDocumentField.ActualValue
        //                        });
        //                        rpoContext.SaveChanges();
        //                    }
        //                }
        //                else if (item.Field.FieldName == "phone_business_applicant")
        //                {
        //                    if (updateJobDocumentField == null)
        //                    {
        //                        JobDocumentField JobDocumentField = new JobDocumentField
        //                        {
        //                            IdJobDocument = idJobDocument,
        //                            IdDocumentField = Convert.ToInt32(item.Id),
        //                            Value = contactMobilePhone,
        //                            ActualValue = contactMobilePhone
        //                        };
        //                        rpoContext.JobDocumentFields.Add(JobDocumentField);
        //                    }
        //                    else
        //                    {
        //                        string pdffield = rpoContext.DocumentFields.Where(x => x.IdField == item.IdField).Select(x => x.PdfFields).FirstOrDefault();
        //                        pdfFields.Add(pdffield);
        //                        updateJobDocumentField.Value = contactMobilePhone;
        //                        updateJobDocumentField.ActualValue = contactMobilePhone;
        //                        rpoContext.Entry(updateJobDocumentField).State = EntityState.Modified;
        //                        FieldsValue.Add(new IdItemName
        //                        {
        //                            Id = pdffield,
        //                            ItemName = updateJobDocumentField.ActualValue
        //                        });
        //                        rpoContext.SaveChanges();
        //                    }
        //                }
        //                else if (item.Field.FieldName == "email_applicant")
        //                {
        //                    if (updateJobDocumentField == null)
        //                    {
        //                        JobDocumentField JobDocumentField = new JobDocumentField
        //                        {
        //                            IdJobDocument = idJobDocument,
        //                            IdDocumentField = Convert.ToInt32(item.Id),
        //                            Value = contactEmail,
        //                            ActualValue = contactEmail
        //                        };
        //                        rpoContext.JobDocumentFields.Add(JobDocumentField);
        //                    }
        //                    else
        //                    {
        //                        string pdffield = rpoContext.DocumentFields.Where(x => x.IdField == item.IdField).Select(x => x.PdfFields).FirstOrDefault();
        //                        pdfFields.Add(pdffield);
        //                        updateJobDocumentField.Value = contactEmail;
        //                        updateJobDocumentField.ActualValue = contactEmail;
        //                        rpoContext.Entry(updateJobDocumentField).State = EntityState.Modified;
        //                        FieldsValue.Add(new IdItemName
        //                        {
        //                            Id = pdffield,
        //                            ItemName = updateJobDocumentField.ActualValue
        //                        });
        //                        rpoContext.SaveChanges();
        //                    }
        //                }
        //                else if (item.Field.FieldName == "state_applicant")
        //                {
        //                    if (updateJobDocumentField == null)
        //                    {
        //                        JobDocumentField JobDocumentField = new JobDocumentField
        //                        {
        //                            IdJobDocument = idJobDocument,
        //                            IdDocumentField = Convert.ToInt32(item.Id),
        //                            Value = businessState,
        //                            ActualValue = businessState
        //                        };
        //                        rpoContext.JobDocumentFields.Add(JobDocumentField);
        //                    }
        //                    else
        //                    {
        //                        string pdffield = rpoContext.DocumentFields.Where(x => x.IdField == item.IdField).Select(x => x.PdfFields).FirstOrDefault();
        //                        pdfFields.Add(pdffield);
        //                        updateJobDocumentField.Value = businessState;
        //                        updateJobDocumentField.ActualValue = businessState;
        //                        rpoContext.Entry(updateJobDocumentField).State = EntityState.Modified;
        //                        FieldsValue.Add(new IdItemName
        //                        {
        //                            Id = pdffield,
        //                            ItemName = updateJobDocumentField.ActualValue
        //                        });
        //                        rpoContext.SaveChanges();
        //                    }
        //                }
        //                else if (item.Field.FieldName == "zip_applicant")
        //                {
        //                    if (updateJobDocumentField == null)
        //                    {
        //                        JobDocumentField JobDocumentField = new JobDocumentField
        //                        {
        //                            IdJobDocument = idJobDocument,
        //                            IdDocumentField = Convert.ToInt32(item.Id),
        //                            Value = businessZip,
        //                            ActualValue = businessZip
        //                        };
        //                        rpoContext.JobDocumentFields.Add(JobDocumentField);
        //                    }
        //                    else
        //                    {
        //                        string pdffield = rpoContext.DocumentFields.Where(x => x.IdField == item.IdField).Select(x => x.PdfFields).FirstOrDefault();
        //                        pdfFields.Add(pdffield);
        //                        updateJobDocumentField.Value = businessZip;
        //                        updateJobDocumentField.ActualValue = businessZip;
        //                        rpoContext.Entry(updateJobDocumentField).State = EntityState.Modified;
        //                        FieldsValue.Add(new IdItemName
        //                        {
        //                            Id = pdffield,
        //                            ItemName = updateJobDocumentField.ActualValue
        //                        });
        //                        rpoContext.SaveChanges();
        //                    }
        //                }
        //                else if (item.Field.FieldName == "box1_applicant")
        //                {
        //                    if (updateJobDocumentField == null)
        //                    {
        //                        JobDocumentField JobDocumentField = new JobDocumentField
        //                        {
        //                            IdJobDocument = idJobDocument,
        //                            IdDocumentField = Convert.ToInt32(item.Id),
        //                            Value = contactLic_state_engineer,
        //                            ActualValue = contactLic_state_engineer
        //                        };
        //                        rpoContext.JobDocumentFields.Add(JobDocumentField);
        //                    }
        //                    else
        //                    {
        //                        string pdffield = rpoContext.DocumentFields.Where(x => x.IdField == item.IdField).Select(x => x.PdfFields).FirstOrDefault();
        //                        pdfFields.Add(pdffield);
        //                        updateJobDocumentField.Value = contactLic_state_engineer;
        //                        updateJobDocumentField.ActualValue = contactLic_state_engineer;
        //                        rpoContext.Entry(updateJobDocumentField).State = EntityState.Modified;
        //                        FieldsValue.Add(new IdItemName
        //                        {
        //                            Id = pdffield,
        //                            ItemName = updateJobDocumentField.ActualValue
        //                        });
        //                        rpoContext.SaveChanges();
        //                    }
        //                }
        //                else if (item.Field.FieldName == "last_name_fp")
        //                {
        //                    if (updateJobDocumentField == null)
        //                    {
        //                        JobDocumentField JobDocumentField = new JobDocumentField
        //                        {
        //                            IdJobDocument = idJobDocument,
        //                            IdDocumentField = Convert.ToInt32(item.Id),
        //                            Value = filingRepresentativelastname,
        //                            ActualValue = filingRepresentativelastname
        //                        };
        //                        rpoContext.JobDocumentFields.Add(JobDocumentField);
        //                    }
        //                    else
        //                    {
        //                        string pdffield = rpoContext.DocumentFields.Where(x => x.IdField == item.IdField).Select(x => x.PdfFields).FirstOrDefault();
        //                        pdfFields.Add(pdffield);
        //                        updateJobDocumentField.Value = filingRepresentativelastname;
        //                        updateJobDocumentField.ActualValue = filingRepresentativelastname;
        //                        rpoContext.Entry(updateJobDocumentField).State = EntityState.Modified;
        //                        FieldsValue.Add(new IdItemName
        //                        {
        //                            Id = pdffield,
        //                            ItemName = updateJobDocumentField.ActualValue
        //                        });
        //                        rpoContext.SaveChanges();
        //                    }
        //                }
        //                else if (item.Field.FieldName == "first_name_fp")
        //                {
        //                    if (updateJobDocumentField == null)
        //                    {
        //                        JobDocumentField JobDocumentField = new JobDocumentField
        //                        {
        //                            IdJobDocument = idJobDocument,
        //                            IdDocumentField = Convert.ToInt32(item.Id),
        //                            Value = filingRepresentativefirstname,
        //                            ActualValue = filingRepresentativefirstname
        //                        };
        //                        rpoContext.JobDocumentFields.Add(JobDocumentField);
        //                    }
        //                    else
        //                    {
        //                        string pdffield = rpoContext.DocumentFields.Where(x => x.IdField == item.IdField).Select(x => x.PdfFields).FirstOrDefault();
        //                        pdfFields.Add(pdffield);
        //                        updateJobDocumentField.Value = filingRepresentativefirstname;
        //                        updateJobDocumentField.ActualValue = filingRepresentativefirstname;
        //                        rpoContext.Entry(updateJobDocumentField).State = EntityState.Modified;
        //                        FieldsValue.Add(new IdItemName
        //                        {
        //                            Id = pdffield,
        //                            ItemName = updateJobDocumentField.ActualValue
        //                        });
        //                        rpoContext.SaveChanges();
        //                    }
        //                }
        //                else if (item.Field.FieldName == "reg_no")
        //                {
        //                    if (updateJobDocumentField == null)
        //                    {
        //                        JobDocumentField JobDocumentField = new JobDocumentField
        //                        {
        //                            IdJobDocument = idJobDocument,
        //                            IdDocumentField = Convert.ToInt32(item.Id),
        //                            Value = filingRepresentativRegnumber,
        //                            ActualValue = filingRepresentativRegnumber
        //                        };
        //                        rpoContext.JobDocumentFields.Add(JobDocumentField);
        //                    }
        //                    else
        //                    {
        //                        string pdffield = rpoContext.DocumentFields.Where(x => x.IdField == item.IdField).Select(x => x.PdfFields).FirstOrDefault();
        //                        pdfFields.Add(pdffield);
        //                        updateJobDocumentField.Value = filingRepresentativRegnumber;
        //                        updateJobDocumentField.ActualValue = filingRepresentativRegnumber;
        //                        rpoContext.Entry(updateJobDocumentField).State = EntityState.Modified;
        //                        FieldsValue.Add(new IdItemName
        //                        {
        //                            Id = pdffield,
        //                            ItemName = updateJobDocumentField.ActualValue
        //                        });
        //                        rpoContext.SaveChanges();
        //                    }
        //                }
        //                else if (item.Field.FieldName == "bus_name_fp")
        //                {
        //                    if (updateJobDocumentField == null)
        //                    {
        //                        JobDocumentField JobDocumentField = new JobDocumentField
        //                        {
        //                            IdJobDocument = idJobDocument,
        //                            IdDocumentField = Convert.ToInt32(item.Id),
        //                            Value = filingRepresentativeCompany,
        //                            ActualValue = filingRepresentativeCompany
        //                        };
        //                        rpoContext.JobDocumentFields.Add(JobDocumentField);
        //                    }
        //                    else
        //                    {
        //                        string pdffield = rpoContext.DocumentFields.Where(x => x.IdField == item.IdField).Select(x => x.PdfFields).FirstOrDefault();
        //                        pdfFields.Add(pdffield);
        //                        updateJobDocumentField.Value = filingRepresentativeCompany;
        //                        updateJobDocumentField.ActualValue = filingRepresentativeCompany;
        //                        rpoContext.Entry(updateJobDocumentField).State = EntityState.Modified;
        //                        FieldsValue.Add(new IdItemName
        //                        {
        //                            Id = pdffield,
        //                            ItemName = updateJobDocumentField.ActualValue
        //                        });
        //                        rpoContext.SaveChanges();
        //                    }
        //                }
        //                else if (item.Field.FieldName == "fp_bus_tel")
        //                {
        //                    if (updateJobDocumentField == null)
        //                    {
        //                        JobDocumentField JobDocumentField = new JobDocumentField
        //                        {
        //                            IdJobDocument = idJobDocument,
        //                            IdDocumentField = Convert.ToInt32(item.Id),
        //                            Value = filingRepresentativePhone,
        //                            ActualValue = filingRepresentativePhone
        //                        };
        //                        rpoContext.JobDocumentFields.Add(JobDocumentField);
        //                    }
        //                    else
        //                    {
        //                        string pdffield = rpoContext.DocumentFields.Where(x => x.IdField == item.IdField).Select(x => x.PdfFields).FirstOrDefault();
        //                        pdfFields.Add(pdffield);
        //                        updateJobDocumentField.Value = filingRepresentativePhone;
        //                        updateJobDocumentField.ActualValue = filingRepresentativePhone;
        //                        rpoContext.Entry(updateJobDocumentField).State = EntityState.Modified;
        //                        FieldsValue.Add(new IdItemName
        //                        {
        //                            Id = pdffield,
        //                            ItemName = updateJobDocumentField.ActualValue
        //                        });
        //                        rpoContext.SaveChanges();
        //                    }
        //                }
        //                else if (item.Field.FieldName == "bus_add_fp")
        //                {
        //                    if (updateJobDocumentField == null)
        //                    {
        //                        JobDocumentField JobDocumentField = new JobDocumentField
        //                        {
        //                            IdJobDocument = idJobDocument,
        //                            IdDocumentField = Convert.ToInt32(item.Id),
        //                            Value = filingRepresentativeaddress,
        //                            ActualValue = filingRepresentativeaddress
        //                        };
        //                        rpoContext.JobDocumentFields.Add(JobDocumentField);
        //                    }
        //                    else
        //                    {
        //                        string pdffield = rpoContext.DocumentFields.Where(x => x.IdField == item.IdField).Select(x => x.PdfFields).FirstOrDefault();
        //                        pdfFields.Add(pdffield);
        //                        updateJobDocumentField.Value = filingRepresentativeaddress;
        //                        updateJobDocumentField.ActualValue = filingRepresentativeaddress;
        //                        rpoContext.Entry(updateJobDocumentField).State = EntityState.Modified;
        //                        FieldsValue.Add(new IdItemName
        //                        {
        //                            Id = pdffield,
        //                            ItemName = updateJobDocumentField.ActualValue
        //                        });
        //                        rpoContext.SaveChanges();
        //                    }
        //                }
        //                else if (item.Field.FieldName == "city_fp")
        //                {
        //                    if (updateJobDocumentField == null)
        //                    {
        //                        JobDocumentField JobDocumentField = new JobDocumentField
        //                        {
        //                            IdJobDocument = idJobDocument,
        //                            IdDocumentField = Convert.ToInt32(item.Id),
        //                            Value = filingRepresentativecity,
        //                            ActualValue = filingRepresentativecity
        //                        };
        //                        rpoContext.JobDocumentFields.Add(JobDocumentField);
        //                    }
        //                    else
        //                    {
        //                        string pdffield = rpoContext.DocumentFields.Where(x => x.IdField == item.IdField).Select(x => x.PdfFields).FirstOrDefault();
        //                        pdfFields.Add(pdffield);
        //                        updateJobDocumentField.Value = filingRepresentativecity;
        //                        updateJobDocumentField.ActualValue = filingRepresentativecity;
        //                        rpoContext.Entry(updateJobDocumentField).State = EntityState.Modified;
        //                        FieldsValue.Add(new IdItemName
        //                        {
        //                            Id = pdffield,
        //                            ItemName = updateJobDocumentField.ActualValue
        //                        });
        //                        rpoContext.SaveChanges();
        //                    }
        //                }
        //                else if (item.Field.FieldName == "state_fp")
        //                {
        //                    if (updateJobDocumentField == null)
        //                    {
        //                        JobDocumentField JobDocumentField = new JobDocumentField
        //                        {
        //                            IdJobDocument = idJobDocument,
        //                            IdDocumentField = Convert.ToInt32(item.Id),
        //                            Value = filingRepresentativestate,
        //                            ActualValue = filingRepresentativestate
        //                        };
        //                        rpoContext.JobDocumentFields.Add(JobDocumentField);
        //                    }
        //                    else
        //                    {
        //                        string pdffield = rpoContext.DocumentFields.Where(x => x.IdField == item.IdField).Select(x => x.PdfFields).FirstOrDefault();
        //                        pdfFields.Add(pdffield);
        //                        updateJobDocumentField.Value = filingRepresentativestate;
        //                        updateJobDocumentField.ActualValue = filingRepresentativestate;
        //                        rpoContext.Entry(updateJobDocumentField).State = EntityState.Modified;
        //                        FieldsValue.Add(new IdItemName
        //                        {
        //                            Id = pdffield,
        //                            ItemName = updateJobDocumentField.ActualValue
        //                        });
        //                        rpoContext.SaveChanges();
        //                    }
        //                }
        //                else if (item.Field.FieldName == "fp_zip")
        //                {
        //                    if (updateJobDocumentField == null)
        //                    {
        //                        JobDocumentField JobDocumentField = new JobDocumentField
        //                        {
        //                            IdJobDocument = idJobDocument,
        //                            IdDocumentField = Convert.ToInt32(item.Id),
        //                            Value = filingRepresentativezip,
        //                            ActualValue = filingRepresentativezip
        //                        };
        //                        rpoContext.JobDocumentFields.Add(JobDocumentField);
        //                    }
        //                    else
        //                    {
        //                        string pdffield = rpoContext.DocumentFields.Where(x => x.IdField == item.IdField).Select(x => x.PdfFields).FirstOrDefault();
        //                        pdfFields.Add(pdffield);
        //                        updateJobDocumentField.Value = filingRepresentativezip;
        //                        updateJobDocumentField.ActualValue = filingRepresentativezip;
        //                        rpoContext.Entry(updateJobDocumentField).State = EntityState.Modified;
        //                        FieldsValue.Add(new IdItemName
        //                        {
        //                            Id = pdffield,
        //                            ItemName = updateJobDocumentField.ActualValue
        //                        });
        //                        rpoContext.SaveChanges();
        //                    }
        //                }
        //                else if (item.Field.FieldName == "email_fp")
        //                {
        //                    if (updateJobDocumentField == null)
        //                    {
        //                        JobDocumentField JobDocumentField = new JobDocumentField
        //                        {
        //                            IdJobDocument = idJobDocument,
        //                            IdDocumentField = Convert.ToInt32(item.Id),
        //                            Value = filingRepresentativeEmail,
        //                            ActualValue = filingRepresentativeEmail
        //                        };
        //                        rpoContext.JobDocumentFields.Add(JobDocumentField);
        //                    }
        //                    else
        //                    {
        //                        string pdffield = rpoContext.DocumentFields.Where(x => x.IdField == item.IdField).Select(x => x.PdfFields).FirstOrDefault();
        //                        pdfFields.Add(pdffield);
        //                        updateJobDocumentField.Value = filingRepresentativeEmail;
        //                        updateJobDocumentField.ActualValue = filingRepresentativeEmail;
        //                        rpoContext.Entry(updateJobDocumentField).State = EntityState.Modified;
        //                        FieldsValue.Add(new IdItemName
        //                        {
        //                            Id = pdffield,
        //                            ItemName = updateJobDocumentField.ActualValue
        //                        });
        //                        rpoContext.SaveChanges();
        //                    }
        //                }
        //                else if (item.Field.FieldName == "hob")
        //                {
        //                    string height = job != null && job.RfpAddress != null ? Convert.ToString(job.RfpAddress.Feet) : string.Empty;

        //                    if (updateJobDocumentField == null)
        //                    {
        //                        JobDocumentField JobDocumentField = new JobDocumentField
        //                        {
        //                            IdJobDocument = idJobDocument,
        //                            IdDocumentField = Convert.ToInt32(item.Id),
        //                            Value = height,
        //                            ActualValue = height
        //                        };
        //                        rpoContext.JobDocumentFields.Add(JobDocumentField);
        //                    }
        //                    else
        //                    {
        //                        string pdffield = rpoContext.DocumentFields.Where(x => x.IdField == item.IdField).Select(x => x.PdfFields).FirstOrDefault();
        //                        pdfFields.Add(pdffield);
        //                        updateJobDocumentField.Value = height;
        //                        updateJobDocumentField.ActualValue = height;
        //                        rpoContext.Entry(updateJobDocumentField).State = EntityState.Modified;
        //                        FieldsValue.Add(new IdItemName
        //                        {
        //                            Id = pdffield,
        //                            ItemName = updateJobDocumentField.ActualValue
        //                        });
        //                        rpoContext.SaveChanges();
        //                    }
        //                }
        //                else if (item.Field.FieldName == "bs")
        //                {
        //                    string stories = job != null && job.RfpAddress != null ? Convert.ToString(job.RfpAddress.Stories) : string.Empty;
        //                    // JobDocumentField updateJobDocumentField = jobDocumentFieldList.FirstOrDefault(x => x.IdDocumentField == item.Id);
        //                    if (updateJobDocumentField == null)
        //                    {
        //                        JobDocumentField JobDocumentField = new JobDocumentField
        //                        {
        //                            IdJobDocument = idJobDocument,
        //                            IdDocumentField = Convert.ToInt32(item.Id),
        //                            Value = stories,
        //                            ActualValue = stories,
        //                        };
        //                        rpoContext.JobDocumentFields.Add(JobDocumentField);
        //                    }
        //                    else
        //                    {
        //                        string pdffield = rpoContext.DocumentFields.Where(x => x.IdField == item.IdField).Select(x => x.PdfFields).FirstOrDefault();
        //                        pdfFields.Add(pdffield);
        //                        updateJobDocumentField.Value = stories;
        //                        updateJobDocumentField.ActualValue = stories;
        //                        rpoContext.Entry(updateJobDocumentField).State = EntityState.Modified;
        //                        FieldsValue.Add(new IdItemName
        //                        {
        //                            Id = pdffield,
        //                            ItemName = updateJobDocumentField.ActualValue
        //                        });
        //                        rpoContext.SaveChanges();
        //                    }
        //                }
        //                else if (item.Field.FieldName == "cc")
        //                {
        //                    string ConstructionClassification = job != null && job.RfpAddress != null && job.RfpAddress.ConstructionClassification != null ? Convert.ToString(job.RfpAddress.ConstructionClassification.Code) : string.Empty;

        //                    if (updateJobDocumentField == null)
        //                    {
        //                        JobDocumentField JobDocumentField = new JobDocumentField
        //                        {
        //                            IdJobDocument = idJobDocument,
        //                            IdDocumentField = Convert.ToInt32(item.Id),
        //                            Value = ConstructionClassification,
        //                            ActualValue = ConstructionClassification
        //                        };
        //                        rpoContext.JobDocumentFields.Add(JobDocumentField);
        //                    }
        //                    else
        //                    {
        //                        string pdffield = rpoContext.DocumentFields.Where(x => x.IdField == item.IdField).Select(x => x.PdfFields).FirstOrDefault();
        //                        pdfFields.Add(pdffield);
        //                        updateJobDocumentField.Value = ConstructionClassification;
        //                        updateJobDocumentField.ActualValue = ConstructionClassification;
        //                        rpoContext.Entry(updateJobDocumentField).State = EntityState.Modified;
        //                        FieldsValue.Add(new IdItemName
        //                        {
        //                            Id = pdffield,
        //                            ItemName = updateJobDocumentField.ActualValue
        //                        });
        //                        rpoContext.SaveChanges();
        //                    }
        //                }
        //                else if (item.Field.FieldName == "landmark")
        //                {
        //                    string Landmark = string.Empty;
        //                    if (job != null && job.RfpAddress != null && job.RfpAddress.IsLandmark == true)
        //                    {
        //                        Landmark = "Yes";
        //                    }
        //                    else
        //                    {
        //                        Landmark = "No";
        //                    }

        //                    if (updateJobDocumentField == null)
        //                    {
        //                        JobDocumentField JobDocumentField = new JobDocumentField
        //                        {
        //                            IdJobDocument = idJobDocument,
        //                            IdDocumentField = Convert.ToInt32(item.Id),
        //                            Value = Landmark,
        //                            ActualValue = Landmark
        //                        };
        //                        rpoContext.JobDocumentFields.Add(JobDocumentField);
        //                    }
        //                    else
        //                    {
        //                        string pdffield = rpoContext.DocumentFields.Where(x => x.IdField == item.IdField).Select(x => x.PdfFields).FirstOrDefault();
        //                        pdfFields.Add(pdffield);
        //                        updateJobDocumentField.Value = Landmark;
        //                        updateJobDocumentField.ActualValue = Landmark;
        //                        rpoContext.Entry(updateJobDocumentField).State = EntityState.Modified;
        //                        FieldsValue.Add(new IdItemName
        //                        {
        //                            Id = pdffield,
        //                            ItemName = updateJobDocumentField.ActualValue
        //                        });
        //                        rpoContext.SaveChanges();
        //                    }
        //                }
        //                else if (item.Field.FieldName == "flood_area")
        //                {
        //                    string val = string.Empty;
        //                    if (job != null && job.RfpAddress != null && job.RfpAddress.SpecialFloodHazardAreaCheck == true)
        //                    {
        //                        val = "Yes";
        //                    }
        //                    else
        //                    {
        //                        val = "No";
        //                    }

        //                    if (updateJobDocumentField == null)
        //                    {
        //                        JobDocumentField JobDocumentField = new JobDocumentField
        //                        {
        //                            IdJobDocument = idJobDocument,
        //                            IdDocumentField = Convert.ToInt32(item.Id),
        //                            Value = val,
        //                            ActualValue = val
        //                        };
        //                        rpoContext.JobDocumentFields.Add(JobDocumentField);
        //                    }
        //                    else
        //                    {
        //                        string pdffield = rpoContext.DocumentFields.Where(x => x.IdField == item.IdField).Select(x => x.PdfFields).FirstOrDefault();
        //                        pdfFields.Add(pdffield);
        //                        updateJobDocumentField.Value = val;
        //                        updateJobDocumentField.ActualValue = val;
        //                        rpoContext.Entry(updateJobDocumentField).State = EntityState.Modified;
        //                        FieldsValue.Add(new IdItemName
        //                        {
        //                            Id = pdffield,
        //                            ItemName = updateJobDocumentField.ActualValue
        //                        });
        //                        rpoContext.SaveChanges();
        //                    }
        //                }
        //                else if (item.Field.FieldName == "name_applicant_print")
        //                {
        //                    if (updateJobDocumentField == null)
        //                    {
        //                        JobDocumentField JobDocumentField = new JobDocumentField
        //                        {
        //                            IdJobDocument = idJobDocument,
        //                            IdDocumentField = Convert.ToInt32(item.Id),
        //                            Value = applicantName,
        //                            ActualValue = applicantName
        //                        };
        //                        rpoContext.JobDocumentFields.Add(JobDocumentField);
        //                    }
        //                    else
        //                    {
        //                        string pdffield = rpoContext.DocumentFields.Where(x => x.IdField == item.IdField).Select(x => x.PdfFields).FirstOrDefault();
        //                        pdfFields.Add(pdffield);
        //                        updateJobDocumentField.Value = applicantName;
        //                        updateJobDocumentField.ActualValue = applicantName;
        //                        rpoContext.Entry(updateJobDocumentField).State = EntityState.Modified;
        //                        FieldsValue.Add(new IdItemName
        //                        {
        //                            Id = pdffield,
        //                            ItemName = updateJobDocumentField.ActualValue
        //                        });
        //                        rpoContext.SaveChanges();
        //                    }
        //                }
        //                else if (item.Field.FieldName == "name_owner_print")
        //                {
        //                    string val = job != null && job.RfpAddress != null && job.RfpAddress.OwnerContact != null ? job.RfpAddress.OwnerContact.FirstName + " " + job.RfpAddress.OwnerContact.LastName : string.Empty;

        //                    if (updateJobDocumentField == null)
        //                    {
        //                        JobDocumentField JobDocumentField = new JobDocumentField
        //                        {
        //                            IdJobDocument = idJobDocument,
        //                            IdDocumentField = Convert.ToInt32(item.Id),
        //                            Value = val,
        //                            ActualValue = val
        //                        };
        //                        rpoContext.JobDocumentFields.Add(JobDocumentField);
        //                    }
        //                    else
        //                    {
        //                        string pdffield = rpoContext.DocumentFields.Where(x => x.IdField == item.IdField).Select(x => x.PdfFields).FirstOrDefault();
        //                        pdfFields.Add(pdffield);
        //                        updateJobDocumentField.Value = val;
        //                        updateJobDocumentField.ActualValue = val;
        //                        rpoContext.Entry(updateJobDocumentField).State = EntityState.Modified;
        //                        FieldsValue.Add(new IdItemName
        //                        {
        //                            Id = pdffield,
        //                            ItemName = updateJobDocumentField.ActualValue
        //                        });
        //                        rpoContext.SaveChanges();
        //                    }
        //                }
        //                else if (item.Field.FieldName == "last_name_owner")
        //                {
        //                    string val = job != null && job.RfpAddress != null && job.RfpAddress.OwnerContact != null ? job.RfpAddress.OwnerContact.LastName : string.Empty;

        //                    if (updateJobDocumentField == null)
        //                    {
        //                        JobDocumentField JobDocumentField = new JobDocumentField
        //                        {
        //                            IdJobDocument = idJobDocument,
        //                            IdDocumentField = Convert.ToInt32(item.Id),
        //                            Value = val,
        //                            ActualValue = val
        //                        };
        //                        rpoContext.JobDocumentFields.Add(JobDocumentField);
        //                    }
        //                    else
        //                    {
        //                        string pdffield = rpoContext.DocumentFields.Where(x => x.IdField == item.IdField).Select(x => x.PdfFields).FirstOrDefault();
        //                        pdfFields.Add(pdffield);
        //                        updateJobDocumentField.Value = val;
        //                        updateJobDocumentField.ActualValue = val;
        //                        rpoContext.Entry(updateJobDocumentField).State = EntityState.Modified;
        //                        FieldsValue.Add(new IdItemName
        //                        {
        //                            Id = pdffield,
        //                            ItemName = updateJobDocumentField.ActualValue
        //                        });
        //                        rpoContext.SaveChanges();
        //                    }
        //                }
        //                else if (item.Field.FieldName == "first_name_owner")
        //                {
        //                    string val = job != null && job.RfpAddress != null && job.RfpAddress.OwnerContact != null ? job.RfpAddress.OwnerContact.FirstName : string.Empty;

        //                    if (updateJobDocumentField == null)
        //                    {
        //                        JobDocumentField JobDocumentField = new JobDocumentField
        //                        {
        //                            IdJobDocument = idJobDocument,
        //                            IdDocumentField = Convert.ToInt32(item.Id),
        //                            Value = val,
        //                            ActualValue = val
        //                        };
        //                        rpoContext.JobDocumentFields.Add(JobDocumentField);
        //                    }
        //                    else
        //                    {
        //                        string pdffield = rpoContext.DocumentFields.Where(x => x.IdField == item.IdField).Select(x => x.PdfFields).FirstOrDefault();
        //                        pdfFields.Add(pdffield);
        //                        updateJobDocumentField.Value = val;
        //                        updateJobDocumentField.ActualValue = val;
        //                        rpoContext.Entry(updateJobDocumentField).State = EntityState.Modified;
        //                        FieldsValue.Add(new IdItemName
        //                        {
        //                            Id = pdffield,
        //                            ItemName = updateJobDocumentField.ActualValue
        //                        });
        //                        rpoContext.SaveChanges();
        //                    }
        //                }
        //                else if (item.Field.FieldName == "owner_bus_phone")
        //                {
        //                    string ownerPhone = job != null && job.RfpAddress != null && job.RfpAddress.OwnerContact != null ? job.RfpAddress.OwnerContact.WorkPhone : string.Empty;
        //                    if (ownerPhone == null || ownerPhone == "")
        //                    {
        //                        ownerPhone = job != null && job.RfpAddress != null && job.RfpAddress.OwnerContact != null ? job.RfpAddress.OwnerContact.MobilePhone : string.Empty;
        //                    }
        //                    if (docuementType == "Post Approval Amendment")
        //                    {
        //                        ownerPhone = string.Empty;
        //                    }
        //                    if (updateJobDocumentField == null)
        //                    {
        //                        JobDocumentField JobDocumentField = new JobDocumentField
        //                        {
        //                            IdJobDocument = idJobDocument,
        //                            IdDocumentField = Convert.ToInt32(item.Id),
        //                            Value = ownerPhone,
        //                            ActualValue = ownerPhone
        //                        };
        //                        rpoContext.JobDocumentFields.Add(JobDocumentField);
        //                    }
        //                    else
        //                    {
        //                        string pdffield = rpoContext.DocumentFields.Where(x => x.IdField == item.IdField).Select(x => x.PdfFields).FirstOrDefault();
        //                        pdfFields.Add(pdffield);
        //                        updateJobDocumentField.Value = ownerPhone;
        //                        updateJobDocumentField.ActualValue = ownerPhone;
        //                        rpoContext.Entry(updateJobDocumentField).State = EntityState.Modified;
        //                        FieldsValue.Add(new IdItemName
        //                        {
        //                            Id = pdffield,
        //                            ItemName = updateJobDocumentField.ActualValue
        //                        });
        //                        rpoContext.SaveChanges();
        //                    }
        //                }
        //                else if (item.Field.FieldName == "bus_name_owner")
        //                {
        //                    Contact owner = job != null && job.RfpAddress != null && job.RfpAddress.OwnerContact != null ? job.RfpAddress.OwnerContact : null;
        //                    string val = owner != null && owner.Company != null ? owner.Company.Name : string.Empty;
        //                    if (docuementType == "Post Approval Amendment")
        //                    {
        //                        val = string.Empty;
        //                    }

        //                    if (updateJobDocumentField == null)
        //                    {
        //                        JobDocumentField JobDocumentField = new JobDocumentField
        //                        {
        //                            IdJobDocument = idJobDocument,
        //                            IdDocumentField = Convert.ToInt32(item.Id),
        //                            Value = val,
        //                            ActualValue = val
        //                        };
        //                        rpoContext.JobDocumentFields.Add(JobDocumentField);
        //                    }
        //                    else
        //                    {
        //                        string pdffield = rpoContext.DocumentFields.Where(x => x.IdField == item.IdField).Select(x => x.PdfFields).FirstOrDefault();
        //                        pdfFields.Add(pdffield);
        //                        updateJobDocumentField.Value = val;
        //                        updateJobDocumentField.ActualValue = val;
        //                        rpoContext.Entry(updateJobDocumentField).State = EntityState.Modified;
        //                        FieldsValue.Add(new IdItemName
        //                        {
        //                            Id = pdffield,
        //                            ItemName = updateJobDocumentField.ActualValue
        //                        });
        //                        rpoContext.SaveChanges();
        //                    }
        //                }
        //                else if (item.Field.FieldName == "bus_add_owner")
        //                {
        //                    Address ownerAddress = new Address();
        //                    ownerAddress = job != null && job.RfpAddress != null && job.RfpAddress.OwnerContact != null && job.RfpAddress.OwnerContact.Addresses != null ? job.RfpAddress.OwnerContact.Addresses.FirstOrDefault(x => x.IsMainAddress == true) : null;
        //                    if (job != null && job.RfpAddress != null && job.RfpAddress.OwnerContact != null && job.RfpAddress.OwnerContact != null && job.RfpAddress.OwnerContact.IsPrimaryCompanyAddress == true)
        //                    {
        //                        int? company_id = job != null && job.RfpAddress != null && job.RfpAddress.OwnerContact != null && job.RfpAddress.OwnerContact != null && job.RfpAddress.OwnerContact != null ? job.RfpAddress.OwnerContact.IdCompany : 0;
        //                        ownerAddress = job != null && job.RfpAddress != null && job.RfpAddress.OwnerContact != null && job.RfpAddress.OwnerContact.Addresses != null && job.RfpAddress.OwnerContact.Company != null ? job.RfpAddress.OwnerContact.Company.Addresses.FirstOrDefault(x => x.IdCompany == company_id) : null;
        //                    }
        //                    string val = ownerAddress != null ? ownerAddress.Address1 + " " + ownerAddress.Address2 : string.Empty;
        //                    if (docuementType == "Post Approval Amendment")
        //                    {
        //                        val = string.Empty;
        //                    }
        //                    if (updateJobDocumentField == null)
        //                    {
        //                        JobDocumentField JobDocumentField = new JobDocumentField
        //                        {
        //                            IdJobDocument = idJobDocument,
        //                            IdDocumentField = Convert.ToInt32(item.Id),
        //                            Value = val,
        //                            ActualValue = val
        //                        };
        //                        rpoContext.JobDocumentFields.Add(JobDocumentField);
        //                    }
        //                    else
        //                    {
        //                        string pdffield = rpoContext.DocumentFields.Where(x => x.IdField == item.IdField).Select(x => x.PdfFields).FirstOrDefault();
        //                        pdfFields.Add(pdffield);
        //                        updateJobDocumentField.Value = val;
        //                        updateJobDocumentField.ActualValue = val;
        //                        rpoContext.Entry(updateJobDocumentField).State = EntityState.Modified;
        //                        FieldsValue.Add(new IdItemName
        //                        {
        //                            Id = pdffield,
        //                            ItemName = updateJobDocumentField.ActualValue
        //                        });
        //                        rpoContext.SaveChanges();
        //                    }
        //                }
        //                else if (item.Field.FieldName == "city_owner")
        //                {
        //                    Address ownerAddress = new Address();
        //                    ownerAddress = job != null && job.RfpAddress != null && job.RfpAddress.OwnerContact != null && job.RfpAddress.OwnerContact.Addresses != null ? job.RfpAddress.OwnerContact.Addresses.FirstOrDefault(x => x.IsMainAddress == true) : null;
        //                    if (job != null && job.RfpAddress != null && job.RfpAddress.OwnerContact != null && job.RfpAddress.OwnerContact != null && job.RfpAddress.OwnerContact.IsPrimaryCompanyAddress == true)
        //                    {
        //                        int? company_id = job != null && job.RfpAddress != null && job.RfpAddress.OwnerContact != null && job.RfpAddress.OwnerContact != null && job.RfpAddress.OwnerContact != null ? job.RfpAddress.OwnerContact.IdCompany : 0;
        //                        ownerAddress = job != null && job.RfpAddress != null && job.RfpAddress.OwnerContact != null && job.RfpAddress.OwnerContact.Addresses != null && job.RfpAddress.OwnerContact.Company != null ? job.RfpAddress.OwnerContact.Company.Addresses.FirstOrDefault(x => x.IdCompany == company_id) : null;
        //                    }
        //                    string val = ownerAddress != null ? ownerAddress.City : string.Empty;
        //                    if (docuementType == "Post Approval Amendment")
        //                    {
        //                        val = string.Empty;
        //                    }
        //                    if (updateJobDocumentField == null)
        //                    {
        //                        JobDocumentField JobDocumentField = new JobDocumentField
        //                        {
        //                            IdJobDocument = idJobDocument,
        //                            IdDocumentField = Convert.ToInt32(item.Id),
        //                            Value = val,
        //                            ActualValue = val
        //                        };
        //                        rpoContext.JobDocumentFields.Add(JobDocumentField);
        //                    }
        //                    else
        //                    {
        //                        string pdffield = rpoContext.DocumentFields.Where(x => x.IdField == item.IdField).Select(x => x.PdfFields).FirstOrDefault();
        //                        pdfFields.Add(pdffield);
        //                        updateJobDocumentField.Value = val;
        //                        updateJobDocumentField.ActualValue = val;
        //                        rpoContext.Entry(updateJobDocumentField).State = EntityState.Modified;
        //                        FieldsValue.Add(new IdItemName
        //                        {
        //                            Id = pdffield,
        //                            ItemName = updateJobDocumentField.ActualValue
        //                        });
        //                        rpoContext.SaveChanges();
        //                    }
        //                }
        //                else if (item.Field.FieldName == "state_owner")
        //                {
        //                    Address ownerAddress = new Address();
        //                    ownerAddress = job != null && job.RfpAddress != null && job.RfpAddress.OwnerContact != null && job.RfpAddress.OwnerContact.Addresses != null ? job.RfpAddress.OwnerContact.Addresses.FirstOrDefault(x => x.IsMainAddress == true) : null;
        //                    if (job != null && job.RfpAddress != null && job.RfpAddress.OwnerContact != null && job.RfpAddress.OwnerContact != null && job.RfpAddress.OwnerContact.IsPrimaryCompanyAddress == true)
        //                    {
        //                        int? company_id = job != null && job.RfpAddress != null && job.RfpAddress.OwnerContact != null && job.RfpAddress.OwnerContact != null && job.RfpAddress.OwnerContact != null ? job.RfpAddress.OwnerContact.IdCompany : 0;
        //                        ownerAddress = job != null && job.RfpAddress != null && job.RfpAddress.OwnerContact != null && job.RfpAddress.OwnerContact.Addresses != null && job.RfpAddress.OwnerContact.Company != null ? job.RfpAddress.OwnerContact.Company.Addresses.FirstOrDefault(x => x.IdCompany == company_id) : null;
        //                    }

        //                    string val = ownerAddress != null && ownerAddress.State != null ? ownerAddress.State.Acronym : string.Empty;
        //                    if (docuementType == "Post Approval Amendment")
        //                    {
        //                        val = string.Empty;
        //                    }
        //                    if (updateJobDocumentField == null)
        //                    {
        //                        JobDocumentField JobDocumentField = new JobDocumentField
        //                        {
        //                            IdJobDocument = idJobDocument,
        //                            IdDocumentField = Convert.ToInt32(item.Id),
        //                            Value = val,
        //                            ActualValue = val
        //                        };
        //                        rpoContext.JobDocumentFields.Add(JobDocumentField);
        //                    }
        //                    else
        //                    {
        //                        string pdffield = rpoContext.DocumentFields.Where(x => x.IdField == item.IdField).Select(x => x.PdfFields).FirstOrDefault();
        //                        pdfFields.Add(pdffield);
        //                        updateJobDocumentField.Value = val;
        //                        updateJobDocumentField.ActualValue = val;
        //                        rpoContext.Entry(updateJobDocumentField).State = EntityState.Modified;
        //                        FieldsValue.Add(new IdItemName
        //                        {
        //                            Id = pdffield,
        //                            ItemName = updateJobDocumentField.ActualValue
        //                        });
        //                        rpoContext.SaveChanges();
        //                    }
        //                }
        //                else if (item.Field.FieldName == "zip_owner")
        //                {
        //                    Address ownerAddress = new Address();
        //                    ownerAddress = job != null && job.RfpAddress != null && job.RfpAddress.OwnerContact != null && job.RfpAddress.OwnerContact.Addresses != null ? job.RfpAddress.OwnerContact.Addresses.FirstOrDefault(x => x.IsMainAddress == true) : null;
        //                    if (job != null && job.RfpAddress != null && job.RfpAddress.OwnerContact != null && job.RfpAddress.OwnerContact != null && job.RfpAddress.OwnerContact.IsPrimaryCompanyAddress == true)
        //                    {
        //                        int? company_id = job != null && job.RfpAddress != null && job.RfpAddress.OwnerContact != null && job.RfpAddress.OwnerContact != null && job.RfpAddress.OwnerContact != null ? job.RfpAddress.OwnerContact.IdCompany : 0;
        //                        ownerAddress = job != null && job.RfpAddress != null && job.RfpAddress.OwnerContact != null && job.RfpAddress.OwnerContact.Addresses != null && job.RfpAddress.OwnerContact.Company != null ? job.RfpAddress.OwnerContact.Company.Addresses.FirstOrDefault(x => x.IdCompany == company_id) : null;
        //                    }

        //                    string val = ownerAddress != null ? ownerAddress.ZipCode : string.Empty;
        //                    if (docuementType == "Post Approval Amendment")
        //                    {
        //                        val = string.Empty;
        //                    }
        //                    if (updateJobDocumentField == null)
        //                    {
        //                        JobDocumentField JobDocumentField = new JobDocumentField
        //                        {
        //                            IdJobDocument = idJobDocument,
        //                            IdDocumentField = Convert.ToInt32(item.Id),
        //                            Value = val,
        //                            ActualValue = val
        //                        };
        //                        rpoContext.JobDocumentFields.Add(JobDocumentField);
        //                    }
        //                    else
        //                    {
        //                        string pdffield = rpoContext.DocumentFields.Where(x => x.IdField == item.IdField).Select(x => x.PdfFields).FirstOrDefault();
        //                        pdfFields.Add(pdffield);
        //                        updateJobDocumentField.Value = val;
        //                        updateJobDocumentField.ActualValue = val;
        //                        rpoContext.Entry(updateJobDocumentField).State = EntityState.Modified;
        //                        FieldsValue.Add(new IdItemName
        //                        {
        //                            Id = pdffield,
        //                            ItemName = updateJobDocumentField.ActualValue
        //                        });
        //                        rpoContext.SaveChanges();
        //                    }
        //                }
        //                else if (item.Field.FieldName == "email_owner")
        //                {
        //                    string val = job != null && job.RfpAddress != null && job.RfpAddress.OwnerContact != null ? job.RfpAddress.OwnerContact.Email : string.Empty;
        //                    if (docuementType == "Post Approval Amendment")
        //                    {
        //                        val = string.Empty;
        //                    }

        //                    if (updateJobDocumentField == null)
        //                    {
        //                        JobDocumentField JobDocumentField = new JobDocumentField
        //                        {
        //                            IdJobDocument = idJobDocument,
        //                            IdDocumentField = Convert.ToInt32(item.Id),
        //                            Value = val,
        //                            ActualValue = val
        //                        };
        //                        rpoContext.JobDocumentFields.Add(JobDocumentField);
        //                    }
        //                    else
        //                    {
        //                        string pdffield = rpoContext.DocumentFields.Where(x => x.IdField == item.IdField).Select(x => x.PdfFields).FirstOrDefault();
        //                        pdfFields.Add(pdffield);
        //                        updateJobDocumentField.Value = val;
        //                        updateJobDocumentField.ActualValue = val;
        //                        rpoContext.Entry(updateJobDocumentField).State = EntityState.Modified;
        //                        FieldsValue.Add(new IdItemName
        //                        {
        //                            Id = pdffield,
        //                            ItemName = updateJobDocumentField.ActualValue
        //                        });
        //                        rpoContext.SaveChanges();
        //                    }
        //                }
        //                else if (item.Field.FieldName == "job_desc")
        //                {
        //                    string val = job != null && job.RfpAddress != null && job.RfpAddress.OwnerContact != null ? job.RfpAddress.OwnerContact.FirstName : string.Empty;

        //                    if (updateJobDocumentField == null)
        //                    {
        //                        JobDocumentField JobDocumentField = new JobDocumentField
        //                        {
        //                            IdJobDocument = idJobDocument,
        //                            IdDocumentField = Convert.ToInt32(item.Id),
        //                            Value = desc,
        //                            ActualValue = desc
        //                        };
        //                        rpoContext.JobDocumentFields.Add(JobDocumentField);
        //                    }
        //                    else
        //                    {
        //                        string pdffield = rpoContext.DocumentFields.Where(x => x.IdField == item.IdField).Select(x => x.PdfFields).FirstOrDefault();
        //                        pdfFields.Add(pdffield);
        //                        updateJobDocumentField.Value = desc;
        //                        updateJobDocumentField.ActualValue = desc;
        //                        rpoContext.Entry(updateJobDocumentField).State = EntityState.Modified;
        //                        FieldsValue.Add(new IdItemName
        //                        {
        //                            Id = pdffield,
        //                            ItemName = updateJobDocumentField.ActualValue
        //                        });
        //                        rpoContext.SaveChanges();
        //                    }
        //                }

        //                rpoContext.SaveChanges();
        //            }
        //            else
        //            {

        //                if (item.Field.FieldName == "Application")
        //                {
        //                    int jobApplicantId = Convert.ToInt32(frontendFields.Value);
        //                    JobApplication jobApplication = rpoContext.JobApplications.FirstOrDefault(x => x.Id == jobApplicantId);
        //                    // ApplicationType = jobApplication != null && jobApplication.JobApplicationType != null ? jobApplication.JobApplicationType.Description : string.Empty;
        //                    ApplicationType = rpoContext.JobApplicationTypes.Where(x => x.Id == jobApplication.IdJobApplicationType).Select(x => x.Description).FirstOrDefault();

        //                    applicationNumber = jobApplication != null ? jobApplication.ApplicationNumber : string.Empty;
        //                    floorWorkingOn = jobApplication != null ? jobApplication.FloorWorking : string.Empty;

        //                    List<int> workTypesLst = (from p in rpoContext.JobApplicationWorkPermitTypes where p.IdJobApplication == jobApplication.Id select p.Id).ToList();


        //                    var jobApplicationWorkPermitType = rpoContext.JobApplicationWorkPermitTypes
        //                                                                .Include("JobWorkType")
        //                                                                .Where(x => workTypesLst.Contains(x.Id))
        //                                                                .Select(x => new
        //                                                                {
        //                                                                    Permittype = x.PermitType != null && x.PermitType != "" ? x.PermitType : x.JobWorkType.Description,
        //                                                                    PermitTypeCode = x.Code,
        //                                                                    Fees = x.PermitType != null && x.PermitType != "" ? x.EstimatedCost : x.EstimatedCost,
        //                                                                    WorkDescription = x.WorkDescription != "" ? x.WorkDescription.Trim() : string.Empty
        //                                                                }).ToList();
        //                    //Fees = x.PermitType != null && x.PermitType != "" ? x.RenewalFee : x.EstimatedCost

        //                    string permitType = jobApplicationWorkPermitType != null ? String.Join(",", jobApplicationWorkPermitType.Select(x => x.Permittype)) : string.Empty;
        //                    permitTypecode = jobApplicationWorkPermitType != null ? String.Join(",", jobApplicationWorkPermitType.Select(x => x.PermitTypeCode)) : string.Empty;
        //                    string fees = jobApplicationWorkPermitType != null ? String.Join(",", jobApplicationWorkPermitType.Select(x => x.Fees)) : string.Empty;
        //                    //  string fees1 = 0;
        //                    double? d = 0;
        //                    //string desc = string.Empty;
        //                    //  documentDescription = documentDescription + (!string.IsNullOrEmpty(permitType) ? "Work Type: " + permitType : string.Empty);
        //                    foreach (var item1 in jobApplicationWorkPermitType)
        //                    {
        //                        if (jobApplicationWorkPermitType.Count > 1)
        //                        {
        //                            d = d + (item1.Fees == null ? 0 : item1.Fees);
        //                            if (!string.IsNullOrEmpty(item1.WorkDescription))
        //                            {
        //                                string output = item1.WorkDescription.Trim().Substring(item1.WorkDescription.Trim().Length - 1, 1);
        //                                if (output == ".")
        //                                {
        //                                    desc = desc + item1.PermitTypeCode + " : " + item1.WorkDescription;
        //                                }
        //                                else
        //                                {
        //                                    desc = desc + item1.PermitTypeCode + " : " + item1.WorkDescription + ". ";
        //                                }
        //                            }
        //                        }
        //                        else
        //                        {
        //                            d = d + (item1.Fees == null ? 0 : item1.Fees);
        //                            if (!string.IsNullOrEmpty(item1.WorkDescription))
        //                            {
        //                                string output = item1.WorkDescription.Trim().Substring(item1.WorkDescription.Trim().Length - 1, 1);

        //                                if (output == ".")
        //                                {
        //                                    desc = desc + item1.PermitTypeCode + " : " + item1.WorkDescription;
        //                                }
        //                                else
        //                                {
        //                                    desc = desc + item1.PermitTypeCode + " : " + item1.WorkDescription + ". ";
        //                                }
        //                            }
        //                        }

        //                    }


        //                    if (updateJobDocumentField == null)
        //                    {
        //                        JobDocumentField JobDocumentField = new JobDocumentField
        //                        {
        //                            IdJobDocument = idJobDocument,
        //                            IdDocumentField = Convert.ToInt32(item.Id),
        //                            Value = frontendFields.Value,
        //                            ActualValue = applicationNumber
        //                        };
        //                        rpoContext.JobDocumentFields.Add(JobDocumentField);
        //                    }
        //                    else
        //                    {
        //                        updateJobDocumentField.Value = frontendFields.Value;
        //                        updateJobDocumentField.ActualValue = applicationNumber;
        //                        rpoContext.Entry(updateJobDocumentField).State = EntityState.Modified;
        //                        rpoContext.SaveChanges();
        //                    }
        //                }

        //                else if (item.Field.FieldName == "Applicant")
        //                {
        //                    int certifierid = Convert.ToInt32(frontendFields.Value);

        //                    JobContact jobContact = rpoContext.JobContacts.Where(x => x.Id == certifierid).FirstOrDefault();

        //                    applicantName = jobContact != null && jobContact.Contact != null ? jobContact.Contact.FirstName + " " + jobContact.Contact.LastName : string.Empty;
        //                    applicantFirstName = jobContact != null && jobContact.Contact != null ? jobContact.Contact.FirstName : string.Empty;
        //                    applicantMiddleName = jobContact != null && jobContact.Contact != null ? jobContact.Contact.MiddleName : string.Empty;
        //                    applicantLastName = jobContact != null && jobContact.Contact != null ? jobContact.Contact.LastName : string.Empty;
        //                    contactcompany = jobContact != null && jobContact.Contact != null && jobContact.Contact.Company != null ? jobContact.Contact.Company.Name : string.Empty;
        //                    // Address compnayAddress = jobContact != null && jobContact.Company != null && jobContact.Company.Addresses != null ? jobContact.Company.Addresses.OrderBy(x => x.AddressType.DisplayOrder).FirstOrDefault() : null;
        //                    Address compnayAddress = Common.GetContactAddressForJobDocument(jobContact);
        //                    businessAddress = compnayAddress != null ? compnayAddress.Address1 + " " + compnayAddress.Address2 : string.Empty;
        //                    businessCity = compnayAddress != null ? compnayAddress.City : string.Empty;
        //                    businessState = compnayAddress != null && compnayAddress.State != null ? compnayAddress.State.Acronym : string.Empty;
        //                    businessZip = compnayAddress != null ? compnayAddress.ZipCode : string.Empty;

        //                    contactMobilePhone = Common.GetContactPhoneNumberForJobDocument(jobContact);
        //                    //!= null && jobContact.Contact != null ? jobContact.Contact.MobilePhone : string.Empty;
        //                    contactEmail = jobContact != null ? jobContact.Contact.Email : string.Empty;
        //                    applicantmobilenumber = jobContact != null ? jobContact.Contact.MobilePhone : string.Empty;

        //                    string licenceTypeNumber = jobContact != null && jobContact.Contact != null && jobContact.Contact.ContactLicenses != null && jobContact.Contact.ContactLicenses.Count > 0 ?
        //                         jobContact.Contact.ContactLicenses.Select(x => x.Number).FirstOrDefault() : string.Empty;
        //                    if (!string.IsNullOrEmpty(licenceTypeNumber))
        //                    {
        //                        ContactLicense contactLicenseType = rpoContext.ContactLicenses.Where(a => a.Number == licenceTypeNumber).FirstOrDefault();
        //                        ContactLicenseType LicenseType = rpoContext.ContactLicenseTypes.Where(b => b.Id == contactLicenseType.IdContactLicenseType).FirstOrDefault();
        //                        if (LicenseType.Name == "Engineer")
        //                        {
        //                            contactLic_state_engineer = "pe";
        //                            contactLic_No = licenceTypeNumber;
        //                        }
        //                        else if (LicenseType.Name == "Architect")
        //                        {
        //                            contactLic_state_engineer = "ra";
        //                            contactLic_No = licenceTypeNumber;
        //                        }
        //                    }
        //                    else
        //                    {
        //                        licenceTypeNumber = jobContact != null && jobContact.Contact != null && jobContact.Contact.ContactLicenses != null && jobContact.Contact.ContactLicenses.Count > 0 ?
        //                        jobContact.Contact.ContactLicenses.Select(x => x.ContactLicenseType.Name).FirstOrDefault() : string.Empty;
        //                        if (licenceTypeNumber.ToLower() == ("Engineer").ToLower())
        //                        {
        //                            contactLic_state_engineer = "pe";
        //                        }
        //                        else if (licenceTypeNumber.ToLower() == ("Architect").ToLower())
        //                        {
        //                            contactLic_state_engineer = "ra";
        //                        }
        //                    }
        //                    contactTitle = jobContact != null && jobContact.Contact != null && jobContact.Contact.ContactTitle != null ? jobContact.Contact.ContactTitle.Name : string.Empty;
        //                    documentDescription = documentDescription + (!string.IsNullOrEmpty(documentDescription) && !string.IsNullOrEmpty(applicantFirstName + " " + applicantLastName) ? " | " : string.Empty) + (!string.IsNullOrEmpty(applicantFirstName + " " + applicantLastName) ? "Applicant: " + applicantFirstName + " " + applicantLastName : string.Empty);

        //                    if (updateJobDocumentField == null)
        //                    {
        //                        JobDocumentField JobDocumentField = new JobDocumentField
        //                        {
        //                            IdJobDocument = idJobDocument,
        //                            IdDocumentField = frontendFields.IdDocumentField,
        //                            Value = frontendFields.Value,
        //                            ActualValue = applicantLastName
        //                        };
        //                        rpoContext.JobDocumentFields.Add(JobDocumentField);
        //                        rpoContext.SaveChanges();
        //                    }
        //                    else
        //                    {
        //                        updateJobDocumentField.Value = frontendFields.Value;
        //                        updateJobDocumentField.ActualValue = applicantLastName;
        //                        rpoContext.Entry(updateJobDocumentField).State = EntityState.Modified;
        //                        rpoContext.SaveChanges();
        //                    }
        //                }

        //                else if (item.Field.FieldName == "Filing Representative")
        //                {
        //                    int idFilingRepresentative = Convert.ToInt32(frontendFields.Value);
        //                    //Employee employee = rpoContext.Employees.Where(x => x.Id == idFilingRepresentative).FirstOrDefault();
        //                    Employee employee = Common.GetEmployeeInformation(idFilingRepresentative);

        //                    filingRepresentativefirstname = employee != null ? employee.FirstName : string.Empty;
        //                    filingRepresentativelastname = employee != null ? employee.LastName : string.Empty;
        //                    frfirstname = employee != null ? employee.FirstName : string.Empty;
        //                    frLastname = employee != null ? employee.LastName : string.Empty;

        //                    filingRepresentativeCompany = "RPO INC";
        //                    filingRepresentativeaddress = employee != null ? employee.Address1 : string.Empty;
        //                    filingRepresentativePhone = employee != null ? employee.WorkPhone : string.Empty;
        //                    filingRepresentativeEmail = employee != null ? employee.Email : string.Empty;
        //                    filingRepresentativestate = employee != null ? employee.State.Acronym : string.Empty;
        //                    filingRepresentativecity = employee != null ? employee.City : string.Empty;
        //                    filingRepresentativezip = employee != null ? employee.ZipCode : string.Empty;
        //                    filingRepresentativemobile = employee != null ? employee.MobilePhone : string.Empty;
        //                    //  filingRepresentativeEmail = employee != null ? employee.Email : string.Empty;

        //                    string filingRepresentative = employee != null ? employee.FirstName + " " + employee.LastName : string.Empty;

        //                    AgentCertificate agentCertificate = rpoContext.AgentCertificates
        //                    .Include("DocumentType").FirstOrDefault(x => x.IdEmployee == idFilingRepresentative && x.DocumentType.Name.Equals("DOB Filing Representative"));
        //                    filingRepresentativRegnumber = agentCertificate != null ? agentCertificate.NumberId : string.Empty;
        //                    // documentDescription = documentDescription + (!string.IsNullOrEmpty(filingRepresentative) ? "Filing Representative: " + filingRepresentative : string.Empty);

        //                    documentDescription = documentDescription + (!string.IsNullOrEmpty(frfirstname) && !string.IsNullOrEmpty(frLastname) ? " | Filing Representative: " + frfirstname + " " + frLastname : string.Empty);
        //                    updateJobDocumentField = jobDocumentFieldList.FirstOrDefault(x => x.IdDocumentField == item.Id);
        //                    if (updateJobDocumentField == null)
        //                    {
        //                        JobDocumentField JobDocumentField = new JobDocumentField
        //                        {
        //                            IdJobDocument = idJobDocument,
        //                            IdDocumentField = Convert.ToInt32(item.Id),
        //                            Value = frontendFields.Value,
        //                            ActualValue = filingRepresentative,

        //                        };
        //                        rpoContext.JobDocumentFields.Add(JobDocumentField);
        //                    }
        //                    else
        //                    {
        //                        updateJobDocumentField.Value = frontendFields.Value;
        //                        updateJobDocumentField.ActualValue = filingRepresentative;
        //                        rpoContext.Entry(updateJobDocumentField).State = EntityState.Modified;
        //                        rpoContext.SaveChanges();
        //                    }
        //                }

        //                else
        //                {
        //                    if (updateJobDocumentField == null)
        //                    {
        //                        JobDocumentField JobDocumentField = new JobDocumentField
        //                        {
        //                            IdJobDocument = idJobDocument,
        //                            IdDocumentField = frontendFields.IdDocumentField,
        //                            Value = frontendFields.Value
        //                        };
        //                        rpoContext.JobDocumentFields.Add(JobDocumentField);
        //                        rpoContext.SaveChanges();
        //                    }
        //                    else
        //                    {
        //                        updateJobDocumentField.Value = frontendFields.Value;
        //                        rpoContext.Entry(updateJobDocumentField).State = EntityState.Modified;
        //                        rpoContext.SaveChanges();
        //                    }
        //                }
        //            }
        //        }
        //    }
        //    List<string> newpdfString = pdfFields;
        //    List<int> newDocumentFieldId = DocumentFieldsIds;
        //    jobDocument.DocumentDescription = documentDescription;
        //    jobDocument.JobDocumentFor = jobDocumentFor;
        //    rpoContext.SaveChanges();
        //    GenerateEditedJobDocument(idJobDocument, pdfFields, newDocumentFieldId, FieldsValue);



        //}

        public static void GenerateApplicationfortechmgmtplanexamination2023(int idJobDocument, JobDocumentCreateOrUpdateDTO jobDocumentCreateOrUpdateDTO)
        {
            RpoContext rpoContext = new RpoContext();
            var documentFieldList = rpoContext.DocumentFields.Include("Field").Where(x => x.IdDocument == jobDocumentCreateOrUpdateDTO.IdDocument).OrderByDescending(x => x.Field.IsDisplayInFrontend).ThenBy(x => x.DisplayOrder).ToList();
            JobDocument jobDocument = rpoContext.JobDocuments.FirstOrDefault(x => x.Id == idJobDocument);
            string documentDescription = string.Empty;
            string jobDocumentFor = string.Empty;

            if (documentFieldList != null && documentFieldList.Count > 0)
            {
                Job job = rpoContext.Jobs.Include("ProjectManager").
                    Include("Contact.ContactTitle").
                    Include("RfpAddress.Borough").
                    Include("Company.Addresses.AddressType").
                    Include("Company.Addresses.State")
                    .Where(x => x.Id == jobDocumentCreateOrUpdateDTO.IdJob).FirstOrDefault();

                string contactName = string.Empty;
                string licenceName = string.Empty;
                string contactName2 = string.Empty;
                string companyName2 = string.Empty;
                string location2 = string.Empty;
                string docuementType = string.Empty;
                string floorWorkingOn = string.Empty;
                string applicantFirstName = string.Empty;
                string applicantMiddleName = string.Empty;
                string applicantLastName = string.Empty;
                string contactcompany = string.Empty;
                string businessAddress = string.Empty;
                //   string businessAddress = string.Empty;
                string businessCity = string.Empty;
                string businessState = string.Empty;
                string businessZip = string.Empty;
                string contactMobilePhone = string.Empty;
                string contactEmail = string.Empty;
                string contactTitle = string.Empty;
                string documentType = string.Empty;
                string documentName = string.Empty;
                //   string contactcompany = string.Empty;
                string applicantmobilenumber = string.Empty;
                string contactLic_state_engineer = string.Empty;
                string contactLic_state_architect = string.Empty;
                string contactLic_No = string.Empty;
                string filingRepresentativeCompany = string.Empty;
                string filingRepresentativePhone = string.Empty;
                string filingRepresentativeEmail = string.Empty;

                string filingRepresentativeCompany2 = string.Empty;
                string filingRepresentativePhone2 = string.Empty;
                string filingRepresentativeEmail2 = string.Empty;


                string filingRepresentativeCompany3 = string.Empty;
                string filingRepresentativePhone3 = string.Empty;
                string filingRepresentativeEmail3 = string.Empty;


                string filingRepresentativefirstname = string.Empty;
                string frfirstname = string.Empty;
                string frLastname = string.Empty;
                string filingRepresentative2firstname = string.Empty;
                string filingRepresentativef3irstname = string.Empty;
                string filingRepresentativelastname = string.Empty;
                string filingRepresentative2lastname = string.Empty;
                string filingRepresentative3lastname = string.Empty;
                string filingRepresentativeaddress = string.Empty;
                string filingRepresentativecity = string.Empty;
                string filingRepresentativestate = string.Empty;
                string filingRepresentativezip = string.Empty;
                string filingRepresentativemobile = string.Empty;
                string filingRepresentativeemail = string.Empty;
                string filingRepresentativRegnumber = string.Empty;
                string[] permitTypecodeArr = new string[20];
                string permitTypecode = string.Empty;
                string estfees = string.Empty;
                string LR_Name = string.Empty;
                string LR_Relationship = string.Empty;
                string LR_Company = string.Empty;
                string LR_Address = string.Empty;
                string LR_City = string.Empty;
                string LR_State = string.Empty;
                string LR_Zip = string.Empty;
                string LR_Phone = string.Empty;
                string LR_Fax = string.Empty;
                string LR_EMail = string.Empty;
                string applicantName = string.Empty;
                string comments = string.Empty;
                string applicationNumber = string.Empty;
                string ApplicationType = string.Empty;
                string desc = string.Empty;
                var jobDocumentFieldList = rpoContext.JobDocumentFields.Where(x => x.IdJobDocument == idJobDocument).ToList();
                foreach (DocumentField item in documentFieldList)
                {
                    JobDocumentField updateJobDocumentField = jobDocumentFieldList.FirstOrDefault(x => x.IdDocumentField == item.Id);
                    var frontendFields = jobDocumentCreateOrUpdateDTO.JobDocumentFields.FirstOrDefault(x => x.IdDocumentField == item.Id);
                    if (frontendFields == null)
                    {
                        if (item.Field.FieldName == "JobFileInfo")
                        {
                            string jobFileInfo = job != null ? job.JobNumber + " - TM-1.pdf" : string.Empty;
                            if (updateJobDocumentField == null)
                            {
                                JobDocumentField JobDocumentField = new JobDocumentField
                                {
                                    IdJobDocument = idJobDocument,
                                    IdDocumentField = Convert.ToInt32(item.Id),
                                    Value = jobFileInfo,
                                    ActualValue = jobFileInfo
                                };
                                rpoContext.JobDocumentFields.Add(JobDocumentField);
                            }
                            else
                            {
                                updateJobDocumentField.Value = jobFileInfo;
                                updateJobDocumentField.ActualValue = jobFileInfo;
                                rpoContext.Entry(updateJobDocumentField).State = EntityState.Modified;
                                rpoContext.SaveChanges();
                            }
                        }
                        else if (item.Field.FieldName == "bldg_nrb")
                        {
                            string houseNumber = job != null && job.RfpAddress != null ? job.RfpAddress.HouseNumber : string.Empty;
                            if (updateJobDocumentField == null)
                            {
                                JobDocumentField JobDocumentField = new JobDocumentField
                                {
                                    IdJobDocument = idJobDocument,
                                    IdDocumentField = Convert.ToInt32(item.Id),
                                    Value = houseNumber,
                                    ActualValue = houseNumber
                                };
                                rpoContext.JobDocumentFields.Add(JobDocumentField);
                            }
                            else
                            {
                                updateJobDocumentField.Value = houseNumber;
                                updateJobDocumentField.ActualValue = houseNumber;
                                rpoContext.Entry(updateJobDocumentField).State = EntityState.Modified;
                                rpoContext.SaveChanges();
                            }
                        }
                        else if (item.Field.FieldName == "street")
                        {
                            string houseStreet = job != null && job.RfpAddress != null ? job.RfpAddress.Street : string.Empty;
                            if (updateJobDocumentField == null)
                            {
                                JobDocumentField JobDocumentField = new JobDocumentField
                                {
                                    IdJobDocument = idJobDocument,
                                    IdDocumentField = Convert.ToInt32(item.Id),
                                    Value = houseStreet,
                                    ActualValue = houseStreet
                                };
                                rpoContext.JobDocumentFields.Add(JobDocumentField);
                            }
                            else
                            {
                                updateJobDocumentField.Value = houseStreet;
                                updateJobDocumentField.ActualValue = houseStreet;
                                rpoContext.Entry(updateJobDocumentField).State = EntityState.Modified;
                                rpoContext.SaveChanges();
                            }
                        }
                        else if (item.Field.FieldName == "bin")
                        {
                            string binNumber = job != null && job.RfpAddress != null ? job.RfpAddress.BinNumber : string.Empty;

                            if (updateJobDocumentField == null)
                            {
                                JobDocumentField JobDocumentField = new JobDocumentField
                                {
                                    IdJobDocument = idJobDocument,
                                    IdDocumentField = Convert.ToInt32(item.Id),
                                    Value = binNumber,
                                    ActualValue = binNumber
                                };
                                rpoContext.JobDocumentFields.Add(JobDocumentField);
                            }
                            else
                            {
                                updateJobDocumentField.Value = binNumber;
                                updateJobDocumentField.ActualValue = binNumber;
                                rpoContext.Entry(updateJobDocumentField).State = EntityState.Modified;
                                rpoContext.SaveChanges();
                            }
                        }
                        else if (item.Field.FieldName == "block")
                        {
                            string block = job != null && job.RfpAddress != null ? job.RfpAddress.Block : string.Empty;
                            if (updateJobDocumentField == null)
                            {
                                JobDocumentField JobDocumentField = new JobDocumentField
                                {
                                    IdJobDocument = idJobDocument,
                                    IdDocumentField = Convert.ToInt32(item.Id),
                                    Value = block,
                                    ActualValue = block
                                };
                                rpoContext.JobDocumentFields.Add(JobDocumentField);
                            }
                            else
                            {
                                updateJobDocumentField.Value = block;
                                updateJobDocumentField.ActualValue = block;
                                rpoContext.Entry(updateJobDocumentField).State = EntityState.Modified;
                                rpoContext.SaveChanges();
                            }
                        }
                        else if (item.Field.FieldName == "lot")
                        {
                            string lot = job != null && job.RfpAddress != null ? job.RfpAddress.Lot : string.Empty;
                            if (updateJobDocumentField == null)
                            {
                                JobDocumentField JobDocumentField = new JobDocumentField
                                {
                                    IdJobDocument = idJobDocument,
                                    IdDocumentField = Convert.ToInt32(item.Id),
                                    Value = lot,
                                    ActualValue = lot
                                };
                                rpoContext.JobDocumentFields.Add(JobDocumentField);
                            }
                            else
                            {
                                updateJobDocumentField.Value = lot;
                                updateJobDocumentField.ActualValue = lot;
                                rpoContext.Entry(updateJobDocumentField).State = EntityState.Modified;
                                rpoContext.SaveChanges();
                            }
                        }
                        else if (item.Field.FieldName == "boro")
                        {
                            string borough = job != null && job.RfpAddress != null && job.RfpAddress.Borough != null ? job.RfpAddress.Borough.Description : string.Empty;
                            if (updateJobDocumentField == null)
                            {
                                JobDocumentField JobDocumentField = new JobDocumentField
                                {
                                    IdJobDocument = idJobDocument,
                                    IdDocumentField = Convert.ToInt32(item.Id),
                                    Value = borough,
                                    ActualValue = borough
                                };
                                rpoContext.JobDocumentFields.Add(JobDocumentField);
                            }
                            else
                            {
                                updateJobDocumentField.Value = borough;
                                updateJobDocumentField.ActualValue = borough;
                                rpoContext.Entry(updateJobDocumentField).State = EntityState.Modified;
                                rpoContext.SaveChanges();
                            }
                        }
                        else if (item.Field.FieldName == "zip")
                        {
                            string zipCode = job != null && job.RfpAddress != null ? job.RfpAddress.ZipCode : string.Empty;
                            if (updateJobDocumentField == null)
                            {
                                JobDocumentField JobDocumentField = new JobDocumentField
                                {
                                    IdJobDocument = idJobDocument,
                                    IdDocumentField = Convert.ToInt32(item.Id),
                                    Value = zipCode,
                                    ActualValue = zipCode
                                };
                                rpoContext.JobDocumentFields.Add(JobDocumentField);
                            }
                            else
                            {
                                updateJobDocumentField.Value = zipCode;
                                updateJobDocumentField.ActualValue = zipCode;
                                rpoContext.Entry(updateJobDocumentField).State = EntityState.Modified;
                                rpoContext.SaveChanges();
                            }
                        }
                        else if (item.Field.FieldName == "floor")
                        {
                            if (updateJobDocumentField == null)
                            {
                                JobDocumentField JobDocumentField = new JobDocumentField
                                {
                                    IdJobDocument = idJobDocument,
                                    IdDocumentField = Convert.ToInt32(item.Id),
                                    Value = floorWorkingOn,
                                    ActualValue = floorWorkingOn
                                };
                                rpoContext.JobDocumentFields.Add(JobDocumentField);
                            }
                            else
                            {
                                updateJobDocumentField.Value = floorWorkingOn;
                                updateJobDocumentField.ActualValue = floorWorkingOn;
                                rpoContext.Entry(updateJobDocumentField).State = EntityState.Modified;
                                rpoContext.SaveChanges();
                            }
                        }
                        else if (item.Field.FieldName == "last_name_applicant")
                        {
                            if (updateJobDocumentField == null)
                            {
                                JobDocumentField JobDocumentField = new JobDocumentField
                                {
                                    IdJobDocument = idJobDocument,
                                    IdDocumentField = Convert.ToInt32(item.Id),
                                    Value = applicantLastName,
                                    ActualValue = applicantLastName
                                };
                                rpoContext.JobDocumentFields.Add(JobDocumentField);
                            }
                            else
                            {
                                updateJobDocumentField.Value = applicantLastName;
                                updateJobDocumentField.ActualValue = applicantLastName;
                                rpoContext.Entry(updateJobDocumentField).State = EntityState.Modified;
                                rpoContext.SaveChanges();
                            }
                        }
                        else if (item.Field.FieldName == "first_name_applicant")
                        {
                            if (updateJobDocumentField == null)
                            {
                                JobDocumentField JobDocumentField = new JobDocumentField
                                {
                                    IdJobDocument = idJobDocument,
                                    IdDocumentField = Convert.ToInt32(item.Id),
                                    Value = applicantFirstName,
                                    ActualValue = applicantFirstName
                                };
                                rpoContext.JobDocumentFields.Add(JobDocumentField);
                            }
                            else
                            {
                                updateJobDocumentField.Value = applicantFirstName;
                                updateJobDocumentField.ActualValue = applicantFirstName;
                                rpoContext.Entry(updateJobDocumentField).State = EntityState.Modified;
                                rpoContext.SaveChanges();
                            }
                        }
                        else if (item.Field.FieldName == "lic_nbr_applicant")
                        {
                            if (updateJobDocumentField == null)
                            {
                                JobDocumentField JobDocumentField = new JobDocumentField
                                {
                                    IdJobDocument = idJobDocument,
                                    IdDocumentField = Convert.ToInt32(item.Id),
                                    Value = contactLic_No,
                                    ActualValue = contactLic_No
                                };
                                rpoContext.JobDocumentFields.Add(JobDocumentField);
                            }
                            else
                            {
                                updateJobDocumentField.Value = contactLic_No;
                                updateJobDocumentField.ActualValue = contactLic_No;
                                rpoContext.Entry(updateJobDocumentField).State = EntityState.Modified;
                                rpoContext.SaveChanges();
                            }
                        }
                        else if (item.Field.FieldName == "bus_name_applicant")
                        {
                            if (updateJobDocumentField == null)
                            {
                                JobDocumentField JobDocumentField = new JobDocumentField
                                {
                                    IdJobDocument = idJobDocument,
                                    IdDocumentField = Convert.ToInt32(item.Id),
                                    Value = contactcompany,
                                    ActualValue = contactcompany
                                };
                                rpoContext.JobDocumentFields.Add(JobDocumentField);
                            }
                            else
                            {
                                updateJobDocumentField.Value = contactcompany;
                                updateJobDocumentField.ActualValue = contactcompany;
                                rpoContext.Entry(updateJobDocumentField).State = EntityState.Modified;
                                rpoContext.SaveChanges();
                            }
                        }
                        else if (item.Field.FieldName == "bus_add_applicant")
                        {
                            if (updateJobDocumentField == null)
                            {
                                JobDocumentField JobDocumentField = new JobDocumentField
                                {
                                    IdJobDocument = idJobDocument,
                                    IdDocumentField = Convert.ToInt32(item.Id),
                                    Value = businessAddress,
                                    ActualValue = businessAddress
                                };
                                rpoContext.JobDocumentFields.Add(JobDocumentField);
                            }
                            else
                            {
                                updateJobDocumentField.Value = businessAddress;
                                updateJobDocumentField.ActualValue = businessAddress;
                                rpoContext.Entry(updateJobDocumentField).State = EntityState.Modified;
                                rpoContext.SaveChanges();
                            }
                        }
                        else if (item.Field.FieldName == "city_applicant")
                        {
                            if (updateJobDocumentField == null)
                            {
                                JobDocumentField JobDocumentField = new JobDocumentField
                                {
                                    IdJobDocument = idJobDocument,
                                    IdDocumentField = Convert.ToInt32(item.Id),
                                    Value = businessCity,
                                    ActualValue = businessCity
                                };
                                rpoContext.JobDocumentFields.Add(JobDocumentField);
                            }
                            else
                            {
                                updateJobDocumentField.Value = businessCity;
                                updateJobDocumentField.ActualValue = businessCity;
                                rpoContext.Entry(updateJobDocumentField).State = EntityState.Modified;
                                rpoContext.SaveChanges();
                            }
                        }
                        else if (item.Field.FieldName == "phone_business_applicant")
                        {
                            if (updateJobDocumentField == null)
                            {
                                JobDocumentField JobDocumentField = new JobDocumentField
                                {
                                    IdJobDocument = idJobDocument,
                                    IdDocumentField = Convert.ToInt32(item.Id),
                                    Value = contactMobilePhone,
                                    ActualValue = contactMobilePhone
                                };
                                rpoContext.JobDocumentFields.Add(JobDocumentField);
                            }
                            else
                            {
                                updateJobDocumentField.Value = contactMobilePhone;
                                updateJobDocumentField.ActualValue = contactMobilePhone;
                                rpoContext.Entry(updateJobDocumentField).State = EntityState.Modified;
                                rpoContext.SaveChanges();
                            }
                        }
                        else if (item.Field.FieldName == "email_applicant")
                        {
                            if (updateJobDocumentField == null)
                            {
                                JobDocumentField JobDocumentField = new JobDocumentField
                                {
                                    IdJobDocument = idJobDocument,
                                    IdDocumentField = Convert.ToInt32(item.Id),
                                    Value = contactEmail,
                                    ActualValue = contactEmail
                                };
                                rpoContext.JobDocumentFields.Add(JobDocumentField);
                            }
                            else
                            {
                                updateJobDocumentField.Value = contactEmail;
                                updateJobDocumentField.ActualValue = contactEmail;
                                rpoContext.Entry(updateJobDocumentField).State = EntityState.Modified;
                                rpoContext.SaveChanges();
                            }
                        }
                        else if (item.Field.FieldName == "state_applicant")
                        {
                            if (updateJobDocumentField == null)
                            {
                                JobDocumentField JobDocumentField = new JobDocumentField
                                {
                                    IdJobDocument = idJobDocument,
                                    IdDocumentField = Convert.ToInt32(item.Id),
                                    Value = businessState,
                                    ActualValue = businessState
                                };
                                rpoContext.JobDocumentFields.Add(JobDocumentField);
                            }
                            else
                            {
                                updateJobDocumentField.Value = businessState;
                                updateJobDocumentField.ActualValue = businessState;
                                rpoContext.Entry(updateJobDocumentField).State = EntityState.Modified;
                                rpoContext.SaveChanges();
                            }
                        }
                        else if (item.Field.FieldName == "zip_applicant")
                        {
                            if (updateJobDocumentField == null)
                            {
                                JobDocumentField JobDocumentField = new JobDocumentField
                                {
                                    IdJobDocument = idJobDocument,
                                    IdDocumentField = Convert.ToInt32(item.Id),
                                    Value = businessZip,
                                    ActualValue = businessZip
                                };
                                rpoContext.JobDocumentFields.Add(JobDocumentField);
                            }
                            else
                            {
                                updateJobDocumentField.Value = businessZip;
                                updateJobDocumentField.ActualValue = businessZip;
                                rpoContext.Entry(updateJobDocumentField).State = EntityState.Modified;
                                rpoContext.SaveChanges();
                            }
                        }
                        else if (item.Field.FieldName == "box1_applicant")
                        {
                            if (updateJobDocumentField == null)
                            {
                                JobDocumentField JobDocumentField = new JobDocumentField
                                {
                                    IdJobDocument = idJobDocument,
                                    IdDocumentField = Convert.ToInt32(item.Id),
                                    Value = contactLic_state_engineer,
                                    ActualValue = contactLic_state_engineer
                                };
                                rpoContext.JobDocumentFields.Add(JobDocumentField);
                            }
                            else
                            {
                                updateJobDocumentField.Value = contactLic_state_engineer;
                                updateJobDocumentField.ActualValue = contactLic_state_engineer;
                                rpoContext.Entry(updateJobDocumentField).State = EntityState.Modified;
                                rpoContext.SaveChanges();
                            }
                        }
                        else if (item.Field.FieldName == "last_name_fp")
                        {
                            if (updateJobDocumentField == null)
                            {
                                JobDocumentField JobDocumentField = new JobDocumentField
                                {
                                    IdJobDocument = idJobDocument,
                                    IdDocumentField = Convert.ToInt32(item.Id),
                                    Value = filingRepresentativelastname,
                                    ActualValue = filingRepresentativelastname
                                };
                                rpoContext.JobDocumentFields.Add(JobDocumentField);
                            }
                            else
                            {
                                updateJobDocumentField.Value = filingRepresentativelastname;
                                updateJobDocumentField.ActualValue = filingRepresentativelastname;
                                rpoContext.Entry(updateJobDocumentField).State = EntityState.Modified;
                                rpoContext.SaveChanges();
                            }
                        }
                        else if (item.Field.FieldName == "first_name_fp")
                        {
                            if (updateJobDocumentField == null)
                            {
                                JobDocumentField JobDocumentField = new JobDocumentField
                                {
                                    IdJobDocument = idJobDocument,
                                    IdDocumentField = Convert.ToInt32(item.Id),
                                    Value = filingRepresentativefirstname,
                                    ActualValue = filingRepresentativefirstname
                                };
                                rpoContext.JobDocumentFields.Add(JobDocumentField);
                            }
                            else
                            {
                                updateJobDocumentField.Value = filingRepresentativefirstname;
                                updateJobDocumentField.ActualValue = filingRepresentativefirstname;
                                rpoContext.Entry(updateJobDocumentField).State = EntityState.Modified;
                                rpoContext.SaveChanges();
                            }
                        }
                        else if (item.Field.FieldName == "reg_no")
                        {
                            if (updateJobDocumentField == null)
                            {
                                JobDocumentField JobDocumentField = new JobDocumentField
                                {
                                    IdJobDocument = idJobDocument,
                                    IdDocumentField = Convert.ToInt32(item.Id),
                                    Value = filingRepresentativRegnumber,
                                    ActualValue = filingRepresentativRegnumber
                                };
                                rpoContext.JobDocumentFields.Add(JobDocumentField);
                            }
                            else
                            {
                                updateJobDocumentField.Value = filingRepresentativRegnumber;
                                updateJobDocumentField.ActualValue = filingRepresentativRegnumber;
                                rpoContext.Entry(updateJobDocumentField).State = EntityState.Modified;
                                rpoContext.SaveChanges();
                            }
                        }
                        else if (item.Field.FieldName == "bus_name_fp")
                        {
                            if (updateJobDocumentField == null)
                            {
                                JobDocumentField JobDocumentField = new JobDocumentField
                                {
                                    IdJobDocument = idJobDocument,
                                    IdDocumentField = Convert.ToInt32(item.Id),
                                    Value = filingRepresentativeCompany,
                                    ActualValue = filingRepresentativeCompany
                                };
                                rpoContext.JobDocumentFields.Add(JobDocumentField);
                            }
                            else
                            {
                                updateJobDocumentField.Value = filingRepresentativeCompany;
                                updateJobDocumentField.ActualValue = filingRepresentativeCompany;
                                rpoContext.Entry(updateJobDocumentField).State = EntityState.Modified;
                                rpoContext.SaveChanges();
                            }
                        }
                        else if (item.Field.FieldName == "fp_bus_tel")
                        {
                            if (updateJobDocumentField == null)
                            {
                                JobDocumentField JobDocumentField = new JobDocumentField
                                {
                                    IdJobDocument = idJobDocument,
                                    IdDocumentField = Convert.ToInt32(item.Id),
                                    Value = filingRepresentativePhone,
                                    ActualValue = filingRepresentativePhone
                                };
                                rpoContext.JobDocumentFields.Add(JobDocumentField);
                            }
                            else
                            {
                                updateJobDocumentField.Value = filingRepresentativePhone;
                                updateJobDocumentField.ActualValue = filingRepresentativePhone;
                                rpoContext.Entry(updateJobDocumentField).State = EntityState.Modified;
                                rpoContext.SaveChanges();
                            }
                        }
                        else if (item.Field.FieldName == "bus_add_fp")
                        {
                            if (updateJobDocumentField == null)
                            {
                                JobDocumentField JobDocumentField = new JobDocumentField
                                {
                                    IdJobDocument = idJobDocument,
                                    IdDocumentField = Convert.ToInt32(item.Id),
                                    Value = filingRepresentativeaddress,
                                    ActualValue = filingRepresentativeaddress
                                };
                                rpoContext.JobDocumentFields.Add(JobDocumentField);
                            }
                            else
                            {
                                updateJobDocumentField.Value = filingRepresentativeaddress;
                                updateJobDocumentField.ActualValue = filingRepresentativeaddress;
                                rpoContext.Entry(updateJobDocumentField).State = EntityState.Modified;
                                rpoContext.SaveChanges();
                            }
                        }
                        else if (item.Field.FieldName == "city_fp")
                        {
                            if (updateJobDocumentField == null)
                            {
                                JobDocumentField JobDocumentField = new JobDocumentField
                                {
                                    IdJobDocument = idJobDocument,
                                    IdDocumentField = Convert.ToInt32(item.Id),
                                    Value = filingRepresentativecity,
                                    ActualValue = filingRepresentativecity
                                };
                                rpoContext.JobDocumentFields.Add(JobDocumentField);
                            }
                            else
                            {
                                updateJobDocumentField.Value = filingRepresentativecity;
                                updateJobDocumentField.ActualValue = filingRepresentativecity;
                                rpoContext.Entry(updateJobDocumentField).State = EntityState.Modified;
                                rpoContext.SaveChanges();
                            }
                        }
                        else if (item.Field.FieldName == "state_fp")
                        {
                            if (updateJobDocumentField == null)
                            {
                                JobDocumentField JobDocumentField = new JobDocumentField
                                {
                                    IdJobDocument = idJobDocument,
                                    IdDocumentField = Convert.ToInt32(item.Id),
                                    Value = filingRepresentativestate,
                                    ActualValue = filingRepresentativestate
                                };
                                rpoContext.JobDocumentFields.Add(JobDocumentField);
                            }
                            else
                            {
                                updateJobDocumentField.Value = filingRepresentativestate;
                                updateJobDocumentField.ActualValue = filingRepresentativestate;
                                rpoContext.Entry(updateJobDocumentField).State = EntityState.Modified;
                                rpoContext.SaveChanges();
                            }
                        }
                        else if (item.Field.FieldName == "fp_zip")
                        {
                            if (updateJobDocumentField == null)
                            {
                                JobDocumentField JobDocumentField = new JobDocumentField
                                {
                                    IdJobDocument = idJobDocument,
                                    IdDocumentField = Convert.ToInt32(item.Id),
                                    Value = filingRepresentativezip,
                                    ActualValue = filingRepresentativezip
                                };
                                rpoContext.JobDocumentFields.Add(JobDocumentField);
                            }
                            else
                            {
                                updateJobDocumentField.Value = filingRepresentativezip;
                                updateJobDocumentField.ActualValue = filingRepresentativezip;
                                rpoContext.Entry(updateJobDocumentField).State = EntityState.Modified;
                                rpoContext.SaveChanges();
                            }
                        }
                        else if (item.Field.FieldName == "email_fp")
                        {
                            if (updateJobDocumentField == null)
                            {
                                JobDocumentField JobDocumentField = new JobDocumentField
                                {
                                    IdJobDocument = idJobDocument,
                                    IdDocumentField = Convert.ToInt32(item.Id),
                                    Value = filingRepresentativeEmail,
                                    ActualValue = filingRepresentativeEmail
                                };
                                rpoContext.JobDocumentFields.Add(JobDocumentField);
                            }
                            else
                            {
                                updateJobDocumentField.Value = filingRepresentativeEmail;
                                updateJobDocumentField.ActualValue = filingRepresentativeEmail;
                                rpoContext.Entry(updateJobDocumentField).State = EntityState.Modified;
                                rpoContext.SaveChanges();
                            }
                        }
                        else if (item.Field.FieldName == "hob")
                        {
                            string height = job != null && job.RfpAddress != null ? Convert.ToString(job.RfpAddress.Feet) : string.Empty;

                            if (updateJobDocumentField == null)
                            {
                                JobDocumentField JobDocumentField = new JobDocumentField
                                {
                                    IdJobDocument = idJobDocument,
                                    IdDocumentField = Convert.ToInt32(item.Id),
                                    Value = height,
                                    ActualValue = height
                                };
                                rpoContext.JobDocumentFields.Add(JobDocumentField);
                            }
                            else
                            {
                                updateJobDocumentField.Value = height;
                                updateJobDocumentField.ActualValue = height;
                                rpoContext.Entry(updateJobDocumentField).State = EntityState.Modified;
                                rpoContext.SaveChanges();
                            }
                        }
                        else if (item.Field.FieldName == "bs")
                        {
                            string stories = job != null && job.RfpAddress != null ? Convert.ToString(job.RfpAddress.Stories) : string.Empty;
                            // JobDocumentField updateJobDocumentField = jobDocumentFieldList.FirstOrDefault(x => x.IdDocumentField == item.Id);
                            if (updateJobDocumentField == null)
                            {
                                JobDocumentField JobDocumentField = new JobDocumentField
                                {
                                    IdJobDocument = idJobDocument,
                                    IdDocumentField = Convert.ToInt32(item.Id),
                                    Value = stories,
                                    ActualValue = stories,
                                };
                                rpoContext.JobDocumentFields.Add(JobDocumentField);
                            }
                            else
                            {
                                updateJobDocumentField.Value = stories;
                                updateJobDocumentField.ActualValue = stories;
                                rpoContext.Entry(updateJobDocumentField).State = EntityState.Modified;
                                rpoContext.SaveChanges();
                            }
                        }
                        else if (item.Field.FieldName == "cc")
                        {
                            string ConstructionClassification = job != null && job.RfpAddress != null && job.RfpAddress.ConstructionClassification != null ? Convert.ToString(job.RfpAddress.ConstructionClassification.Code) : string.Empty;

                            if (updateJobDocumentField == null)
                            {
                                JobDocumentField JobDocumentField = new JobDocumentField
                                {
                                    IdJobDocument = idJobDocument,
                                    IdDocumentField = Convert.ToInt32(item.Id),
                                    Value = ConstructionClassification,
                                    ActualValue = ConstructionClassification
                                };
                                rpoContext.JobDocumentFields.Add(JobDocumentField);
                            }
                            else
                            {
                                updateJobDocumentField.Value = ConstructionClassification;
                                updateJobDocumentField.ActualValue = ConstructionClassification;
                                rpoContext.Entry(updateJobDocumentField).State = EntityState.Modified;
                                rpoContext.SaveChanges();
                            }
                        }
                        else if (item.Field.FieldName == "landmark")
                        {
                            string Landmark = string.Empty;
                            if (job != null && job.RfpAddress != null && job.RfpAddress.IsLandmark == true)
                            {
                                Landmark = "Yes";
                            }
                            else
                            {
                                Landmark = "No";
                            }

                            if (updateJobDocumentField == null)
                            {
                                JobDocumentField JobDocumentField = new JobDocumentField
                                {
                                    IdJobDocument = idJobDocument,
                                    IdDocumentField = Convert.ToInt32(item.Id),
                                    Value = Landmark,
                                    ActualValue = Landmark
                                };
                                rpoContext.JobDocumentFields.Add(JobDocumentField);
                            }
                            else
                            {
                                updateJobDocumentField.Value = Landmark;
                                updateJobDocumentField.ActualValue = Landmark;
                                rpoContext.Entry(updateJobDocumentField).State = EntityState.Modified;
                                rpoContext.SaveChanges();
                            }
                        }
                        else if (item.Field.FieldName == "flood_area")
                        {
                            string val = string.Empty;
                            if (job != null && job.RfpAddress != null && job.RfpAddress.SpecialFloodHazardAreaCheck == true)
                            {
                                val = "Yes";
                            }
                            else
                            {
                                val = "No";
                            }

                            if (updateJobDocumentField == null)
                            {
                                JobDocumentField JobDocumentField = new JobDocumentField
                                {
                                    IdJobDocument = idJobDocument,
                                    IdDocumentField = Convert.ToInt32(item.Id),
                                    Value = val,
                                    ActualValue = val
                                };
                                rpoContext.JobDocumentFields.Add(JobDocumentField);
                            }
                            else
                            {
                                updateJobDocumentField.Value = val;
                                updateJobDocumentField.ActualValue = val;
                                rpoContext.Entry(updateJobDocumentField).State = EntityState.Modified;
                                rpoContext.SaveChanges();
                            }
                        }
                        else if (item.Field.FieldName == "name_applicant_print")
                        {
                            if (updateJobDocumentField == null)
                            {
                                JobDocumentField JobDocumentField = new JobDocumentField
                                {
                                    IdJobDocument = idJobDocument,
                                    IdDocumentField = Convert.ToInt32(item.Id),
                                    Value = applicantName,
                                    ActualValue = applicantName
                                };
                                rpoContext.JobDocumentFields.Add(JobDocumentField);
                            }
                            else
                            {
                                updateJobDocumentField.Value = applicantName;
                                updateJobDocumentField.ActualValue = applicantName;
                                rpoContext.Entry(updateJobDocumentField).State = EntityState.Modified;
                                rpoContext.SaveChanges();
                            }
                        }
                        else if (item.Field.FieldName == "name_owner_print")
                        {
                            string val = job != null && job.RfpAddress != null && job.RfpAddress.OwnerContact != null ? job.RfpAddress.OwnerContact.FirstName + " " + job.RfpAddress.OwnerContact.LastName : string.Empty;

                            if (updateJobDocumentField == null)
                            {
                                JobDocumentField JobDocumentField = new JobDocumentField
                                {
                                    IdJobDocument = idJobDocument,
                                    IdDocumentField = Convert.ToInt32(item.Id),
                                    Value = val,
                                    ActualValue = val
                                };
                                rpoContext.JobDocumentFields.Add(JobDocumentField);
                            }
                            else
                            {
                                updateJobDocumentField.Value = val;
                                updateJobDocumentField.ActualValue = val;
                                rpoContext.Entry(updateJobDocumentField).State = EntityState.Modified;
                                rpoContext.SaveChanges();
                            }
                        }
                        else if (item.Field.FieldName == "last_name_owner")
                        {
                            string val = job != null && job.RfpAddress != null && job.RfpAddress.OwnerContact != null ? job.RfpAddress.OwnerContact.LastName : string.Empty;

                            if (updateJobDocumentField == null)
                            {
                                JobDocumentField JobDocumentField = new JobDocumentField
                                {
                                    IdJobDocument = idJobDocument,
                                    IdDocumentField = Convert.ToInt32(item.Id),
                                    Value = val,
                                    ActualValue = val
                                };
                                rpoContext.JobDocumentFields.Add(JobDocumentField);
                            }
                            else
                            {
                                updateJobDocumentField.Value = val;
                                updateJobDocumentField.ActualValue = val;
                                rpoContext.Entry(updateJobDocumentField).State = EntityState.Modified;
                                rpoContext.SaveChanges();
                            }
                        }
                        else if (item.Field.FieldName == "first_name_owner")
                        {
                            string val = job != null && job.RfpAddress != null && job.RfpAddress.OwnerContact != null ? job.RfpAddress.OwnerContact.FirstName : string.Empty;

                            if (updateJobDocumentField == null)
                            {
                                JobDocumentField JobDocumentField = new JobDocumentField
                                {
                                    IdJobDocument = idJobDocument,
                                    IdDocumentField = Convert.ToInt32(item.Id),
                                    Value = val,
                                    ActualValue = val
                                };
                                rpoContext.JobDocumentFields.Add(JobDocumentField);
                            }
                            else
                            {
                                updateJobDocumentField.Value = val;
                                updateJobDocumentField.ActualValue = val;
                                rpoContext.Entry(updateJobDocumentField).State = EntityState.Modified;
                                rpoContext.SaveChanges();
                            }
                        }
                        else if (item.Field.FieldName == "owner_bus_phone")
                        {
                            string ownerPhone = job != null && job.RfpAddress != null && job.RfpAddress.OwnerContact != null ? job.RfpAddress.OwnerContact.WorkPhone : string.Empty;
                            if (ownerPhone == null || ownerPhone == "")
                            {
                                ownerPhone = job != null && job.RfpAddress != null && job.RfpAddress.OwnerContact != null ? job.RfpAddress.OwnerContact.MobilePhone : string.Empty;
                            }
                            if (docuementType == "Post Approval Amendment")
                            {
                                ownerPhone = string.Empty;
                            }
                            if (updateJobDocumentField == null)
                            {
                                JobDocumentField JobDocumentField = new JobDocumentField
                                {
                                    IdJobDocument = idJobDocument,
                                    IdDocumentField = Convert.ToInt32(item.Id),
                                    Value = ownerPhone,
                                    ActualValue = ownerPhone
                                };
                                rpoContext.JobDocumentFields.Add(JobDocumentField);
                            }
                            else
                            {
                                updateJobDocumentField.Value = ownerPhone;
                                updateJobDocumentField.ActualValue = ownerPhone;
                                rpoContext.Entry(updateJobDocumentField).State = EntityState.Modified;
                                rpoContext.SaveChanges();
                            }
                        }
                        else if (item.Field.FieldName == "bus_name_owner")
                        {
                            Contact owner = job != null && job.RfpAddress != null && job.RfpAddress.OwnerContact != null ? job.RfpAddress.OwnerContact : null;
                            string val = owner != null && owner.Company != null ? owner.Company.Name : string.Empty;
                            if (docuementType == "Post Approval Amendment")
                            {
                                val = string.Empty;
                            }

                            if (updateJobDocumentField == null)
                            {
                                JobDocumentField JobDocumentField = new JobDocumentField
                                {
                                    IdJobDocument = idJobDocument,
                                    IdDocumentField = Convert.ToInt32(item.Id),
                                    Value = val,
                                    ActualValue = val
                                };
                                rpoContext.JobDocumentFields.Add(JobDocumentField);
                            }
                            else
                            {
                                updateJobDocumentField.Value = val;
                                updateJobDocumentField.ActualValue = val;
                                rpoContext.Entry(updateJobDocumentField).State = EntityState.Modified;
                                rpoContext.SaveChanges();
                            }
                        }
                        else if (item.Field.FieldName == "bus_add_owner")
                        {
                            Address ownerAddress = new Address();
                            ownerAddress = job != null && job.RfpAddress != null && job.RfpAddress.OwnerContact != null && job.RfpAddress.OwnerContact.Company != null && job.RfpAddress.OwnerContact.Company.Addresses != null ? job.RfpAddress.OwnerContact.Company.Addresses.FirstOrDefault(x => x.IsMainAddress == true) : null;
                            if (ownerAddress == null)
                            {
                                if (job != null && job.RfpAddress != null && job.RfpAddress.OwnerContact != null && job.RfpAddress.OwnerContact != null && job.RfpAddress.OwnerContact.IsPrimaryCompanyAddress == true)
                                {
                                    int? company_id = job != null && job.RfpAddress != null && job.RfpAddress.OwnerContact != null && job.RfpAddress.OwnerContact != null && job.RfpAddress.OwnerContact != null ? job.RfpAddress.OwnerContact.IdCompany : 0;
                                    ownerAddress = job != null && job.RfpAddress != null && job.RfpAddress.OwnerContact != null && job.RfpAddress.OwnerContact.Addresses != null && job.RfpAddress.OwnerContact.Company != null ? job.RfpAddress.OwnerContact.Company.Addresses.FirstOrDefault(x => x.IdCompany == company_id) : null;
                                }
                            }
                            string val = ownerAddress != null ? ownerAddress.Address1 + " " + ownerAddress.Address2 : string.Empty;
                            if (docuementType == "Post Approval Amendment")
                            {
                                val = string.Empty;
                            }
                            if (updateJobDocumentField == null)
                            {
                                JobDocumentField JobDocumentField = new JobDocumentField
                                {
                                    IdJobDocument = idJobDocument,
                                    IdDocumentField = Convert.ToInt32(item.Id),
                                    Value = val,
                                    ActualValue = val
                                };
                                rpoContext.JobDocumentFields.Add(JobDocumentField);
                            }
                            else
                            {
                                updateJobDocumentField.Value = val;
                                updateJobDocumentField.ActualValue = val;
                                rpoContext.Entry(updateJobDocumentField).State = EntityState.Modified;
                                rpoContext.SaveChanges();
                            }
                        }
                        else if (item.Field.FieldName == "city_owner")
                        {
                            Address ownerAddress = new Address();
                            ownerAddress = job != null && job.RfpAddress != null && job.RfpAddress.OwnerContact != null && job.RfpAddress.OwnerContact.Addresses != null ? job.RfpAddress.OwnerContact.Addresses.FirstOrDefault(x => x.IsMainAddress == true) : null;
                            if (job != null && job.RfpAddress != null && job.RfpAddress.OwnerContact != null && job.RfpAddress.OwnerContact != null && job.RfpAddress.OwnerContact.IsPrimaryCompanyAddress == true)
                            {
                                int? company_id = job != null && job.RfpAddress != null && job.RfpAddress.OwnerContact != null && job.RfpAddress.OwnerContact != null && job.RfpAddress.OwnerContact != null ? job.RfpAddress.OwnerContact.IdCompany : 0;
                                ownerAddress = job != null && job.RfpAddress != null && job.RfpAddress.OwnerContact != null && job.RfpAddress.OwnerContact.Addresses != null && job.RfpAddress.OwnerContact.Company != null ? job.RfpAddress.OwnerContact.Company.Addresses.FirstOrDefault(x => x.IdCompany == company_id) : null;
                            }
                            string val = ownerAddress != null ? ownerAddress.City : string.Empty;
                            if (docuementType == "Post Approval Amendment")
                            {
                                val = string.Empty;
                            }
                            if (updateJobDocumentField == null)
                            {
                                JobDocumentField JobDocumentField = new JobDocumentField
                                {
                                    IdJobDocument = idJobDocument,
                                    IdDocumentField = Convert.ToInt32(item.Id),
                                    Value = val,
                                    ActualValue = val
                                };
                                rpoContext.JobDocumentFields.Add(JobDocumentField);
                            }
                            else
                            {
                                updateJobDocumentField.Value = val;
                                updateJobDocumentField.ActualValue = val;
                                rpoContext.Entry(updateJobDocumentField).State = EntityState.Modified;
                                rpoContext.SaveChanges();
                            }
                        }
                        else if (item.Field.FieldName == "state_owner")
                        {
                            Address ownerAddress = new Address();
                            ownerAddress = job != null && job.RfpAddress != null && job.RfpAddress.OwnerContact != null && job.RfpAddress.OwnerContact.Addresses != null ? job.RfpAddress.OwnerContact.Addresses.FirstOrDefault(x => x.IsMainAddress == true) : null;
                            if (job != null && job.RfpAddress != null && job.RfpAddress.OwnerContact != null && job.RfpAddress.OwnerContact != null && job.RfpAddress.OwnerContact.IsPrimaryCompanyAddress == true)
                            {
                                int? company_id = job != null && job.RfpAddress != null && job.RfpAddress.OwnerContact != null && job.RfpAddress.OwnerContact != null && job.RfpAddress.OwnerContact != null ? job.RfpAddress.OwnerContact.IdCompany : 0;
                                ownerAddress = job != null && job.RfpAddress != null && job.RfpAddress.OwnerContact != null && job.RfpAddress.OwnerContact.Addresses != null && job.RfpAddress.OwnerContact.Company != null ? job.RfpAddress.OwnerContact.Company.Addresses.FirstOrDefault(x => x.IdCompany == company_id) : null;
                            }

                            string val = ownerAddress != null && ownerAddress.State != null ? ownerAddress.State.Acronym : string.Empty;
                            if (docuementType == "Post Approval Amendment")
                            {
                                val = string.Empty;
                            }
                            if (updateJobDocumentField == null)
                            {
                                JobDocumentField JobDocumentField = new JobDocumentField
                                {
                                    IdJobDocument = idJobDocument,
                                    IdDocumentField = Convert.ToInt32(item.Id),
                                    Value = val,
                                    ActualValue = val
                                };
                                rpoContext.JobDocumentFields.Add(JobDocumentField);
                            }
                            else
                            {
                                updateJobDocumentField.Value = val;
                                updateJobDocumentField.ActualValue = val;
                                rpoContext.Entry(updateJobDocumentField).State = EntityState.Modified;
                                rpoContext.SaveChanges();
                            }
                        }
                        else if (item.Field.FieldName == "zip_owner")
                        {
                            Address ownerAddress = new Address();
                            ownerAddress = job != null && job.RfpAddress != null && job.RfpAddress.OwnerContact != null && job.RfpAddress.OwnerContact.Addresses != null ? job.RfpAddress.OwnerContact.Addresses.FirstOrDefault(x => x.IsMainAddress == true) : null;
                            if (job != null && job.RfpAddress != null && job.RfpAddress.OwnerContact != null && job.RfpAddress.OwnerContact != null && job.RfpAddress.OwnerContact.IsPrimaryCompanyAddress == true)
                            {
                                int? company_id = job != null && job.RfpAddress != null && job.RfpAddress.OwnerContact != null && job.RfpAddress.OwnerContact != null && job.RfpAddress.OwnerContact != null ? job.RfpAddress.OwnerContact.IdCompany : 0;
                                ownerAddress = job != null && job.RfpAddress != null && job.RfpAddress.OwnerContact != null && job.RfpAddress.OwnerContact.Addresses != null && job.RfpAddress.OwnerContact.Company != null ? job.RfpAddress.OwnerContact.Company.Addresses.FirstOrDefault(x => x.IdCompany == company_id) : null;
                            }

                            string val = ownerAddress != null ? ownerAddress.ZipCode : string.Empty;
                            if (docuementType == "Post Approval Amendment")
                            {
                                val = string.Empty;
                            }
                            if (updateJobDocumentField == null)
                            {
                                JobDocumentField JobDocumentField = new JobDocumentField
                                {
                                    IdJobDocument = idJobDocument,
                                    IdDocumentField = Convert.ToInt32(item.Id),
                                    Value = val,
                                    ActualValue = val
                                };
                                rpoContext.JobDocumentFields.Add(JobDocumentField);
                            }
                            else
                            {
                                updateJobDocumentField.Value = val;
                                updateJobDocumentField.ActualValue = val;
                                rpoContext.Entry(updateJobDocumentField).State = EntityState.Modified;
                                rpoContext.SaveChanges();
                            }
                        }
                        else if (item.Field.FieldName == "email_owner")
                        {
                            string val = job != null && job.RfpAddress != null && job.RfpAddress.OwnerContact != null ? job.RfpAddress.OwnerContact.Email : string.Empty;
                            if (docuementType == "Post Approval Amendment")
                            {
                                val = string.Empty;
                            }

                            if (updateJobDocumentField == null)
                            {
                                JobDocumentField JobDocumentField = new JobDocumentField
                                {
                                    IdJobDocument = idJobDocument,
                                    IdDocumentField = Convert.ToInt32(item.Id),
                                    Value = val,
                                    ActualValue = val
                                };
                                rpoContext.JobDocumentFields.Add(JobDocumentField);
                            }
                            else
                            {
                                updateJobDocumentField.Value = val;
                                updateJobDocumentField.ActualValue = val;
                                rpoContext.Entry(updateJobDocumentField).State = EntityState.Modified;
                                rpoContext.SaveChanges();
                            }
                        }
                        else if (item.Field.FieldName == "job_desc")
                        {
                            string val = job != null && job.RfpAddress != null && job.RfpAddress.OwnerContact != null ? job.RfpAddress.OwnerContact.FirstName : string.Empty;

                            if (updateJobDocumentField == null)
                            {
                                JobDocumentField JobDocumentField = new JobDocumentField
                                {
                                    IdJobDocument = idJobDocument,
                                    IdDocumentField = Convert.ToInt32(item.Id),
                                    Value = desc,
                                    ActualValue = desc
                                };
                                rpoContext.JobDocumentFields.Add(JobDocumentField);
                            }
                            else
                            {
                                updateJobDocumentField.Value = desc;
                                updateJobDocumentField.ActualValue = desc;
                                rpoContext.Entry(updateJobDocumentField).State = EntityState.Modified;
                                rpoContext.SaveChanges();
                            }
                        }

                        rpoContext.SaveChanges();
                    }
                    else
                    {

                        if (item.Field.FieldName == "Application")
                        {
                            int jobApplicantId = Convert.ToInt32(frontendFields.Value);
                            JobApplication jobApplication = rpoContext.JobApplications.FirstOrDefault(x => x.Id == jobApplicantId);
                            // ApplicationType = jobApplication != null && jobApplication.JobApplicationType != null ? jobApplication.JobApplicationType.Description : string.Empty;
                            ApplicationType = rpoContext.JobApplicationTypes.Where(x => x.Id == jobApplication.IdJobApplicationType).Select(x => x.Description).FirstOrDefault();

                            applicationNumber = jobApplication != null ? jobApplication.ApplicationNumber : string.Empty;
                            floorWorkingOn = jobApplication != null ? jobApplication.FloorWorking : string.Empty;


                            List<int> workTypesLst = (from p in rpoContext.JobApplicationWorkPermitTypes where p.IdJobApplication == jobApplication.Id select p.Id).ToList();


                            var jobApplicationWorkPermitType = rpoContext.JobApplicationWorkPermitTypes
                                                                        .Include("JobWorkType")
                                                                        .Where(x => workTypesLst.Contains(x.Id))
                                                                        .Select(x => new
                                                                        {
                                                                            Permittype = x.PermitType != null && x.PermitType != "" ? x.PermitType : x.JobWorkType.Description,
                                                                            PermitTypeCode = x.Code,
                                                                            Fees = x.PermitType != null && x.PermitType != "" ? x.EstimatedCost : x.EstimatedCost,
                                                                            WorkDescription = x.JobWorkType.Content != "" ? x.WorkDescription.Trim() : string.Empty
                                                                        }).ToList();
                            //Fees = x.PermitType != null && x.PermitType != "" ? x.RenewalFee : x.EstimatedCost

                            string permitType = jobApplicationWorkPermitType != null ? String.Join(",", jobApplicationWorkPermitType.Select(x => x.Permittype)) : string.Empty;
                            permitTypecode = jobApplicationWorkPermitType != null ? String.Join(",", jobApplicationWorkPermitType.Select(x => x.PermitTypeCode)) : string.Empty;
                            string fees = jobApplicationWorkPermitType != null ? String.Join(",", jobApplicationWorkPermitType.Select(x => x.Fees)) : string.Empty;
                            //  string fees1 = 0;
                            double? d = 0;
                            //string desc = string.Empty;
                            // documentDescription = documentDescription + (!string.IsNullOrEmpty(permitType) ? "Work Type: " + permitType : string.Empty);
                            foreach (var item1 in jobApplicationWorkPermitType)
                            {
                                if (jobApplicationWorkPermitType.Count > 1)
                                {
                                    d = d + (item1.Fees == null ? 0 : item1.Fees);
                                    if (!string.IsNullOrEmpty(item1.WorkDescription))
                                    {
                                        string output = item1.WorkDescription.Trim().Substring(item1.WorkDescription.Trim().Length - 1, 1);
                                        if (output == ".")
                                        {
                                            desc = desc + item1.PermitTypeCode + " : " + item1.WorkDescription;
                                        }
                                        else
                                        {
                                            desc = desc + item1.PermitTypeCode + " : " + item1.WorkDescription + ". ";
                                        }
                                    }
                                }
                                else
                                {
                                    d = d + (item1.Fees == null ? 0 : item1.Fees);
                                    if (!string.IsNullOrEmpty(item1.WorkDescription))
                                    {
                                        string output = item1.WorkDescription.Trim().Substring(item1.WorkDescription.Trim().Length - 1, 1);

                                        if (output == ".")
                                        {
                                            desc = desc + item1.PermitTypeCode + " : " + item1.WorkDescription;
                                        }
                                        else
                                        {
                                            desc = desc + item1.PermitTypeCode + " : " + item1.WorkDescription + ". ";
                                        }
                                    }
                                }

                            }


                            if (updateJobDocumentField == null)
                            {
                                JobDocumentField JobDocumentField = new JobDocumentField
                                {
                                    IdJobDocument = idJobDocument,
                                    IdDocumentField = Convert.ToInt32(item.Id),
                                    Value = frontendFields.Value,
                                    ActualValue = applicationNumber
                                };
                                rpoContext.JobDocumentFields.Add(JobDocumentField);
                            }
                            else
                            {
                                updateJobDocumentField.Value = frontendFields.Value;
                                updateJobDocumentField.ActualValue = applicationNumber;
                                rpoContext.Entry(updateJobDocumentField).State = EntityState.Modified;
                                rpoContext.SaveChanges();
                            }
                        }

                        else if (item.Field.FieldName == "Applicant")
                        {
                            int certifierid = Convert.ToInt32(frontendFields.Value);

                            JobContact jobContact = rpoContext.JobContacts.Where(x => x.Id == certifierid).FirstOrDefault();

                            applicantName = jobContact != null && jobContact.Contact != null ? jobContact.Contact.FirstName + " " + jobContact.Contact.LastName : string.Empty;
                            applicantFirstName = jobContact != null && jobContact.Contact != null ? jobContact.Contact.FirstName : string.Empty;
                            applicantMiddleName = jobContact != null && jobContact.Contact != null ? jobContact.Contact.MiddleName : string.Empty;
                            applicantLastName = jobContact != null && jobContact.Contact != null ? jobContact.Contact.LastName : string.Empty;
                            contactcompany = jobContact != null && jobContact.Contact != null && jobContact.Contact.Company != null ? jobContact.Contact.Company.Name : string.Empty;
                            // Address compnayAddress = jobContact != null && jobContact.Company != null && jobContact.Company.Addresses != null ? jobContact.Company.Addresses.OrderBy(x => x.AddressType.DisplayOrder).FirstOrDefault() : null;
                            Address compnayAddress = Common.GetContactAddressForJobDocument(jobContact);
                            businessAddress = compnayAddress != null ? compnayAddress.Address1 + " " + compnayAddress.Address2 : string.Empty;
                            businessCity = compnayAddress != null ? compnayAddress.City : string.Empty;
                            businessState = compnayAddress != null && compnayAddress.State != null ? compnayAddress.State.Acronym : string.Empty;
                            businessZip = compnayAddress != null ? compnayAddress.ZipCode : string.Empty;

                            contactMobilePhone = Common.GetContactPhoneNumberForJobDocument(jobContact);
                            //!= null && jobContact.Contact != null ? jobContact.Contact.MobilePhone : string.Empty;
                            contactEmail = jobContact != null ? jobContact.Contact.Email : string.Empty;
                            applicantmobilenumber = jobContact != null ? jobContact.Contact.MobilePhone : string.Empty;

                            string licenceTypeNumber = jobContact != null && jobContact.Contact != null && jobContact.Contact.ContactLicenses != null && jobContact.Contact.ContactLicenses.Count > 0 ?
                                 jobContact.Contact.ContactLicenses.Select(x => x.Number).FirstOrDefault() : string.Empty;
                            if (!string.IsNullOrEmpty(licenceTypeNumber))
                            {
                                ContactLicense contactLicenseType = rpoContext.ContactLicenses.Where(a => a.Number == licenceTypeNumber).FirstOrDefault();
                                ContactLicenseType LicenseType = rpoContext.ContactLicenseTypes.Where(b => b.Id == contactLicenseType.IdContactLicenseType).FirstOrDefault();
                                if (LicenseType.Name == "Engineer")
                                {
                                    contactLic_state_engineer = "pe";
                                    contactLic_No = licenceTypeNumber;
                                }
                                else if (LicenseType.Name == "Architect")
                                {
                                    contactLic_state_engineer = "ra";
                                    contactLic_No = licenceTypeNumber;
                                }
                            }
                            else
                            {
                                licenceTypeNumber = jobContact != null && jobContact.Contact != null && jobContact.Contact.ContactLicenses != null && jobContact.Contact.ContactLicenses.Count > 0 ?
                                jobContact.Contact.ContactLicenses.Select(x => x.ContactLicenseType.Name).FirstOrDefault() : string.Empty;
                                if (licenceTypeNumber.ToLower() == ("Engineer").ToLower())
                                {
                                    contactLic_state_engineer = "pe";
                                }
                                else if (licenceTypeNumber.ToLower() == ("Architect").ToLower())
                                {
                                    contactLic_state_engineer = "ra";
                                }
                            }
                            contactTitle = jobContact != null && jobContact.Contact != null && jobContact.Contact.ContactTitle != null ? jobContact.Contact.ContactTitle.Name : string.Empty;
                            documentDescription = documentDescription + (!string.IsNullOrEmpty(documentDescription) && !string.IsNullOrEmpty(applicantFirstName + " " + applicantLastName) ? " | " : string.Empty) + (!string.IsNullOrEmpty(applicantFirstName + " " + applicantLastName) ? "Applicant: " + applicantFirstName + " " + applicantLastName : string.Empty);

                            if (updateJobDocumentField == null)
                            {
                                JobDocumentField JobDocumentField = new JobDocumentField
                                {
                                    IdJobDocument = idJobDocument,
                                    IdDocumentField = frontendFields.IdDocumentField,
                                    Value = frontendFields.Value,
                                    ActualValue = applicantLastName
                                };
                                rpoContext.JobDocumentFields.Add(JobDocumentField);
                                rpoContext.SaveChanges();
                            }
                            else
                            {
                                updateJobDocumentField.Value = frontendFields.Value;
                                updateJobDocumentField.ActualValue = applicantLastName;
                                rpoContext.Entry(updateJobDocumentField).State = EntityState.Modified;
                                rpoContext.SaveChanges();
                            }
                        }

                        else if (item.Field.FieldName == "Filing Representative")
                        {
                            int idFilingRepresentative = Convert.ToInt32(frontendFields.Value);
                            //Employee employee = rpoContext.Employees.Where(x => x.Id == idFilingRepresentative).FirstOrDefault();
                            Employee employee = Common.GetEmployeeInformation(idFilingRepresentative);

                            filingRepresentativefirstname = employee != null ? employee.FirstName : string.Empty;
                            filingRepresentativelastname = employee != null ? employee.LastName : string.Empty;
                            frfirstname = employee != null ? employee.FirstName : string.Empty;
                            frLastname = employee != null ? employee.LastName : string.Empty;

                            filingRepresentativeCompany = "RPO INC";
                            filingRepresentativeaddress = employee != null ? employee.Address1 : string.Empty;
                            filingRepresentativePhone = employee != null ? employee.WorkPhone : string.Empty;
                            filingRepresentativeEmail = employee != null ? employee.Email : string.Empty;
                            filingRepresentativestate = employee != null ? employee.State.Acronym : string.Empty;
                            filingRepresentativecity = employee != null ? employee.City : string.Empty;
                            filingRepresentativezip = employee != null ? employee.ZipCode : string.Empty;
                            filingRepresentativemobile = employee != null ? employee.MobilePhone : string.Empty;
                            //  filingRepresentativeEmail = employee != null ? employee.Email : string.Empty;

                            string filingRepresentative = employee != null ? employee.FirstName + " " + employee.LastName : string.Empty;

                            AgentCertificate agentCertificate = rpoContext.AgentCertificates
                            .Include("DocumentType").FirstOrDefault(x => x.IdEmployee == idFilingRepresentative && x.DocumentType.Name.Equals("DOB Filing Representative"));
                            filingRepresentativRegnumber = agentCertificate != null ? agentCertificate.NumberId : string.Empty;
                            // documentDescription = documentDescription + (!string.IsNullOrEmpty(filingRepresentative) ? "Filing Representative: " + filingRepresentative : string.Empty);

                            documentDescription = documentDescription + (!string.IsNullOrEmpty(frfirstname) && !string.IsNullOrEmpty(frLastname) ? " | Filing Representative: " + frfirstname + " " + frLastname : string.Empty);
                            updateJobDocumentField = jobDocumentFieldList.FirstOrDefault(x => x.IdDocumentField == item.Id);
                            if (updateJobDocumentField == null)
                            {
                                JobDocumentField JobDocumentField = new JobDocumentField
                                {
                                    IdJobDocument = idJobDocument,
                                    IdDocumentField = Convert.ToInt32(item.Id),
                                    Value = frontendFields.Value,
                                    ActualValue = filingRepresentative,

                                };
                                rpoContext.JobDocumentFields.Add(JobDocumentField);
                            }
                            else
                            {
                                updateJobDocumentField.Value = frontendFields.Value;
                                updateJobDocumentField.ActualValue = filingRepresentative;
                                rpoContext.Entry(updateJobDocumentField).State = EntityState.Modified;
                                rpoContext.SaveChanges();
                            }
                        }

                        else
                        {
                            if (updateJobDocumentField == null)
                            {
                                JobDocumentField JobDocumentField = new JobDocumentField
                                {
                                    IdJobDocument = idJobDocument,
                                    IdDocumentField = frontendFields.IdDocumentField,
                                    Value = frontendFields.Value
                                };
                                rpoContext.JobDocumentFields.Add(JobDocumentField);
                                rpoContext.SaveChanges();
                            }
                            else
                            {
                                updateJobDocumentField.Value = frontendFields.Value;
                                rpoContext.Entry(updateJobDocumentField).State = EntityState.Modified;
                                rpoContext.SaveChanges();
                            }
                        }
                    }
                }
            }
            jobDocument.DocumentDescription = documentDescription;
            jobDocument.JobDocumentFor = jobDocumentFor;
            rpoContext.SaveChanges();
            GenerateJobDocument(idJobDocument);


        }


        public static void EditApplicationfortechmgmtplanexamination2023(int idJobDocument, JobDocumentCreateOrUpdateDTO jobDocumentCreateOrUpdateDTO)
        {
            RpoContext rpoContext = new RpoContext();
            var documentFieldList = rpoContext.DocumentFields.Include("Field").Where(x => x.IdDocument == jobDocumentCreateOrUpdateDTO.IdDocument).OrderByDescending(x => x.Field.IsDisplayInFrontend).ThenBy(x => x.DisplayOrder).ToList();
            JobDocument jobDocument = rpoContext.JobDocuments.FirstOrDefault(x => x.Id == idJobDocument);
            string documentDescription = string.Empty;
            string jobDocumentFor = string.Empty;
            List<IdItemName> FieldsValue = new List<IdItemName>();
            List<string> pdfFields = new List<string>();
            List<int> DocumentFieldsIds = new List<int>();

            if (documentFieldList != null && documentFieldList.Count > 0)
            {
                Job job = rpoContext.Jobs.Include("ProjectManager").
                    Include("Contact.ContactTitle").
                    Include("RfpAddress.Borough").
                    Include("Company.Addresses.AddressType").
                    Include("Company.Addresses.State")
                    .Where(x => x.Id == jobDocumentCreateOrUpdateDTO.IdJob).FirstOrDefault();

                string contactName = string.Empty;
                string licenceName = string.Empty;
                string contactName2 = string.Empty;
                string companyName2 = string.Empty;
                string location2 = string.Empty;
                string docuementType = string.Empty;
                string floorWorkingOn = string.Empty;
                string applicantFirstName = string.Empty;
                string applicantMiddleName = string.Empty;
                string applicantLastName = string.Empty;
                string contactcompany = string.Empty;
                string businessAddress = string.Empty;
                //   string businessAddress = string.Empty;
                string businessCity = string.Empty;
                string businessState = string.Empty;
                string businessZip = string.Empty;
                string contactMobilePhone = string.Empty;
                string contactEmail = string.Empty;
                string contactTitle = string.Empty;
                string documentType = string.Empty;
                string documentName = string.Empty;
                //   string contactcompany = string.Empty;
                string applicantmobilenumber = string.Empty;
                string contactLic_state_engineer = string.Empty;
                string contactLic_state_architect = string.Empty;
                string contactLic_No = string.Empty;
                string filingRepresentativeCompany = string.Empty;
                string filingRepresentativePhone = string.Empty;
                string filingRepresentativeEmail = string.Empty;

                string filingRepresentativeCompany2 = string.Empty;
                string filingRepresentativePhone2 = string.Empty;
                string filingRepresentativeEmail2 = string.Empty;


                string filingRepresentativeCompany3 = string.Empty;
                string filingRepresentativePhone3 = string.Empty;
                string filingRepresentativeEmail3 = string.Empty;


                string filingRepresentativefirstname = string.Empty;
                string frfirstname = string.Empty;
                string frLastname = string.Empty;
                string filingRepresentative2firstname = string.Empty;
                string filingRepresentativef3irstname = string.Empty;
                string filingRepresentativelastname = string.Empty;
                string filingRepresentative2lastname = string.Empty;
                string filingRepresentative3lastname = string.Empty;
                string filingRepresentativeaddress = string.Empty;
                string filingRepresentativecity = string.Empty;
                string filingRepresentativestate = string.Empty;
                string filingRepresentativezip = string.Empty;
                string filingRepresentativemobile = string.Empty;
                string filingRepresentativeemail = string.Empty;
                string filingRepresentativRegnumber = string.Empty;
                string[] permitTypecodeArr = new string[20];
                string permitTypecode = string.Empty;
                string estfees = string.Empty;
                string LR_Name = string.Empty;
                string LR_Relationship = string.Empty;
                string LR_Company = string.Empty;
                string LR_Address = string.Empty;
                string LR_City = string.Empty;
                string LR_State = string.Empty;
                string LR_Zip = string.Empty;
                string LR_Phone = string.Empty;
                string LR_Fax = string.Empty;
                string LR_EMail = string.Empty;
                string applicantName = string.Empty;
                string comments = string.Empty;
                string applicationNumber = string.Empty;
                string ApplicationType = string.Empty;
                string desc = string.Empty;
                var jobDocumentFieldList = rpoContext.JobDocumentFields.Where(x => x.IdJobDocument == idJobDocument).ToList();
                foreach (DocumentField item in documentFieldList)
                {
                    JobDocumentField updateJobDocumentField = jobDocumentFieldList.FirstOrDefault(x => x.IdDocumentField == item.Id);
                    var frontendFields = jobDocumentCreateOrUpdateDTO.JobDocumentFields.FirstOrDefault(x => x.IdDocumentField == item.Id);
                    if (frontendFields == null)
                    {
                        if (item.Field.FieldName == "JobFileInfo")
                        {
                            string jobFileInfo = job != null ? job.JobNumber + " - TM-1.pdf" : string.Empty;
                            if (updateJobDocumentField == null)
                            {
                                JobDocumentField JobDocumentField = new JobDocumentField
                                {
                                    IdJobDocument = idJobDocument,
                                    IdDocumentField = Convert.ToInt32(item.Id),
                                    Value = jobFileInfo,
                                    ActualValue = jobFileInfo
                                };
                                rpoContext.JobDocumentFields.Add(JobDocumentField);
                            }
                            else
                            {
                                updateJobDocumentField.Value = jobFileInfo;
                                updateJobDocumentField.ActualValue = jobFileInfo;
                                rpoContext.Entry(updateJobDocumentField).State = EntityState.Modified;
                                rpoContext.SaveChanges();
                            }
                        }
                        else if (item.Field.FieldName == "bldg_nrb")
                        {
                            string houseNumber = job != null && job.RfpAddress != null ? job.RfpAddress.HouseNumber : string.Empty;
                            if (updateJobDocumentField == null)
                            {
                                JobDocumentField JobDocumentField = new JobDocumentField
                                {
                                    IdJobDocument = idJobDocument,
                                    IdDocumentField = Convert.ToInt32(item.Id),
                                    Value = houseNumber,
                                    ActualValue = houseNumber
                                };
                                rpoContext.JobDocumentFields.Add(JobDocumentField);
                            }
                            else
                            {
                                string pdffield = rpoContext.DocumentFields.Where(x => x.IdField == item.IdField).Select(x => x.PdfFields).FirstOrDefault();
                                pdfFields.Add(pdffield);
                                updateJobDocumentField.Value = houseNumber;
                                updateJobDocumentField.ActualValue = houseNumber;
                                rpoContext.Entry(updateJobDocumentField).State = EntityState.Modified;
                                FieldsValue.Add(new IdItemName
                                {
                                    Id = pdffield,
                                    ItemName = updateJobDocumentField.ActualValue
                                });
                                rpoContext.SaveChanges();
                            }
                        }
                        else if (item.Field.FieldName == "street")
                        {
                            string houseStreet = job != null && job.RfpAddress != null ? job.RfpAddress.Street : string.Empty;
                            if (updateJobDocumentField == null)
                            {
                                JobDocumentField JobDocumentField = new JobDocumentField
                                {
                                    IdJobDocument = idJobDocument,
                                    IdDocumentField = Convert.ToInt32(item.Id),
                                    Value = houseStreet,
                                    ActualValue = houseStreet
                                };
                                rpoContext.JobDocumentFields.Add(JobDocumentField);
                            }
                            else
                            {
                                string pdffield = rpoContext.DocumentFields.Where(x => x.IdField == item.IdField).Select(x => x.PdfFields).FirstOrDefault();
                                pdfFields.Add(pdffield);
                                updateJobDocumentField.Value = houseStreet;
                                updateJobDocumentField.ActualValue = houseStreet;
                                rpoContext.Entry(updateJobDocumentField).State = EntityState.Modified;
                                FieldsValue.Add(new IdItemName
                                {
                                    Id = pdffield,
                                    ItemName = updateJobDocumentField.ActualValue
                                });
                                rpoContext.SaveChanges();
                            }
                        }
                        else if (item.Field.FieldName == "bin")
                        {
                            string binNumber = job != null && job.RfpAddress != null ? job.RfpAddress.BinNumber : string.Empty;

                            if (updateJobDocumentField == null)
                            {
                                JobDocumentField JobDocumentField = new JobDocumentField
                                {
                                    IdJobDocument = idJobDocument,
                                    IdDocumentField = Convert.ToInt32(item.Id),
                                    Value = binNumber,
                                    ActualValue = binNumber
                                };
                                rpoContext.JobDocumentFields.Add(JobDocumentField);
                            }
                            else
                            {
                                string pdffield = rpoContext.DocumentFields.Where(x => x.IdField == item.IdField).Select(x => x.PdfFields).FirstOrDefault();
                                pdfFields.Add(pdffield);
                                updateJobDocumentField.Value = binNumber;
                                updateJobDocumentField.ActualValue = binNumber;
                                rpoContext.Entry(updateJobDocumentField).State = EntityState.Modified;
                                FieldsValue.Add(new IdItemName
                                {
                                    Id = pdffield,
                                    ItemName = updateJobDocumentField.ActualValue
                                });
                                rpoContext.SaveChanges();
                            }
                        }
                        else if (item.Field.FieldName == "block")
                        {
                            string block = job != null && job.RfpAddress != null ? job.RfpAddress.Block : string.Empty;
                            if (updateJobDocumentField == null)
                            {
                                JobDocumentField JobDocumentField = new JobDocumentField
                                {
                                    IdJobDocument = idJobDocument,
                                    IdDocumentField = Convert.ToInt32(item.Id),
                                    Value = block,
                                    ActualValue = block
                                };
                                rpoContext.JobDocumentFields.Add(JobDocumentField);
                            }
                            else
                            {
                                string pdffield = rpoContext.DocumentFields.Where(x => x.IdField == item.IdField).Select(x => x.PdfFields).FirstOrDefault();
                                pdfFields.Add(pdffield);
                                updateJobDocumentField.Value = block;
                                updateJobDocumentField.ActualValue = block;
                                rpoContext.Entry(updateJobDocumentField).State = EntityState.Modified;
                                FieldsValue.Add(new IdItemName
                                {
                                    Id = pdffield,
                                    ItemName = updateJobDocumentField.ActualValue
                                });
                                rpoContext.SaveChanges();
                            }
                        }
                        else if (item.Field.FieldName == "lot")
                        {
                            string lot = job != null && job.RfpAddress != null ? job.RfpAddress.Lot : string.Empty;
                            if (updateJobDocumentField == null)
                            {
                                JobDocumentField JobDocumentField = new JobDocumentField
                                {
                                    IdJobDocument = idJobDocument,
                                    IdDocumentField = Convert.ToInt32(item.Id),
                                    Value = lot,
                                    ActualValue = lot
                                };
                                rpoContext.JobDocumentFields.Add(JobDocumentField);
                            }
                            else
                            {
                                string pdffield = rpoContext.DocumentFields.Where(x => x.IdField == item.IdField).Select(x => x.PdfFields).FirstOrDefault();
                                pdfFields.Add(pdffield);
                                updateJobDocumentField.Value = lot;
                                updateJobDocumentField.ActualValue = lot;
                                rpoContext.Entry(updateJobDocumentField).State = EntityState.Modified;
                                FieldsValue.Add(new IdItemName
                                {
                                    Id = pdffield,
                                    ItemName = updateJobDocumentField.ActualValue
                                });
                                rpoContext.SaveChanges();
                            }
                        }
                        else if (item.Field.FieldName == "boro")
                        {
                            string borough = job != null && job.RfpAddress != null && job.RfpAddress.Borough != null ? job.RfpAddress.Borough.Description : string.Empty;
                            if (updateJobDocumentField == null)
                            {
                                JobDocumentField JobDocumentField = new JobDocumentField
                                {
                                    IdJobDocument = idJobDocument,
                                    IdDocumentField = Convert.ToInt32(item.Id),
                                    Value = borough,
                                    ActualValue = borough
                                };
                                rpoContext.JobDocumentFields.Add(JobDocumentField);
                            }
                            else
                            {
                                string pdffield = rpoContext.DocumentFields.Where(x => x.IdField == item.IdField).Select(x => x.PdfFields).FirstOrDefault();
                                pdfFields.Add(pdffield);
                                updateJobDocumentField.Value = borough;
                                updateJobDocumentField.ActualValue = borough;
                                rpoContext.Entry(updateJobDocumentField).State = EntityState.Modified;
                                FieldsValue.Add(new IdItemName
                                {
                                    Id = pdffield,
                                    ItemName = updateJobDocumentField.ActualValue
                                });
                                rpoContext.SaveChanges();
                            }
                        }
                        else if (item.Field.FieldName == "zip")
                        {
                            string zipCode = job != null && job.RfpAddress != null ? job.RfpAddress.ZipCode : string.Empty;
                            if (updateJobDocumentField == null)
                            {
                                JobDocumentField JobDocumentField = new JobDocumentField
                                {
                                    IdJobDocument = idJobDocument,
                                    IdDocumentField = Convert.ToInt32(item.Id),
                                    Value = zipCode,
                                    ActualValue = zipCode
                                };
                                rpoContext.JobDocumentFields.Add(JobDocumentField);
                            }
                            else
                            {
                                string pdffield = rpoContext.DocumentFields.Where(x => x.IdField == item.IdField).Select(x => x.PdfFields).FirstOrDefault();
                                pdfFields.Add(pdffield);
                                updateJobDocumentField.Value = zipCode;
                                updateJobDocumentField.ActualValue = zipCode;
                                rpoContext.Entry(updateJobDocumentField).State = EntityState.Modified;
                                FieldsValue.Add(new IdItemName
                                {
                                    Id = pdffield,
                                    ItemName = updateJobDocumentField.ActualValue
                                });
                                rpoContext.SaveChanges();
                            }
                        }
                        else if (item.Field.FieldName == "floor")
                        {
                            if (updateJobDocumentField == null)
                            {
                                JobDocumentField JobDocumentField = new JobDocumentField
                                {
                                    IdJobDocument = idJobDocument,
                                    IdDocumentField = Convert.ToInt32(item.Id),
                                    Value = floorWorkingOn,
                                    ActualValue = floorWorkingOn
                                };
                                rpoContext.JobDocumentFields.Add(JobDocumentField);
                            }
                            else
                            {
                                string pdffield = rpoContext.DocumentFields.Where(x => x.IdField == item.IdField).Select(x => x.PdfFields).FirstOrDefault();
                                pdfFields.Add(pdffield);
                                updateJobDocumentField.Value = floorWorkingOn;
                                updateJobDocumentField.ActualValue = floorWorkingOn;
                                rpoContext.Entry(updateJobDocumentField).State = EntityState.Modified;
                                FieldsValue.Add(new IdItemName
                                {
                                    Id = pdffield,
                                    ItemName = updateJobDocumentField.ActualValue
                                });
                                rpoContext.SaveChanges();
                            }
                        }
                        else if (item.Field.FieldName == "last_name_applicant")
                        {
                            if (updateJobDocumentField == null)
                            {
                                JobDocumentField JobDocumentField = new JobDocumentField
                                {
                                    IdJobDocument = idJobDocument,
                                    IdDocumentField = Convert.ToInt32(item.Id),
                                    Value = applicantLastName,
                                    ActualValue = applicantLastName
                                };
                                rpoContext.JobDocumentFields.Add(JobDocumentField);
                            }
                            else
                            {
                                string pdffield = rpoContext.DocumentFields.Where(x => x.IdField == item.IdField).Select(x => x.PdfFields).FirstOrDefault();
                                pdfFields.Add(pdffield);
                                updateJobDocumentField.Value = applicantLastName;
                                updateJobDocumentField.ActualValue = applicantLastName;
                                rpoContext.Entry(updateJobDocumentField).State = EntityState.Modified;
                                FieldsValue.Add(new IdItemName
                                {
                                    Id = pdffield,
                                    ItemName = updateJobDocumentField.ActualValue
                                });
                                rpoContext.SaveChanges();
                            }
                        }
                        else if (item.Field.FieldName == "first_name_applicant")
                        {
                            if (updateJobDocumentField == null)
                            {
                                JobDocumentField JobDocumentField = new JobDocumentField
                                {
                                    IdJobDocument = idJobDocument,
                                    IdDocumentField = Convert.ToInt32(item.Id),
                                    Value = applicantFirstName,
                                    ActualValue = applicantFirstName
                                };
                                rpoContext.JobDocumentFields.Add(JobDocumentField);
                            }
                            else
                            {
                                string pdffield = rpoContext.DocumentFields.Where(x => x.IdField == item.IdField).Select(x => x.PdfFields).FirstOrDefault();
                                pdfFields.Add(pdffield);
                                updateJobDocumentField.Value = applicantFirstName;
                                updateJobDocumentField.ActualValue = applicantFirstName;
                                rpoContext.Entry(updateJobDocumentField).State = EntityState.Modified;
                                FieldsValue.Add(new IdItemName
                                {
                                    Id = pdffield,
                                    ItemName = updateJobDocumentField.ActualValue
                                });
                                rpoContext.SaveChanges();
                            }
                        }
                        else if (item.Field.FieldName == "lic_nbr_applicant")
                        {
                            if (updateJobDocumentField == null)
                            {
                                JobDocumentField JobDocumentField = new JobDocumentField
                                {
                                    IdJobDocument = idJobDocument,
                                    IdDocumentField = Convert.ToInt32(item.Id),
                                    Value = contactLic_No,
                                    ActualValue = contactLic_No
                                };
                                rpoContext.JobDocumentFields.Add(JobDocumentField);
                            }
                            else
                            {
                                string pdffield = rpoContext.DocumentFields.Where(x => x.IdField == item.IdField).Select(x => x.PdfFields).FirstOrDefault();
                                pdfFields.Add(pdffield);
                                updateJobDocumentField.Value = contactLic_No;
                                updateJobDocumentField.ActualValue = contactLic_No;
                                rpoContext.Entry(updateJobDocumentField).State = EntityState.Modified;
                                FieldsValue.Add(new IdItemName
                                {
                                    Id = pdffield,
                                    ItemName = updateJobDocumentField.ActualValue
                                });
                                rpoContext.SaveChanges();
                            }
                        }
                        else if (item.Field.FieldName == "bus_name_applicant")
                        {
                            if (updateJobDocumentField == null)
                            {
                                JobDocumentField JobDocumentField = new JobDocumentField
                                {
                                    IdJobDocument = idJobDocument,
                                    IdDocumentField = Convert.ToInt32(item.Id),
                                    Value = contactcompany,
                                    ActualValue = contactcompany
                                };
                                rpoContext.JobDocumentFields.Add(JobDocumentField);
                            }
                            else
                            {
                                string pdffield = rpoContext.DocumentFields.Where(x => x.IdField == item.IdField).Select(x => x.PdfFields).FirstOrDefault();
                                pdfFields.Add(pdffield);
                                updateJobDocumentField.Value = contactcompany;
                                updateJobDocumentField.ActualValue = contactcompany;
                                rpoContext.Entry(updateJobDocumentField).State = EntityState.Modified;
                                FieldsValue.Add(new IdItemName
                                {
                                    Id = pdffield,
                                    ItemName = updateJobDocumentField.ActualValue
                                });
                                rpoContext.SaveChanges();
                            }
                        }
                        else if (item.Field.FieldName == "bus_add_applicant")
                        {
                            if (updateJobDocumentField == null)
                            {
                                JobDocumentField JobDocumentField = new JobDocumentField
                                {
                                    IdJobDocument = idJobDocument,
                                    IdDocumentField = Convert.ToInt32(item.Id),
                                    Value = businessAddress,
                                    ActualValue = businessAddress
                                };
                                rpoContext.JobDocumentFields.Add(JobDocumentField);
                            }
                            else
                            {
                                string pdffield = rpoContext.DocumentFields.Where(x => x.IdField == item.IdField).Select(x => x.PdfFields).FirstOrDefault();
                                pdfFields.Add(pdffield);
                                updateJobDocumentField.Value = businessAddress;
                                updateJobDocumentField.ActualValue = businessAddress;
                                rpoContext.Entry(updateJobDocumentField).State = EntityState.Modified;
                                FieldsValue.Add(new IdItemName
                                {
                                    Id = pdffield,
                                    ItemName = updateJobDocumentField.ActualValue
                                });
                                rpoContext.SaveChanges();
                            }
                        }
                        else if (item.Field.FieldName == "city_applicant")
                        {
                            if (updateJobDocumentField == null)
                            {
                                JobDocumentField JobDocumentField = new JobDocumentField
                                {
                                    IdJobDocument = idJobDocument,
                                    IdDocumentField = Convert.ToInt32(item.Id),
                                    Value = businessCity,
                                    ActualValue = businessCity
                                };
                                rpoContext.JobDocumentFields.Add(JobDocumentField);
                            }
                            else
                            {
                                string pdffield = rpoContext.DocumentFields.Where(x => x.IdField == item.IdField).Select(x => x.PdfFields).FirstOrDefault();
                                pdfFields.Add(pdffield);
                                updateJobDocumentField.Value = businessCity;
                                updateJobDocumentField.ActualValue = businessCity;
                                rpoContext.Entry(updateJobDocumentField).State = EntityState.Modified;
                                FieldsValue.Add(new IdItemName
                                {
                                    Id = pdffield,
                                    ItemName = updateJobDocumentField.ActualValue
                                });
                                rpoContext.SaveChanges();
                            }
                        }
                        else if (item.Field.FieldName == "phone_business_applicant")
                        {
                            if (updateJobDocumentField == null)
                            {
                                JobDocumentField JobDocumentField = new JobDocumentField
                                {
                                    IdJobDocument = idJobDocument,
                                    IdDocumentField = Convert.ToInt32(item.Id),
                                    Value = contactMobilePhone,
                                    ActualValue = contactMobilePhone
                                };
                                rpoContext.JobDocumentFields.Add(JobDocumentField);
                            }
                            else
                            {
                                string pdffield = rpoContext.DocumentFields.Where(x => x.IdField == item.IdField).Select(x => x.PdfFields).FirstOrDefault();
                                pdfFields.Add(pdffield);
                                updateJobDocumentField.Value = contactMobilePhone;
                                updateJobDocumentField.ActualValue = contactMobilePhone;
                                rpoContext.Entry(updateJobDocumentField).State = EntityState.Modified;
                                FieldsValue.Add(new IdItemName
                                {
                                    Id = pdffield,
                                    ItemName = updateJobDocumentField.ActualValue
                                });
                                rpoContext.SaveChanges();
                            }
                        }
                        else if (item.Field.FieldName == "email_applicant")
                        {
                            if (updateJobDocumentField == null)
                            {
                                JobDocumentField JobDocumentField = new JobDocumentField
                                {
                                    IdJobDocument = idJobDocument,
                                    IdDocumentField = Convert.ToInt32(item.Id),
                                    Value = contactEmail,
                                    ActualValue = contactEmail
                                };
                                rpoContext.JobDocumentFields.Add(JobDocumentField);
                            }
                            else
                            {
                                string pdffield = rpoContext.DocumentFields.Where(x => x.IdField == item.IdField).Select(x => x.PdfFields).FirstOrDefault();
                                pdfFields.Add(pdffield);
                                updateJobDocumentField.Value = contactEmail;
                                updateJobDocumentField.ActualValue = contactEmail;
                                rpoContext.Entry(updateJobDocumentField).State = EntityState.Modified;
                                FieldsValue.Add(new IdItemName
                                {
                                    Id = pdffield,
                                    ItemName = updateJobDocumentField.ActualValue
                                });
                                rpoContext.SaveChanges();
                            }
                        }
                        else if (item.Field.FieldName == "state_applicant")
                        {
                            if (updateJobDocumentField == null)
                            {
                                JobDocumentField JobDocumentField = new JobDocumentField
                                {
                                    IdJobDocument = idJobDocument,
                                    IdDocumentField = Convert.ToInt32(item.Id),
                                    Value = businessState,
                                    ActualValue = businessState
                                };
                                rpoContext.JobDocumentFields.Add(JobDocumentField);
                            }
                            else
                            {
                                string pdffield = rpoContext.DocumentFields.Where(x => x.IdField == item.IdField).Select(x => x.PdfFields).FirstOrDefault();
                                pdfFields.Add(pdffield);
                                updateJobDocumentField.Value = businessState;
                                updateJobDocumentField.ActualValue = businessState;
                                rpoContext.Entry(updateJobDocumentField).State = EntityState.Modified;
                                FieldsValue.Add(new IdItemName
                                {
                                    Id = pdffield,
                                    ItemName = updateJobDocumentField.ActualValue
                                });
                                rpoContext.SaveChanges();
                            }
                        }
                        else if (item.Field.FieldName == "zip_applicant")
                        {
                            if (updateJobDocumentField == null)
                            {
                                JobDocumentField JobDocumentField = new JobDocumentField
                                {
                                    IdJobDocument = idJobDocument,
                                    IdDocumentField = Convert.ToInt32(item.Id),
                                    Value = businessZip,
                                    ActualValue = businessZip
                                };
                                rpoContext.JobDocumentFields.Add(JobDocumentField);
                            }
                            else
                            {
                                string pdffield = rpoContext.DocumentFields.Where(x => x.IdField == item.IdField).Select(x => x.PdfFields).FirstOrDefault();
                                pdfFields.Add(pdffield);
                                updateJobDocumentField.Value = businessZip;
                                updateJobDocumentField.ActualValue = businessZip;
                                rpoContext.Entry(updateJobDocumentField).State = EntityState.Modified;
                                FieldsValue.Add(new IdItemName
                                {
                                    Id = pdffield,
                                    ItemName = updateJobDocumentField.ActualValue
                                });
                                rpoContext.SaveChanges();
                            }
                        }
                        else if (item.Field.FieldName == "box1_applicant")
                        {
                            if (updateJobDocumentField == null)
                            {
                                JobDocumentField JobDocumentField = new JobDocumentField
                                {
                                    IdJobDocument = idJobDocument,
                                    IdDocumentField = Convert.ToInt32(item.Id),
                                    Value = contactLic_state_engineer,
                                    ActualValue = contactLic_state_engineer
                                };
                                rpoContext.JobDocumentFields.Add(JobDocumentField);
                            }
                            else
                            {
                                string pdffield = rpoContext.DocumentFields.Where(x => x.IdField == item.IdField).Select(x => x.PdfFields).FirstOrDefault();
                                pdfFields.Add(pdffield);
                                updateJobDocumentField.Value = contactLic_state_engineer;
                                updateJobDocumentField.ActualValue = contactLic_state_engineer;
                                rpoContext.Entry(updateJobDocumentField).State = EntityState.Modified;
                                FieldsValue.Add(new IdItemName
                                {
                                    Id = pdffield,
                                    ItemName = updateJobDocumentField.ActualValue
                                });
                                rpoContext.SaveChanges();
                            }
                        }
                        else if (item.Field.FieldName == "last_name_fp")
                        {
                            if (updateJobDocumentField == null)
                            {
                                JobDocumentField JobDocumentField = new JobDocumentField
                                {
                                    IdJobDocument = idJobDocument,
                                    IdDocumentField = Convert.ToInt32(item.Id),
                                    Value = filingRepresentativelastname,
                                    ActualValue = filingRepresentativelastname
                                };
                                rpoContext.JobDocumentFields.Add(JobDocumentField);
                            }
                            else
                            {
                                string pdffield = rpoContext.DocumentFields.Where(x => x.IdField == item.IdField).Select(x => x.PdfFields).FirstOrDefault();
                                pdfFields.Add(pdffield);
                                updateJobDocumentField.Value = filingRepresentativelastname;
                                updateJobDocumentField.ActualValue = filingRepresentativelastname;
                                rpoContext.Entry(updateJobDocumentField).State = EntityState.Modified;
                                FieldsValue.Add(new IdItemName
                                {
                                    Id = pdffield,
                                    ItemName = updateJobDocumentField.ActualValue
                                });
                                rpoContext.SaveChanges();
                            }
                        }
                        else if (item.Field.FieldName == "first_name_fp")
                        {
                            if (updateJobDocumentField == null)
                            {
                                JobDocumentField JobDocumentField = new JobDocumentField
                                {
                                    IdJobDocument = idJobDocument,
                                    IdDocumentField = Convert.ToInt32(item.Id),
                                    Value = filingRepresentativefirstname,
                                    ActualValue = filingRepresentativefirstname
                                };
                                rpoContext.JobDocumentFields.Add(JobDocumentField);
                            }
                            else
                            {
                                string pdffield = rpoContext.DocumentFields.Where(x => x.IdField == item.IdField).Select(x => x.PdfFields).FirstOrDefault();
                                pdfFields.Add(pdffield);
                                updateJobDocumentField.Value = filingRepresentativefirstname;
                                updateJobDocumentField.ActualValue = filingRepresentativefirstname;
                                rpoContext.Entry(updateJobDocumentField).State = EntityState.Modified;
                                FieldsValue.Add(new IdItemName
                                {
                                    Id = pdffield,
                                    ItemName = updateJobDocumentField.ActualValue
                                });
                                rpoContext.SaveChanges();
                            }
                        }
                        else if (item.Field.FieldName == "reg_no")
                        {
                            if (updateJobDocumentField == null)
                            {
                                JobDocumentField JobDocumentField = new JobDocumentField
                                {
                                    IdJobDocument = idJobDocument,
                                    IdDocumentField = Convert.ToInt32(item.Id),
                                    Value = filingRepresentativRegnumber,
                                    ActualValue = filingRepresentativRegnumber
                                };
                                rpoContext.JobDocumentFields.Add(JobDocumentField);
                            }
                            else
                            {
                                string pdffield = rpoContext.DocumentFields.Where(x => x.IdField == item.IdField).Select(x => x.PdfFields).FirstOrDefault();
                                pdfFields.Add(pdffield);
                                updateJobDocumentField.Value = filingRepresentativRegnumber;
                                updateJobDocumentField.ActualValue = filingRepresentativRegnumber;
                                rpoContext.Entry(updateJobDocumentField).State = EntityState.Modified;
                                FieldsValue.Add(new IdItemName
                                {
                                    Id = pdffield,
                                    ItemName = updateJobDocumentField.ActualValue
                                });
                                rpoContext.SaveChanges();
                            }
                        }
                        else if (item.Field.FieldName == "bus_name_fp")
                        {
                            if (updateJobDocumentField == null)
                            {
                                JobDocumentField JobDocumentField = new JobDocumentField
                                {
                                    IdJobDocument = idJobDocument,
                                    IdDocumentField = Convert.ToInt32(item.Id),
                                    Value = filingRepresentativeCompany,
                                    ActualValue = filingRepresentativeCompany
                                };
                                rpoContext.JobDocumentFields.Add(JobDocumentField);
                            }
                            else
                            {
                                string pdffield = rpoContext.DocumentFields.Where(x => x.IdField == item.IdField).Select(x => x.PdfFields).FirstOrDefault();
                                pdfFields.Add(pdffield);
                                updateJobDocumentField.Value = filingRepresentativeCompany;
                                updateJobDocumentField.ActualValue = filingRepresentativeCompany;
                                rpoContext.Entry(updateJobDocumentField).State = EntityState.Modified;
                                FieldsValue.Add(new IdItemName
                                {
                                    Id = pdffield,
                                    ItemName = updateJobDocumentField.ActualValue
                                });
                                rpoContext.SaveChanges();
                            }
                        }
                        else if (item.Field.FieldName == "fp_bus_tel")
                        {
                            if (updateJobDocumentField == null)
                            {
                                JobDocumentField JobDocumentField = new JobDocumentField
                                {
                                    IdJobDocument = idJobDocument,
                                    IdDocumentField = Convert.ToInt32(item.Id),
                                    Value = filingRepresentativePhone,
                                    ActualValue = filingRepresentativePhone
                                };
                                rpoContext.JobDocumentFields.Add(JobDocumentField);
                            }
                            else
                            {
                                string pdffield = rpoContext.DocumentFields.Where(x => x.IdField == item.IdField).Select(x => x.PdfFields).FirstOrDefault();
                                pdfFields.Add(pdffield);
                                updateJobDocumentField.Value = filingRepresentativePhone;
                                updateJobDocumentField.ActualValue = filingRepresentativePhone;
                                rpoContext.Entry(updateJobDocumentField).State = EntityState.Modified;
                                FieldsValue.Add(new IdItemName
                                {
                                    Id = pdffield,
                                    ItemName = updateJobDocumentField.ActualValue
                                });
                                rpoContext.SaveChanges();
                            }
                        }
                        else if (item.Field.FieldName == "bus_add_fp")
                        {
                            if (updateJobDocumentField == null)
                            {
                                JobDocumentField JobDocumentField = new JobDocumentField
                                {
                                    IdJobDocument = idJobDocument,
                                    IdDocumentField = Convert.ToInt32(item.Id),
                                    Value = filingRepresentativeaddress,
                                    ActualValue = filingRepresentativeaddress
                                };
                                rpoContext.JobDocumentFields.Add(JobDocumentField);
                            }
                            else
                            {
                                string pdffield = rpoContext.DocumentFields.Where(x => x.IdField == item.IdField).Select(x => x.PdfFields).FirstOrDefault();
                                pdfFields.Add(pdffield);
                                updateJobDocumentField.Value = filingRepresentativeaddress;
                                updateJobDocumentField.ActualValue = filingRepresentativeaddress;
                                rpoContext.Entry(updateJobDocumentField).State = EntityState.Modified;
                                FieldsValue.Add(new IdItemName
                                {
                                    Id = pdffield,
                                    ItemName = updateJobDocumentField.ActualValue
                                });
                                rpoContext.SaveChanges();
                            }
                        }
                        else if (item.Field.FieldName == "city_fp")
                        {
                            if (updateJobDocumentField == null)
                            {
                                JobDocumentField JobDocumentField = new JobDocumentField
                                {
                                    IdJobDocument = idJobDocument,
                                    IdDocumentField = Convert.ToInt32(item.Id),
                                    Value = filingRepresentativecity,
                                    ActualValue = filingRepresentativecity
                                };
                                rpoContext.JobDocumentFields.Add(JobDocumentField);
                            }
                            else
                            {
                                string pdffield = rpoContext.DocumentFields.Where(x => x.IdField == item.IdField).Select(x => x.PdfFields).FirstOrDefault();
                                pdfFields.Add(pdffield);
                                updateJobDocumentField.Value = filingRepresentativecity;
                                updateJobDocumentField.ActualValue = filingRepresentativecity;
                                rpoContext.Entry(updateJobDocumentField).State = EntityState.Modified;
                                FieldsValue.Add(new IdItemName
                                {
                                    Id = pdffield,
                                    ItemName = updateJobDocumentField.ActualValue
                                });
                                rpoContext.SaveChanges();
                            }
                        }
                        else if (item.Field.FieldName == "state_fp")
                        {
                            if (updateJobDocumentField == null)
                            {
                                JobDocumentField JobDocumentField = new JobDocumentField
                                {
                                    IdJobDocument = idJobDocument,
                                    IdDocumentField = Convert.ToInt32(item.Id),
                                    Value = filingRepresentativestate,
                                    ActualValue = filingRepresentativestate
                                };
                                rpoContext.JobDocumentFields.Add(JobDocumentField);
                            }
                            else
                            {
                                string pdffield = rpoContext.DocumentFields.Where(x => x.IdField == item.IdField).Select(x => x.PdfFields).FirstOrDefault();
                                pdfFields.Add(pdffield);
                                updateJobDocumentField.Value = filingRepresentativestate;
                                updateJobDocumentField.ActualValue = filingRepresentativestate;
                                rpoContext.Entry(updateJobDocumentField).State = EntityState.Modified;
                                FieldsValue.Add(new IdItemName
                                {
                                    Id = pdffield,
                                    ItemName = updateJobDocumentField.ActualValue
                                });
                                rpoContext.SaveChanges();
                            }
                        }
                        else if (item.Field.FieldName == "fp_zip")
                        {
                            if (updateJobDocumentField == null)
                            {
                                JobDocumentField JobDocumentField = new JobDocumentField
                                {
                                    IdJobDocument = idJobDocument,
                                    IdDocumentField = Convert.ToInt32(item.Id),
                                    Value = filingRepresentativezip,
                                    ActualValue = filingRepresentativezip
                                };
                                rpoContext.JobDocumentFields.Add(JobDocumentField);
                            }
                            else
                            {
                                string pdffield = rpoContext.DocumentFields.Where(x => x.IdField == item.IdField).Select(x => x.PdfFields).FirstOrDefault();
                                pdfFields.Add(pdffield);
                                updateJobDocumentField.Value = filingRepresentativezip;
                                updateJobDocumentField.ActualValue = filingRepresentativezip;
                                rpoContext.Entry(updateJobDocumentField).State = EntityState.Modified;
                                FieldsValue.Add(new IdItemName
                                {
                                    Id = pdffield,
                                    ItemName = updateJobDocumentField.ActualValue
                                });
                                rpoContext.SaveChanges();
                            }
                        }
                        else if (item.Field.FieldName == "email_fp")
                        {
                            if (updateJobDocumentField == null)
                            {
                                JobDocumentField JobDocumentField = new JobDocumentField
                                {
                                    IdJobDocument = idJobDocument,
                                    IdDocumentField = Convert.ToInt32(item.Id),
                                    Value = filingRepresentativeEmail,
                                    ActualValue = filingRepresentativeEmail
                                };
                                rpoContext.JobDocumentFields.Add(JobDocumentField);
                            }
                            else
                            {
                                string pdffield = rpoContext.DocumentFields.Where(x => x.IdField == item.IdField).Select(x => x.PdfFields).FirstOrDefault();
                                pdfFields.Add(pdffield);
                                updateJobDocumentField.Value = filingRepresentativeEmail;
                                updateJobDocumentField.ActualValue = filingRepresentativeEmail;
                                rpoContext.Entry(updateJobDocumentField).State = EntityState.Modified;
                                FieldsValue.Add(new IdItemName
                                {
                                    Id = pdffield,
                                    ItemName = updateJobDocumentField.ActualValue
                                });
                                rpoContext.SaveChanges();
                            }
                        }
                        else if (item.Field.FieldName == "hob")
                        {
                            string height = job != null && job.RfpAddress != null ? Convert.ToString(job.RfpAddress.Feet) : string.Empty;

                            if (updateJobDocumentField == null)
                            {
                                JobDocumentField JobDocumentField = new JobDocumentField
                                {
                                    IdJobDocument = idJobDocument,
                                    IdDocumentField = Convert.ToInt32(item.Id),
                                    Value = height,
                                    ActualValue = height
                                };
                                rpoContext.JobDocumentFields.Add(JobDocumentField);
                            }
                            else
                            {
                                string pdffield = rpoContext.DocumentFields.Where(x => x.IdField == item.IdField).Select(x => x.PdfFields).FirstOrDefault();
                                pdfFields.Add(pdffield);
                                updateJobDocumentField.Value = height;
                                updateJobDocumentField.ActualValue = height;
                                rpoContext.Entry(updateJobDocumentField).State = EntityState.Modified;
                                FieldsValue.Add(new IdItemName
                                {
                                    Id = pdffield,
                                    ItemName = updateJobDocumentField.ActualValue
                                });
                                rpoContext.SaveChanges();
                            }
                        }
                        else if (item.Field.FieldName == "bs")
                        {
                            string stories = job != null && job.RfpAddress != null ? Convert.ToString(job.RfpAddress.Stories) : string.Empty;
                            // JobDocumentField updateJobDocumentField = jobDocumentFieldList.FirstOrDefault(x => x.IdDocumentField == item.Id);
                            if (updateJobDocumentField == null)
                            {
                                JobDocumentField JobDocumentField = new JobDocumentField
                                {
                                    IdJobDocument = idJobDocument,
                                    IdDocumentField = Convert.ToInt32(item.Id),
                                    Value = stories,
                                    ActualValue = stories,
                                };
                                rpoContext.JobDocumentFields.Add(JobDocumentField);
                            }
                            else
                            {
                                string pdffield = rpoContext.DocumentFields.Where(x => x.IdField == item.IdField).Select(x => x.PdfFields).FirstOrDefault();
                                pdfFields.Add(pdffield);
                                updateJobDocumentField.Value = stories;
                                updateJobDocumentField.ActualValue = stories;
                                rpoContext.Entry(updateJobDocumentField).State = EntityState.Modified;
                                FieldsValue.Add(new IdItemName
                                {
                                    Id = pdffield,
                                    ItemName = updateJobDocumentField.ActualValue
                                });
                                rpoContext.SaveChanges();
                            }
                        }
                        else if (item.Field.FieldName == "cc")
                        {
                            string ConstructionClassification = job != null && job.RfpAddress != null && job.RfpAddress.ConstructionClassification != null ? Convert.ToString(job.RfpAddress.ConstructionClassification.Code) : string.Empty;

                            if (updateJobDocumentField == null)
                            {
                                JobDocumentField JobDocumentField = new JobDocumentField
                                {
                                    IdJobDocument = idJobDocument,
                                    IdDocumentField = Convert.ToInt32(item.Id),
                                    Value = ConstructionClassification,
                                    ActualValue = ConstructionClassification
                                };
                                rpoContext.JobDocumentFields.Add(JobDocumentField);
                            }
                            else
                            {
                                string pdffield = rpoContext.DocumentFields.Where(x => x.IdField == item.IdField).Select(x => x.PdfFields).FirstOrDefault();
                                pdfFields.Add(pdffield);
                                updateJobDocumentField.Value = ConstructionClassification;
                                updateJobDocumentField.ActualValue = ConstructionClassification;
                                rpoContext.Entry(updateJobDocumentField).State = EntityState.Modified;
                                FieldsValue.Add(new IdItemName
                                {
                                    Id = pdffield,
                                    ItemName = updateJobDocumentField.ActualValue
                                });
                                rpoContext.SaveChanges();
                            }
                        }
                        else if (item.Field.FieldName == "landmark")
                        {
                            string Landmark = string.Empty;
                            if (job != null && job.RfpAddress != null && job.RfpAddress.IsLandmark == true)
                            {
                                Landmark = "Yes";
                            }
                            else
                            {
                                Landmark = "No";
                            }

                            if (updateJobDocumentField == null)
                            {
                                JobDocumentField JobDocumentField = new JobDocumentField
                                {
                                    IdJobDocument = idJobDocument,
                                    IdDocumentField = Convert.ToInt32(item.Id),
                                    Value = Landmark,
                                    ActualValue = Landmark
                                };
                                rpoContext.JobDocumentFields.Add(JobDocumentField);
                            }
                            else
                            {
                                string pdffield = rpoContext.DocumentFields.Where(x => x.IdField == item.IdField).Select(x => x.PdfFields).FirstOrDefault();
                                pdfFields.Add(pdffield);
                                updateJobDocumentField.Value = Landmark;
                                updateJobDocumentField.ActualValue = Landmark;
                                rpoContext.Entry(updateJobDocumentField).State = EntityState.Modified;
                                FieldsValue.Add(new IdItemName
                                {
                                    Id = pdffield,
                                    ItemName = updateJobDocumentField.ActualValue
                                });
                                rpoContext.SaveChanges();
                            }
                        }
                        else if (item.Field.FieldName == "flood_area")
                        {
                            string val = string.Empty;
                            if (job != null && job.RfpAddress != null && job.RfpAddress.SpecialFloodHazardAreaCheck == true)
                            {
                                val = "Yes";
                            }
                            else
                            {
                                val = "No";
                            }

                            if (updateJobDocumentField == null)
                            {
                                JobDocumentField JobDocumentField = new JobDocumentField
                                {
                                    IdJobDocument = idJobDocument,
                                    IdDocumentField = Convert.ToInt32(item.Id),
                                    Value = val,
                                    ActualValue = val
                                };
                                rpoContext.JobDocumentFields.Add(JobDocumentField);
                            }
                            else
                            {
                                string pdffield = rpoContext.DocumentFields.Where(x => x.IdField == item.IdField).Select(x => x.PdfFields).FirstOrDefault();
                                pdfFields.Add(pdffield);
                                updateJobDocumentField.Value = val;
                                updateJobDocumentField.ActualValue = val;
                                rpoContext.Entry(updateJobDocumentField).State = EntityState.Modified;
                                FieldsValue.Add(new IdItemName
                                {
                                    Id = pdffield,
                                    ItemName = updateJobDocumentField.ActualValue
                                });
                                rpoContext.SaveChanges();
                            }
                        }
                        else if (item.Field.FieldName == "name_applicant_print")
                        {
                            if (updateJobDocumentField == null)
                            {
                                JobDocumentField JobDocumentField = new JobDocumentField
                                {
                                    IdJobDocument = idJobDocument,
                                    IdDocumentField = Convert.ToInt32(item.Id),
                                    Value = applicantName,
                                    ActualValue = applicantName
                                };
                                rpoContext.JobDocumentFields.Add(JobDocumentField);
                            }
                            else
                            {
                                string pdffield = rpoContext.DocumentFields.Where(x => x.IdField == item.IdField).Select(x => x.PdfFields).FirstOrDefault();
                                pdfFields.Add(pdffield);
                                updateJobDocumentField.Value = applicantName;
                                updateJobDocumentField.ActualValue = applicantName;
                                rpoContext.Entry(updateJobDocumentField).State = EntityState.Modified;
                                FieldsValue.Add(new IdItemName
                                {
                                    Id = pdffield,
                                    ItemName = updateJobDocumentField.ActualValue
                                });
                                rpoContext.SaveChanges();
                            }
                        }
                        else if (item.Field.FieldName == "name_owner_print")
                        {
                            string val = job != null && job.RfpAddress != null && job.RfpAddress.OwnerContact != null ? job.RfpAddress.OwnerContact.FirstName + " " + job.RfpAddress.OwnerContact.LastName : string.Empty;

                            if (updateJobDocumentField == null)
                            {
                                JobDocumentField JobDocumentField = new JobDocumentField
                                {
                                    IdJobDocument = idJobDocument,
                                    IdDocumentField = Convert.ToInt32(item.Id),
                                    Value = val,
                                    ActualValue = val
                                };
                                rpoContext.JobDocumentFields.Add(JobDocumentField);
                            }
                            else
                            {
                                string pdffield = rpoContext.DocumentFields.Where(x => x.IdField == item.IdField).Select(x => x.PdfFields).FirstOrDefault();
                                pdfFields.Add(pdffield);
                                updateJobDocumentField.Value = val;
                                updateJobDocumentField.ActualValue = val;
                                rpoContext.Entry(updateJobDocumentField).State = EntityState.Modified;
                                FieldsValue.Add(new IdItemName
                                {
                                    Id = pdffield,
                                    ItemName = updateJobDocumentField.ActualValue
                                });
                                rpoContext.SaveChanges();
                            }
                        }
                        else if (item.Field.FieldName == "last_name_owner")
                        {
                            string val = job != null && job.RfpAddress != null && job.RfpAddress.OwnerContact != null ? job.RfpAddress.OwnerContact.LastName : string.Empty;

                            if (updateJobDocumentField == null)
                            {
                                JobDocumentField JobDocumentField = new JobDocumentField
                                {
                                    IdJobDocument = idJobDocument,
                                    IdDocumentField = Convert.ToInt32(item.Id),
                                    Value = val,
                                    ActualValue = val
                                };
                                rpoContext.JobDocumentFields.Add(JobDocumentField);
                            }
                            else
                            {
                                string pdffield = rpoContext.DocumentFields.Where(x => x.IdField == item.IdField).Select(x => x.PdfFields).FirstOrDefault();
                                pdfFields.Add(pdffield);
                                updateJobDocumentField.Value = val;
                                updateJobDocumentField.ActualValue = val;
                                rpoContext.Entry(updateJobDocumentField).State = EntityState.Modified;
                                FieldsValue.Add(new IdItemName
                                {
                                    Id = pdffield,
                                    ItemName = updateJobDocumentField.ActualValue
                                });
                                rpoContext.SaveChanges();
                            }
                        }
                        else if (item.Field.FieldName == "first_name_owner")
                        {
                            string val = job != null && job.RfpAddress != null && job.RfpAddress.OwnerContact != null ? job.RfpAddress.OwnerContact.FirstName : string.Empty;

                            if (updateJobDocumentField == null)
                            {
                                JobDocumentField JobDocumentField = new JobDocumentField
                                {
                                    IdJobDocument = idJobDocument,
                                    IdDocumentField = Convert.ToInt32(item.Id),
                                    Value = val,
                                    ActualValue = val
                                };
                                rpoContext.JobDocumentFields.Add(JobDocumentField);
                            }
                            else
                            {
                                string pdffield = rpoContext.DocumentFields.Where(x => x.IdField == item.IdField).Select(x => x.PdfFields).FirstOrDefault();
                                pdfFields.Add(pdffield);
                                updateJobDocumentField.Value = val;
                                updateJobDocumentField.ActualValue = val;
                                rpoContext.Entry(updateJobDocumentField).State = EntityState.Modified;
                                FieldsValue.Add(new IdItemName
                                {
                                    Id = pdffield,
                                    ItemName = updateJobDocumentField.ActualValue
                                });
                                rpoContext.SaveChanges();
                            }
                        }
                        else if (item.Field.FieldName == "owner_bus_phone")
                        {
                            string ownerPhone = job != null && job.RfpAddress != null && job.RfpAddress.OwnerContact != null ? job.RfpAddress.OwnerContact.WorkPhone : string.Empty;
                            if (ownerPhone == null || ownerPhone == "")
                            {
                                ownerPhone = job != null && job.RfpAddress != null && job.RfpAddress.OwnerContact != null ? job.RfpAddress.OwnerContact.MobilePhone : string.Empty;
                            }
                            if (docuementType == "Post Approval Amendment")
                            {
                                ownerPhone = string.Empty;
                            }
                            if (updateJobDocumentField == null)
                            {
                                JobDocumentField JobDocumentField = new JobDocumentField
                                {
                                    IdJobDocument = idJobDocument,
                                    IdDocumentField = Convert.ToInt32(item.Id),
                                    Value = ownerPhone,
                                    ActualValue = ownerPhone
                                };
                                rpoContext.JobDocumentFields.Add(JobDocumentField);
                            }
                            else
                            {
                                string pdffield = rpoContext.DocumentFields.Where(x => x.IdField == item.IdField).Select(x => x.PdfFields).FirstOrDefault();
                                pdfFields.Add(pdffield);
                                updateJobDocumentField.Value = ownerPhone;
                                updateJobDocumentField.ActualValue = ownerPhone;
                                rpoContext.Entry(updateJobDocumentField).State = EntityState.Modified;
                                FieldsValue.Add(new IdItemName
                                {
                                    Id = pdffield,
                                    ItemName = updateJobDocumentField.ActualValue
                                });
                                rpoContext.SaveChanges();
                            }
                        }
                        else if (item.Field.FieldName == "bus_name_owner")
                        {
                            Contact owner = job != null && job.RfpAddress != null && job.RfpAddress.OwnerContact != null ? job.RfpAddress.OwnerContact : null;
                            string val = owner != null && owner.Company != null ? owner.Company.Name : string.Empty;
                            if (docuementType == "Post Approval Amendment")
                            {
                                val = string.Empty;
                            }

                            if (updateJobDocumentField == null)
                            {
                                JobDocumentField JobDocumentField = new JobDocumentField
                                {
                                    IdJobDocument = idJobDocument,
                                    IdDocumentField = Convert.ToInt32(item.Id),
                                    Value = val,
                                    ActualValue = val
                                };
                                rpoContext.JobDocumentFields.Add(JobDocumentField);
                            }
                            else
                            {
                                string pdffield = rpoContext.DocumentFields.Where(x => x.IdField == item.IdField).Select(x => x.PdfFields).FirstOrDefault();
                                pdfFields.Add(pdffield);
                                updateJobDocumentField.Value = val;
                                updateJobDocumentField.ActualValue = val;
                                rpoContext.Entry(updateJobDocumentField).State = EntityState.Modified;
                                FieldsValue.Add(new IdItemName
                                {
                                    Id = pdffield,
                                    ItemName = updateJobDocumentField.ActualValue
                                });
                                rpoContext.SaveChanges();
                            }
                        }
                        else if (item.Field.FieldName == "bus_add_owner")
                        {

                            Address ownerAddress = new Address();
                            ownerAddress = job != null && job.RfpAddress != null && job.RfpAddress.OwnerContact != null && job.RfpAddress.OwnerContact.Company != null && job.RfpAddress.OwnerContact.Company.Addresses != null ? job.RfpAddress.OwnerContact.Company.Addresses.FirstOrDefault(x => x.IsMainAddress == true) : null;
                            if (ownerAddress == null)
                            {
                                if (job != null && job.RfpAddress != null && job.RfpAddress.OwnerContact != null && job.RfpAddress.OwnerContact != null && job.RfpAddress.OwnerContact.IsPrimaryCompanyAddress == true)
                                {
                                    int? company_id = job != null && job.RfpAddress != null && job.RfpAddress.OwnerContact != null && job.RfpAddress.OwnerContact != null && job.RfpAddress.OwnerContact != null ? job.RfpAddress.OwnerContact.IdCompany : 0;
                                    ownerAddress = job != null && job.RfpAddress != null && job.RfpAddress.OwnerContact != null && job.RfpAddress.OwnerContact.Addresses != null && job.RfpAddress.OwnerContact.Company != null ? job.RfpAddress.OwnerContact.Company.Addresses.FirstOrDefault(x => x.IdCompany == company_id) : null;
                                }
                            }
                            string val = ownerAddress != null ? ownerAddress.Address1 + " " + ownerAddress.Address2 : string.Empty;

                            //Address ownerAddress = new Address();
                            //ownerAddress = job != null && job.RfpAddress != null && job.RfpAddress.OwnerContact != null && job.RfpAddress.OwnerContact.Addresses != null ? job.RfpAddress.OwnerContact.Addresses.FirstOrDefault(x => x.IsMainAddress == true) : null;
                            //if (job != null && job.RfpAddress != null && job.RfpAddress.OwnerContact != null && job.RfpAddress.OwnerContact != null && job.RfpAddress.OwnerContact.IsPrimaryCompanyAddress == true)
                            //{
                            //    int? company_id = job != null && job.RfpAddress != null && job.RfpAddress.OwnerContact != null && job.RfpAddress.OwnerContact != null && job.RfpAddress.OwnerContact != null ? job.RfpAddress.OwnerContact.IdCompany : 0;
                            //    ownerAddress = job != null && job.RfpAddress != null && job.RfpAddress.OwnerContact != null && job.RfpAddress.OwnerContact.Addresses != null && job.RfpAddress.OwnerContact.Company != null ? job.RfpAddress.OwnerContact.Company.Addresses.FirstOrDefault(x => x.IdCompany == company_id) : null;
                            //}
                            //string val = ownerAddress != null ? ownerAddress.Address1 + " " + ownerAddress.Address2 : string.Empty;
                            if (docuementType == "Post Approval Amendment")
                            {
                                val = string.Empty;
                            }
                            if (updateJobDocumentField == null)
                            {
                                JobDocumentField JobDocumentField = new JobDocumentField
                                {
                                    IdJobDocument = idJobDocument,
                                    IdDocumentField = Convert.ToInt32(item.Id),
                                    Value = val,
                                    ActualValue = val
                                };
                                rpoContext.JobDocumentFields.Add(JobDocumentField);
                            }
                            else
                            {
                                string pdffield = rpoContext.DocumentFields.Where(x => x.IdField == item.IdField).Select(x => x.PdfFields).FirstOrDefault();
                                pdfFields.Add(pdffield);
                                updateJobDocumentField.Value = val;
                                updateJobDocumentField.ActualValue = val;
                                rpoContext.Entry(updateJobDocumentField).State = EntityState.Modified;
                                FieldsValue.Add(new IdItemName
                                {
                                    Id = pdffield,
                                    ItemName = updateJobDocumentField.ActualValue
                                });
                                rpoContext.SaveChanges();
                            }
                        }
                        else if (item.Field.FieldName == "city_owner")
                        {
                            Address ownerAddress = new Address();
                            ownerAddress = job != null && job.RfpAddress != null && job.RfpAddress.OwnerContact != null && job.RfpAddress.OwnerContact.Addresses != null ? job.RfpAddress.OwnerContact.Addresses.FirstOrDefault(x => x.IsMainAddress == true) : null;
                            if (job != null && job.RfpAddress != null && job.RfpAddress.OwnerContact != null && job.RfpAddress.OwnerContact != null && job.RfpAddress.OwnerContact.IsPrimaryCompanyAddress == true)
                            {
                                int? company_id = job != null && job.RfpAddress != null && job.RfpAddress.OwnerContact != null && job.RfpAddress.OwnerContact != null && job.RfpAddress.OwnerContact != null ? job.RfpAddress.OwnerContact.IdCompany : 0;
                                ownerAddress = job != null && job.RfpAddress != null && job.RfpAddress.OwnerContact != null && job.RfpAddress.OwnerContact.Addresses != null && job.RfpAddress.OwnerContact.Company != null ? job.RfpAddress.OwnerContact.Company.Addresses.FirstOrDefault(x => x.IdCompany == company_id) : null;
                            }
                            string val = ownerAddress != null ? ownerAddress.City : string.Empty;
                            if (docuementType == "Post Approval Amendment")
                            {
                                val = string.Empty;
                            }
                            if (updateJobDocumentField == null)
                            {
                                JobDocumentField JobDocumentField = new JobDocumentField
                                {
                                    IdJobDocument = idJobDocument,
                                    IdDocumentField = Convert.ToInt32(item.Id),
                                    Value = val,
                                    ActualValue = val
                                };
                                rpoContext.JobDocumentFields.Add(JobDocumentField);
                            }
                            else
                            {
                                string pdffield = rpoContext.DocumentFields.Where(x => x.IdField == item.IdField).Select(x => x.PdfFields).FirstOrDefault();
                                pdfFields.Add(pdffield);
                                updateJobDocumentField.Value = val;
                                updateJobDocumentField.ActualValue = val;
                                rpoContext.Entry(updateJobDocumentField).State = EntityState.Modified;
                                FieldsValue.Add(new IdItemName
                                {
                                    Id = pdffield,
                                    ItemName = updateJobDocumentField.ActualValue
                                });
                                rpoContext.SaveChanges();
                            }
                        }
                        else if (item.Field.FieldName == "state_owner")
                        {
                            Address ownerAddress = new Address();
                            ownerAddress = job != null && job.RfpAddress != null && job.RfpAddress.OwnerContact != null && job.RfpAddress.OwnerContact.Addresses != null ? job.RfpAddress.OwnerContact.Addresses.FirstOrDefault(x => x.IsMainAddress == true) : null;
                            if (job != null && job.RfpAddress != null && job.RfpAddress.OwnerContact != null && job.RfpAddress.OwnerContact != null && job.RfpAddress.OwnerContact.IsPrimaryCompanyAddress == true)
                            {
                                int? company_id = job != null && job.RfpAddress != null && job.RfpAddress.OwnerContact != null && job.RfpAddress.OwnerContact != null && job.RfpAddress.OwnerContact != null ? job.RfpAddress.OwnerContact.IdCompany : 0;
                                ownerAddress = job != null && job.RfpAddress != null && job.RfpAddress.OwnerContact != null && job.RfpAddress.OwnerContact.Addresses != null && job.RfpAddress.OwnerContact.Company != null ? job.RfpAddress.OwnerContact.Company.Addresses.FirstOrDefault(x => x.IdCompany == company_id) : null;
                            }

                            string val = ownerAddress != null && ownerAddress.State != null ? ownerAddress.State.Acronym : string.Empty;
                            if (docuementType == "Post Approval Amendment")
                            {
                                val = string.Empty;
                            }
                            if (updateJobDocumentField == null)
                            {
                                JobDocumentField JobDocumentField = new JobDocumentField
                                {
                                    IdJobDocument = idJobDocument,
                                    IdDocumentField = Convert.ToInt32(item.Id),
                                    Value = val,
                                    ActualValue = val
                                };
                                rpoContext.JobDocumentFields.Add(JobDocumentField);
                            }
                            else
                            {
                                string pdffield = rpoContext.DocumentFields.Where(x => x.IdField == item.IdField).Select(x => x.PdfFields).FirstOrDefault();
                                pdfFields.Add(pdffield);
                                updateJobDocumentField.Value = val;
                                updateJobDocumentField.ActualValue = val;
                                rpoContext.Entry(updateJobDocumentField).State = EntityState.Modified;
                                FieldsValue.Add(new IdItemName
                                {
                                    Id = pdffield,
                                    ItemName = updateJobDocumentField.ActualValue
                                });
                                rpoContext.SaveChanges();
                            }
                        }
                        else if (item.Field.FieldName == "zip_owner")
                        {
                            Address ownerAddress = new Address();
                            ownerAddress = job != null && job.RfpAddress != null && job.RfpAddress.OwnerContact != null && job.RfpAddress.OwnerContact.Addresses != null ? job.RfpAddress.OwnerContact.Addresses.FirstOrDefault(x => x.IsMainAddress == true) : null;
                            if (job != null && job.RfpAddress != null && job.RfpAddress.OwnerContact != null && job.RfpAddress.OwnerContact != null && job.RfpAddress.OwnerContact.IsPrimaryCompanyAddress == true)
                            {
                                int? company_id = job != null && job.RfpAddress != null && job.RfpAddress.OwnerContact != null && job.RfpAddress.OwnerContact != null && job.RfpAddress.OwnerContact != null ? job.RfpAddress.OwnerContact.IdCompany : 0;
                                ownerAddress = job != null && job.RfpAddress != null && job.RfpAddress.OwnerContact != null && job.RfpAddress.OwnerContact.Addresses != null && job.RfpAddress.OwnerContact.Company != null ? job.RfpAddress.OwnerContact.Company.Addresses.FirstOrDefault(x => x.IdCompany == company_id) : null;
                            }

                            string val = ownerAddress != null ? ownerAddress.ZipCode : string.Empty;
                            if (docuementType == "Post Approval Amendment")
                            {
                                val = string.Empty;
                            }
                            if (updateJobDocumentField == null)
                            {
                                JobDocumentField JobDocumentField = new JobDocumentField
                                {
                                    IdJobDocument = idJobDocument,
                                    IdDocumentField = Convert.ToInt32(item.Id),
                                    Value = val,
                                    ActualValue = val
                                };
                                rpoContext.JobDocumentFields.Add(JobDocumentField);
                            }
                            else
                            {
                                string pdffield = rpoContext.DocumentFields.Where(x => x.IdField == item.IdField).Select(x => x.PdfFields).FirstOrDefault();
                                pdfFields.Add(pdffield);
                                updateJobDocumentField.Value = val;
                                updateJobDocumentField.ActualValue = val;
                                rpoContext.Entry(updateJobDocumentField).State = EntityState.Modified;
                                FieldsValue.Add(new IdItemName
                                {
                                    Id = pdffield,
                                    ItemName = updateJobDocumentField.ActualValue
                                });
                                rpoContext.SaveChanges();
                            }
                        }
                        else if (item.Field.FieldName == "email_owner")
                        {
                            string val = job != null && job.RfpAddress != null && job.RfpAddress.OwnerContact != null ? job.RfpAddress.OwnerContact.Email : string.Empty;
                            if (docuementType == "Post Approval Amendment")
                            {
                                val = string.Empty;
                            }

                            if (updateJobDocumentField == null)
                            {
                                JobDocumentField JobDocumentField = new JobDocumentField
                                {
                                    IdJobDocument = idJobDocument,
                                    IdDocumentField = Convert.ToInt32(item.Id),
                                    Value = val,
                                    ActualValue = val
                                };
                                rpoContext.JobDocumentFields.Add(JobDocumentField);
                            }
                            else
                            {
                                string pdffield = rpoContext.DocumentFields.Where(x => x.IdField == item.IdField).Select(x => x.PdfFields).FirstOrDefault();
                                pdfFields.Add(pdffield);
                                updateJobDocumentField.Value = val;
                                updateJobDocumentField.ActualValue = val;
                                rpoContext.Entry(updateJobDocumentField).State = EntityState.Modified;
                                FieldsValue.Add(new IdItemName
                                {
                                    Id = pdffield,
                                    ItemName = updateJobDocumentField.ActualValue
                                });
                                rpoContext.SaveChanges();
                            }
                        }
                        else if (item.Field.FieldName == "job_desc")
                        {
                            string val = job != null && job.RfpAddress != null && job.RfpAddress.OwnerContact != null ? job.RfpAddress.OwnerContact.FirstName : string.Empty;

                            if (updateJobDocumentField == null)
                            {
                                JobDocumentField JobDocumentField = new JobDocumentField
                                {
                                    IdJobDocument = idJobDocument,
                                    IdDocumentField = Convert.ToInt32(item.Id),
                                    Value = desc,
                                    ActualValue = desc
                                };
                                rpoContext.JobDocumentFields.Add(JobDocumentField);
                            }
                            else
                            {
                                string pdffield = rpoContext.DocumentFields.Where(x => x.IdField == item.IdField).Select(x => x.PdfFields).FirstOrDefault();
                                pdfFields.Add(pdffield);
                                updateJobDocumentField.Value = desc;
                                updateJobDocumentField.ActualValue = desc;
                                rpoContext.Entry(updateJobDocumentField).State = EntityState.Modified;
                                FieldsValue.Add(new IdItemName
                                {
                                    Id = pdffield,
                                    ItemName = updateJobDocumentField.ActualValue
                                });
                                rpoContext.SaveChanges();
                            }
                        }

                        rpoContext.SaveChanges();
                    }
                    else
                    {

                        if (item.Field.FieldName == "Application")
                        {
                            int jobApplicantId = Convert.ToInt32(frontendFields.Value);
                            JobApplication jobApplication = rpoContext.JobApplications.FirstOrDefault(x => x.Id == jobApplicantId);
                            // ApplicationType = jobApplication != null && jobApplication.JobApplicationType != null ? jobApplication.JobApplicationType.Description : string.Empty;
                            ApplicationType = rpoContext.JobApplicationTypes.Where(x => x.Id == jobApplication.IdJobApplicationType).Select(x => x.Description).FirstOrDefault();

                            applicationNumber = jobApplication != null ? jobApplication.ApplicationNumber : string.Empty;
                            floorWorkingOn = jobApplication != null ? jobApplication.FloorWorking : string.Empty;

                            List<int> workTypesLst = (from p in rpoContext.JobApplicationWorkPermitTypes where p.IdJobApplication == jobApplication.Id select p.Id).ToList();


                            var jobApplicationWorkPermitType = rpoContext.JobApplicationWorkPermitTypes
                                                                        .Include("JobWorkType")
                                                                        .Where(x => workTypesLst.Contains(x.Id))
                                                                        .Select(x => new
                                                                        {
                                                                            Permittype = x.PermitType != null && x.PermitType != "" ? x.PermitType : x.JobWorkType.Description,
                                                                            PermitTypeCode = x.Code,
                                                                            Fees = x.PermitType != null && x.PermitType != "" ? x.EstimatedCost : x.EstimatedCost,
                                                                            WorkDescription = x.WorkDescription != "" ? x.WorkDescription.Trim() : string.Empty
                                                                        }).ToList();
                            //Fees = x.PermitType != null && x.PermitType != "" ? x.RenewalFee : x.EstimatedCost

                            string permitType = jobApplicationWorkPermitType != null ? String.Join(",", jobApplicationWorkPermitType.Select(x => x.Permittype)) : string.Empty;
                            permitTypecode = jobApplicationWorkPermitType != null ? String.Join(",", jobApplicationWorkPermitType.Select(x => x.PermitTypeCode)) : string.Empty;
                            string fees = jobApplicationWorkPermitType != null ? String.Join(",", jobApplicationWorkPermitType.Select(x => x.Fees)) : string.Empty;
                            //  string fees1 = 0;
                            double? d = 0;
                            //string desc = string.Empty;
                            //  documentDescription = documentDescription + (!string.IsNullOrEmpty(permitType) ? "Work Type: " + permitType : string.Empty);
                            foreach (var item1 in jobApplicationWorkPermitType)
                            {
                                if (jobApplicationWorkPermitType.Count > 1)
                                {
                                    d = d + (item1.Fees == null ? 0 : item1.Fees);
                                    if (!string.IsNullOrEmpty(item1.WorkDescription))
                                    {
                                        string output = item1.WorkDescription.Trim().Substring(item1.WorkDescription.Trim().Length - 1, 1);
                                        if (output == ".")
                                        {
                                            desc = desc + item1.PermitTypeCode + " : " + item1.WorkDescription;
                                        }
                                        else
                                        {
                                            desc = desc + item1.PermitTypeCode + " : " + item1.WorkDescription + ". ";
                                        }
                                    }
                                }
                                else
                                {
                                    d = d + (item1.Fees == null ? 0 : item1.Fees);
                                    if (!string.IsNullOrEmpty(item1.WorkDescription))
                                    {
                                        string output = item1.WorkDescription.Trim().Substring(item1.WorkDescription.Trim().Length - 1, 1);

                                        if (output == ".")
                                        {
                                            desc = desc + item1.PermitTypeCode + " : " + item1.WorkDescription;
                                        }
                                        else
                                        {
                                            desc = desc + item1.PermitTypeCode + " : " + item1.WorkDescription + ". ";
                                        }
                                    }
                                }

                            }


                            if (updateJobDocumentField == null)
                            {
                                JobDocumentField JobDocumentField = new JobDocumentField
                                {
                                    IdJobDocument = idJobDocument,
                                    IdDocumentField = Convert.ToInt32(item.Id),
                                    Value = frontendFields.Value,
                                    ActualValue = applicationNumber
                                };
                                rpoContext.JobDocumentFields.Add(JobDocumentField);
                            }
                            else
                            {
                                updateJobDocumentField.Value = frontendFields.Value;
                                updateJobDocumentField.ActualValue = applicationNumber;
                                rpoContext.Entry(updateJobDocumentField).State = EntityState.Modified;
                                rpoContext.SaveChanges();
                            }
                        }

                        else if (item.Field.FieldName == "Applicant")
                        {
                            int certifierid = Convert.ToInt32(frontendFields.Value);

                            JobContact jobContact = rpoContext.JobContacts.Where(x => x.Id == certifierid).FirstOrDefault();

                            applicantName = jobContact != null && jobContact.Contact != null ? jobContact.Contact.FirstName + " " + jobContact.Contact.LastName : string.Empty;
                            applicantFirstName = jobContact != null && jobContact.Contact != null ? jobContact.Contact.FirstName : string.Empty;
                            applicantMiddleName = jobContact != null && jobContact.Contact != null ? jobContact.Contact.MiddleName : string.Empty;
                            applicantLastName = jobContact != null && jobContact.Contact != null ? jobContact.Contact.LastName : string.Empty;
                            contactcompany = jobContact != null && jobContact.Contact != null && jobContact.Contact.Company != null ? jobContact.Contact.Company.Name : string.Empty;
                            // Address compnayAddress = jobContact != null && jobContact.Company != null && jobContact.Company.Addresses != null ? jobContact.Company.Addresses.OrderBy(x => x.AddressType.DisplayOrder).FirstOrDefault() : null;
                            Address compnayAddress = Common.GetContactAddressForJobDocument(jobContact);
                            businessAddress = compnayAddress != null ? compnayAddress.Address1 + " " + compnayAddress.Address2 : string.Empty;
                            businessCity = compnayAddress != null ? compnayAddress.City : string.Empty;
                            businessState = compnayAddress != null && compnayAddress.State != null ? compnayAddress.State.Acronym : string.Empty;
                            businessZip = compnayAddress != null ? compnayAddress.ZipCode : string.Empty;

                            contactMobilePhone = Common.GetContactPhoneNumberForJobDocument(jobContact);
                            //!= null && jobContact.Contact != null ? jobContact.Contact.MobilePhone : string.Empty;
                            contactEmail = jobContact != null ? jobContact.Contact.Email : string.Empty;
                            applicantmobilenumber = jobContact != null ? jobContact.Contact.MobilePhone : string.Empty;

                            string licenceTypeNumber = jobContact != null && jobContact.Contact != null && jobContact.Contact.ContactLicenses != null && jobContact.Contact.ContactLicenses.Count > 0 ?
                                 jobContact.Contact.ContactLicenses.Select(x => x.Number).FirstOrDefault() : string.Empty;
                            if (!string.IsNullOrEmpty(licenceTypeNumber))
                            {
                                ContactLicense contactLicenseType = rpoContext.ContactLicenses.Where(a => a.Number == licenceTypeNumber).FirstOrDefault();
                                ContactLicenseType LicenseType = rpoContext.ContactLicenseTypes.Where(b => b.Id == contactLicenseType.IdContactLicenseType).FirstOrDefault();
                                if (LicenseType.Name == "Engineer")
                                {
                                    contactLic_state_engineer = "pe";
                                    contactLic_No = licenceTypeNumber;
                                }
                                else if (LicenseType.Name == "Architect")
                                {
                                    contactLic_state_engineer = "ra";
                                    contactLic_No = licenceTypeNumber;
                                }
                            }
                            else
                            {
                                licenceTypeNumber = jobContact != null && jobContact.Contact != null && jobContact.Contact.ContactLicenses != null && jobContact.Contact.ContactLicenses.Count > 0 ?
                                jobContact.Contact.ContactLicenses.Select(x => x.ContactLicenseType.Name).FirstOrDefault() : string.Empty;
                                if (licenceTypeNumber.ToLower() == ("Engineer").ToLower())
                                {
                                    contactLic_state_engineer = "pe";
                                }
                                else if (licenceTypeNumber.ToLower() == ("Architect").ToLower())
                                {
                                    contactLic_state_engineer = "ra";
                                }
                            }
                            contactTitle = jobContact != null && jobContact.Contact != null && jobContact.Contact.ContactTitle != null ? jobContact.Contact.ContactTitle.Name : string.Empty;
                            documentDescription = documentDescription + (!string.IsNullOrEmpty(documentDescription) && !string.IsNullOrEmpty(applicantFirstName + " " + applicantLastName) ? " | " : string.Empty) + (!string.IsNullOrEmpty(applicantFirstName + " " + applicantLastName) ? "Applicant: " + applicantFirstName + " " + applicantLastName : string.Empty);

                            if (updateJobDocumentField == null)
                            {
                                JobDocumentField JobDocumentField = new JobDocumentField
                                {
                                    IdJobDocument = idJobDocument,
                                    IdDocumentField = frontendFields.IdDocumentField,
                                    Value = frontendFields.Value,
                                    ActualValue = applicantLastName
                                };
                                rpoContext.JobDocumentFields.Add(JobDocumentField);
                                rpoContext.SaveChanges();
                            }
                            else
                            {
                                updateJobDocumentField.Value = frontendFields.Value;
                                updateJobDocumentField.ActualValue = applicantLastName;
                                rpoContext.Entry(updateJobDocumentField).State = EntityState.Modified;
                                rpoContext.SaveChanges();
                            }
                        }

                        else if (item.Field.FieldName == "Filing Representative")
                        {
                            int idFilingRepresentative = Convert.ToInt32(frontendFields.Value);
                            //Employee employee = rpoContext.Employees.Where(x => x.Id == idFilingRepresentative).FirstOrDefault();
                            Employee employee = Common.GetEmployeeInformation(idFilingRepresentative);

                            filingRepresentativefirstname = employee != null ? employee.FirstName : string.Empty;
                            filingRepresentativelastname = employee != null ? employee.LastName : string.Empty;
                            frfirstname = employee != null ? employee.FirstName : string.Empty;
                            frLastname = employee != null ? employee.LastName : string.Empty;

                            filingRepresentativeCompany = "RPO INC";
                            filingRepresentativeaddress = employee != null ? employee.Address1 : string.Empty;
                            filingRepresentativePhone = employee != null ? employee.WorkPhone : string.Empty;
                            filingRepresentativeEmail = employee != null ? employee.Email : string.Empty;
                            filingRepresentativestate = employee != null ? employee.State.Acronym : string.Empty;
                            filingRepresentativecity = employee != null ? employee.City : string.Empty;
                            filingRepresentativezip = employee != null ? employee.ZipCode : string.Empty;
                            filingRepresentativemobile = employee != null ? employee.MobilePhone : string.Empty;
                            //  filingRepresentativeEmail = employee != null ? employee.Email : string.Empty;

                            string filingRepresentative = employee != null ? employee.FirstName + " " + employee.LastName : string.Empty;

                            AgentCertificate agentCertificate = rpoContext.AgentCertificates
                            .Include("DocumentType").FirstOrDefault(x => x.IdEmployee == idFilingRepresentative && x.DocumentType.Name.Equals("DOB Filing Representative"));
                            filingRepresentativRegnumber = agentCertificate != null ? agentCertificate.NumberId : string.Empty;
                            // documentDescription = documentDescription + (!string.IsNullOrEmpty(filingRepresentative) ? "Filing Representative: " + filingRepresentative : string.Empty);

                            documentDescription = documentDescription + (!string.IsNullOrEmpty(frfirstname) && !string.IsNullOrEmpty(frLastname) ? " | Filing Representative: " + frfirstname + " " + frLastname : string.Empty);
                            updateJobDocumentField = jobDocumentFieldList.FirstOrDefault(x => x.IdDocumentField == item.Id);
                            if (updateJobDocumentField == null)
                            {
                                JobDocumentField JobDocumentField = new JobDocumentField
                                {
                                    IdJobDocument = idJobDocument,
                                    IdDocumentField = Convert.ToInt32(item.Id),
                                    Value = frontendFields.Value,
                                    ActualValue = filingRepresentative,

                                };
                                rpoContext.JobDocumentFields.Add(JobDocumentField);
                            }
                            else
                            {
                                updateJobDocumentField.Value = frontendFields.Value;
                                updateJobDocumentField.ActualValue = filingRepresentative;
                                rpoContext.Entry(updateJobDocumentField).State = EntityState.Modified;
                                rpoContext.SaveChanges();
                            }
                        }

                        else
                        {
                            if (updateJobDocumentField == null)
                            {
                                JobDocumentField JobDocumentField = new JobDocumentField
                                {
                                    IdJobDocument = idJobDocument,
                                    IdDocumentField = frontendFields.IdDocumentField,
                                    Value = frontendFields.Value
                                };
                                rpoContext.JobDocumentFields.Add(JobDocumentField);
                                rpoContext.SaveChanges();
                            }
                            else
                            {
                                updateJobDocumentField.Value = frontendFields.Value;
                                rpoContext.Entry(updateJobDocumentField).State = EntityState.Modified;
                                rpoContext.SaveChanges();
                            }
                        }
                    }
                }
            }
            List<string> newpdfString = pdfFields;
            List<int> newDocumentFieldId = DocumentFieldsIds;
            jobDocument.DocumentDescription = documentDescription;
            jobDocument.JobDocumentFor = jobDocumentFor;
            rpoContext.SaveChanges();
            GenerateEditedJobDocument(idJobDocument, pdfFields, newDocumentFieldId, FieldsValue);



        }

        public static void GeneratePlanorworkapprovalapplication2022(int idJobDocument, JobDocumentCreateOrUpdateDTO jobDocumentCreateOrUpdateDTO)
        {
            RpoContext rpoContext = new RpoContext();
            var documentFieldList = rpoContext.DocumentFields.Include("Field").Where(x => x.IdDocument == jobDocumentCreateOrUpdateDTO.IdDocument).OrderByDescending(x => x.Field.IsDisplayInFrontend).ThenBy(x => x.DisplayOrder).ToList();
            JobDocument jobDocument = rpoContext.JobDocuments.FirstOrDefault(x => x.Id == idJobDocument);
            string documentDescription = string.Empty;
            string jobDocumentFor = string.Empty;

            if (documentFieldList != null && documentFieldList.Count > 0)
            {
                Job job = rpoContext.Jobs.Include("ProjectManager").
                    Include("Contact.ContactTitle").
                    Include("RfpAddress.Borough").
                    Include("Company.Addresses.AddressType").
                    Include("Company.Addresses.State")
                    .Where(x => x.Id == jobDocumentCreateOrUpdateDTO.IdJob).FirstOrDefault();

                string contactName = string.Empty;
                string licenceName = string.Empty;
                string contactName2 = string.Empty;
                string companyName2 = string.Empty;
                string location2 = string.Empty;
                string docuementType = string.Empty;
                string floorWorkingOn = string.Empty;
                string applicantFirstName = string.Empty;
                string applicantMiddleName = string.Empty;
                string applicantLastName = string.Empty;
                string contactcompany = string.Empty;
                string businessAddress = string.Empty;
                //   string businessAddress = string.Empty;
                string businessCity = string.Empty;
                string businessState = string.Empty;
                string businessZip = string.Empty;
                string contactMobilePhone = string.Empty;
                string contactEmail = string.Empty;
                string contactTitle = string.Empty;
                string documentType = string.Empty;
                string documentName = string.Empty;
                //   string contactcompany = string.Empty;
                string applicantmobilenumber = string.Empty;
                string contactLic_state_engineer = string.Empty;
                string contactLic_state_architect = string.Empty;
                string contactLic_No = string.Empty;
                string filingRepresentativeCompany = string.Empty;
                string filingRepresentativePhone = string.Empty;
                string filingRepresentativeEmail = string.Empty;

                string filingRepresentativeCompany2 = string.Empty;
                string filingRepresentativePhone2 = string.Empty;
                string filingRepresentativeEmail2 = string.Empty;


                string filingRepresentativeCompany3 = string.Empty;
                string filingRepresentativePhone3 = string.Empty;
                string filingRepresentativeEmail3 = string.Empty;


                string filingRepresentativefirstname = string.Empty;
                string frfirstname = string.Empty;
                string frLastname = string.Empty;
                string filingRepresentative2firstname = string.Empty;
                string filingRepresentativef3irstname = string.Empty;
                string filingRepresentativelastname = string.Empty;
                string filingRepresentative2lastname = string.Empty;
                string filingRepresentative3lastname = string.Empty;
                string filingRepresentativeaddress = string.Empty;
                string filingRepresentativecity = string.Empty;
                string filingRepresentativestate = string.Empty;
                string filingRepresentativezip = string.Empty;
                string filingRepresentativemobile = string.Empty;
                string filingRepresentativeemail = string.Empty;
                string filingRepresentativRegnumber = string.Empty;
                string[] permitTypecodeArr = new string[20];
                string permitTypecode = string.Empty;
                string estfees = string.Empty;
                string LR_Name = string.Empty;
                string LR_Relationship = string.Empty;
                string LR_Company = string.Empty;
                string LR_Address = string.Empty;
                string LR_City = string.Empty;
                string LR_State = string.Empty;
                string LR_Zip = string.Empty;
                string LR_Phone = string.Empty;
                string LR_Fax = string.Empty;
                string LR_EMail = string.Empty;
                string applicantName = string.Empty;
                string comments = string.Empty;
                string applicationNumber = string.Empty;
                string ApplicationType = string.Empty;
                string desc = string.Empty;
                var jobDocumentFieldList = rpoContext.JobDocumentFields.Where(x => x.IdJobDocument == idJobDocument).ToList();
                foreach (DocumentField item in documentFieldList)
                {
                    JobDocumentField updateJobDocumentField = jobDocumentFieldList.FirstOrDefault(x => x.IdDocumentField == item.Id);
                    var frontendFields = jobDocumentCreateOrUpdateDTO.JobDocumentFields.FirstOrDefault(x => x.IdDocumentField == item.Id);
                    if (frontendFields == null)
                    {
                        if (item.Field.FieldName == "JobFileInfo")
                        {
                            string jobFileInfo = job != null ? job.JobNumber + " - PW-1 3-2022.pdf" : string.Empty;
                            if (updateJobDocumentField == null)
                            {
                                JobDocumentField JobDocumentField = new JobDocumentField
                                {
                                    IdJobDocument = idJobDocument,
                                    IdDocumentField = Convert.ToInt32(item.Id),
                                    Value = jobFileInfo,
                                    ActualValue = jobFileInfo
                                };
                                rpoContext.JobDocumentFields.Add(JobDocumentField);
                            }
                            else
                            {
                                updateJobDocumentField.Value = jobFileInfo;
                                updateJobDocumentField.ActualValue = jobFileInfo;
                                rpoContext.Entry(updateJobDocumentField).State = EntityState.Modified;
                                rpoContext.SaveChanges();
                            }
                        }
                        else if (item.Field.FieldName == "chkPublic")
                        {
                            if (updateJobDocumentField == null)
                            {
                                JobDocumentField JobDocumentField = new JobDocumentField
                                {
                                    IdJobDocument = idJobDocument,
                                    IdDocumentField = Convert.ToInt32(item.Id),
                                    Value = "2",
                                    ActualValue = "2"
                                };
                                rpoContext.JobDocumentFields.Add(JobDocumentField);
                            }
                            else
                            {
                                updateJobDocumentField.Value = "2";
                                updateJobDocumentField.ActualValue = "2";
                                rpoContext.Entry(updateJobDocumentField).State = EntityState.Modified;
                                rpoContext.SaveChanges();
                            }
                        }

                        else if (item.Field.FieldName == "txtExistingStru_OC")
                        {
                            string ConstructionClassification = job != null && job.RfpAddress != null && job.RfpAddress.StructureOccupancyCategory != null ? job.RfpAddress.StructureOccupancyCategory.Code : string.Empty;
                            if (updateJobDocumentField == null)
                            {
                                JobDocumentField JobDocumentField = new JobDocumentField
                                {
                                    IdJobDocument = idJobDocument,
                                    IdDocumentField = Convert.ToInt32(item.Id),
                                    Value = ConstructionClassification,
                                    ActualValue = ConstructionClassification
                                };
                                rpoContext.JobDocumentFields.Add(JobDocumentField);
                            }
                            else
                            {
                                updateJobDocumentField.Value = ConstructionClassification;
                                updateJobDocumentField.ActualValue = ConstructionClassification;
                                rpoContext.Entry(updateJobDocumentField).State = EntityState.Modified;
                                rpoContext.SaveChanges();
                            }
                        }

                        else if (item.Field.FieldName == "txtExistingSeismicDesign")
                        {
                            string ConstructionClassification = job != null && job.RfpAddress != null && job.RfpAddress.SeismicDesignCategory != null ? job.RfpAddress.SeismicDesignCategory.Code : string.Empty;
                            if (updateJobDocumentField == null)
                            {
                                JobDocumentField JobDocumentField = new JobDocumentField
                                {
                                    IdJobDocument = idJobDocument,
                                    IdDocumentField = Convert.ToInt32(item.Id),
                                    Value = ConstructionClassification,
                                    ActualValue = ConstructionClassification
                                };
                                rpoContext.JobDocumentFields.Add(JobDocumentField);
                            }
                            else
                            {
                                updateJobDocumentField.Value = ConstructionClassification;
                                updateJobDocumentField.ActualValue = ConstructionClassification;
                                rpoContext.Entry(updateJobDocumentField).State = EntityState.Modified;
                                rpoContext.SaveChanges();
                            }
                        }
                        else if (item.Field.FieldName == "Job")
                        {

                            //  int jobApplicantId = Convert.ToInt32(frontendFields.Value);
                            //  JobApplication jobApplication = rpoContext.JobApplications.FirstOrDefault(x => x.Id == jobApplicantId);

                            // string applicationNumber = jobApplication != null ? jobApplication.ApplicationNumber : string.Empty;
                            if (updateJobDocumentField == null)
                            {
                                JobDocumentField JobDocumentField = new JobDocumentField
                                {
                                    IdJobDocument = idJobDocument,
                                    IdDocumentField = Convert.ToInt32(item.Id),
                                    Value = applicationNumber,
                                    ActualValue = applicationNumber
                                };
                                rpoContext.JobDocumentFields.Add(JobDocumentField);
                            }
                            else
                            {
                                updateJobDocumentField.Value = applicationNumber;
                                updateJobDocumentField.ActualValue = applicationNumber;
                                rpoContext.Entry(updateJobDocumentField).State = EntityState.Modified;
                                rpoContext.SaveChanges();
                            }
                        }

                        else if (item.Field.FieldName == "chkPlans_Yes")
                        {
                            if (updateJobDocumentField == null)
                            {
                                JobDocumentField JobDocumentField = new JobDocumentField
                                {
                                    IdJobDocument = idJobDocument,
                                    IdDocumentField = Convert.ToInt32(item.Id),
                                    Value = "1",
                                    ActualValue = "1"
                                };
                                rpoContext.JobDocumentFields.Add(JobDocumentField);
                            }
                            else
                            {
                                updateJobDocumentField.Value = "1";
                                updateJobDocumentField.ActualValue = "1";
                                rpoContext.Entry(updateJobDocumentField).State = EntityState.Modified;
                                rpoContext.SaveChanges();
                            }
                        }


                        else if (item.Field.FieldName == "chkAdultNo")
                        {
                            string AdultEsta = string.Empty;
                            if (docuementType == "Initial Filing")
                            {
                                // AdultEsta = "On";
                            }

                            if (updateJobDocumentField == null)
                            {
                                JobDocumentField JobDocumentField = new JobDocumentField
                                {
                                    IdJobDocument = idJobDocument,
                                    IdDocumentField = Convert.ToInt32(item.Id),
                                    Value = AdultEsta,
                                    ActualValue = AdultEsta
                                };
                                rpoContext.JobDocumentFields.Add(JobDocumentField);
                            }
                            else
                            {
                                updateJobDocumentField.Value = AdultEsta;
                                updateJobDocumentField.ActualValue = AdultEsta;
                                rpoContext.Entry(updateJobDocumentField).State = EntityState.Modified;
                                rpoContext.SaveChanges();
                            }
                        }
                        else if (item.Field.FieldName == "chkInfillZoningNo")
                        {
                            string fillZoning = string.Empty;
                            if (docuementType == "Initial Filing")
                            {
                                //  fillZoning = "On";
                            }

                            if (updateJobDocumentField == null)
                            {
                                JobDocumentField JobDocumentField = new JobDocumentField
                                {
                                    IdJobDocument = idJobDocument,
                                    IdDocumentField = Convert.ToInt32(item.Id),
                                    Value = fillZoning,
                                    ActualValue = fillZoning
                                };
                                rpoContext.JobDocumentFields.Add(JobDocumentField);
                            }
                            else
                            {
                                updateJobDocumentField.Value = fillZoning;
                                updateJobDocumentField.ActualValue = fillZoning;
                                rpoContext.Entry(updateJobDocumentField).State = EntityState.Modified;
                                rpoContext.SaveChanges();
                            }
                        }
                        else if (item.Field.FieldName == "chkCompensatedNo")
                        {
                            string Compensated = string.Empty;
                            if (docuementType == "Initial Filing")
                            {
                                //  Compensated = "On";
                            }

                            if (updateJobDocumentField == null)
                            {
                                JobDocumentField JobDocumentField = new JobDocumentField
                                {
                                    IdJobDocument = idJobDocument,
                                    IdDocumentField = Convert.ToInt32(item.Id),
                                    Value = Compensated,
                                    ActualValue = Compensated
                                };
                                rpoContext.JobDocumentFields.Add(JobDocumentField);
                            }
                            else
                            {
                                updateJobDocumentField.Value = Compensated;
                                updateJobDocumentField.ActualValue = Compensated;
                                rpoContext.Entry(updateJobDocumentField).State = EntityState.Modified;
                                rpoContext.SaveChanges();
                            }
                        }
                        else if (item.Field.FieldName == "chkLoftBoardNo")
                        {
                            string LoftBoard = string.Empty;
                            if (docuementType == "Initial Filing")
                            {
                                // LoftBoard = "On";
                            }

                            if (updateJobDocumentField == null)
                            {
                                JobDocumentField JobDocumentField = new JobDocumentField
                                {
                                    IdJobDocument = idJobDocument,
                                    IdDocumentField = Convert.ToInt32(item.Id),
                                    Value = LoftBoard,
                                    ActualValue = LoftBoard
                                };
                                rpoContext.JobDocumentFields.Add(JobDocumentField);
                            }
                            else
                            {
                                updateJobDocumentField.Value = LoftBoard;
                                updateJobDocumentField.ActualValue = LoftBoard;
                                rpoContext.Entry(updateJobDocumentField).State = EntityState.Modified;
                                rpoContext.SaveChanges();
                            }
                        }

                        else if (item.Field.FieldName == "chkLowIncomeNo")
                        {
                            string LowIncome = string.Empty;
                            if (docuementType == "Initial Filing")
                            {
                                //  LowIncome = "On";
                            }

                            if (updateJobDocumentField == null)
                            {
                                JobDocumentField JobDocumentField = new JobDocumentField
                                {
                                    IdJobDocument = idJobDocument,
                                    IdDocumentField = Convert.ToInt32(item.Id),
                                    Value = LowIncome,
                                    ActualValue = LowIncome
                                };
                                rpoContext.JobDocumentFields.Add(JobDocumentField);
                            }
                            else
                            {
                                updateJobDocumentField.Value = LowIncome;
                                updateJobDocumentField.ActualValue = LowIncome;
                                rpoContext.Entry(updateJobDocumentField).State = EntityState.Modified;
                                rpoContext.SaveChanges();
                            }
                        }
                        else if (item.Field.FieldName == "chkQualityHousingNo")
                        {
                            string QualityHousing = string.Empty;
                            if (docuementType == "Initial Filing")
                            {
                                //  QualityHousing = "On";
                            }

                            if (updateJobDocumentField == null)
                            {
                                JobDocumentField JobDocumentField = new JobDocumentField
                                {
                                    IdJobDocument = idJobDocument,
                                    IdDocumentField = Convert.ToInt32(item.Id),
                                    Value = QualityHousing,
                                    ActualValue = QualityHousing
                                };
                                rpoContext.JobDocumentFields.Add(JobDocumentField);
                            }
                            else
                            {
                                updateJobDocumentField.Value = QualityHousing;
                                updateJobDocumentField.ActualValue = QualityHousing;
                                rpoContext.Entry(updateJobDocumentField).State = EntityState.Modified;
                                rpoContext.SaveChanges();
                            }
                        }
                        else if (item.Field.FieldName == "chkSRONo")
                        {
                            string SRO = string.Empty;
                            if (docuementType == "Initial Filing")
                            {
                                //  SRO = "On";
                            }

                            if (updateJobDocumentField == null)
                            {
                                JobDocumentField JobDocumentField = new JobDocumentField
                                {
                                    IdJobDocument = idJobDocument,
                                    IdDocumentField = Convert.ToInt32(item.Id),
                                    Value = SRO,
                                    ActualValue = SRO
                                };
                                rpoContext.JobDocumentFields.Add(JobDocumentField);
                            }
                            else
                            {
                                updateJobDocumentField.Value = SRO;
                                updateJobDocumentField.ActualValue = SRO;
                                rpoContext.Entry(updateJobDocumentField).State = EntityState.Modified;
                                rpoContext.SaveChanges();
                            }
                        }
                        else if (item.Field.FieldName == "chkSiteSafetyNo")
                        {
                            string SiteSafety = string.Empty;
                            if (docuementType == "Initial Filing")
                            {
                                //   SiteSafety = "On";
                            }

                            if (updateJobDocumentField == null)
                            {
                                JobDocumentField JobDocumentField = new JobDocumentField
                                {
                                    IdJobDocument = idJobDocument,
                                    IdDocumentField = Convert.ToInt32(item.Id),
                                    Value = SiteSafety,
                                    ActualValue = SiteSafety
                                };
                                rpoContext.JobDocumentFields.Add(JobDocumentField);
                            }
                            else
                            {
                                updateJobDocumentField.Value = SiteSafety;
                                updateJobDocumentField.ActualValue = SiteSafety;
                                rpoContext.Entry(updateJobDocumentField).State = EntityState.Modified;
                                rpoContext.SaveChanges();
                            }
                        }
                        else if (item.Field.FieldName == "chkLotMergerNo")
                        {
                            string LotMerger = string.Empty;
                            if (docuementType == "Initial Filing")
                            {
                                // LotMerger = "On";
                            }

                            if (updateJobDocumentField == null)
                            {
                                JobDocumentField JobDocumentField = new JobDocumentField
                                {
                                    IdJobDocument = idJobDocument,
                                    IdDocumentField = Convert.ToInt32(item.Id),
                                    Value = LotMerger,
                                    ActualValue = LotMerger
                                };
                                rpoContext.JobDocumentFields.Add(JobDocumentField);
                            }
                            else
                            {
                                updateJobDocumentField.Value = LotMerger;
                                updateJobDocumentField.ActualValue = LotMerger;
                                rpoContext.Entry(updateJobDocumentField).State = EntityState.Modified;
                                rpoContext.SaveChanges();
                            }
                        }
                        else if (item.Field.FieldName == "chkLMCCCNo")
                        {
                            string LMCCC = string.Empty;
                            if (docuementType == "Initial Filing")
                            {
                                //  LMCCC = "On";
                            }

                            if (updateJobDocumentField == null)
                            {
                                JobDocumentField JobDocumentField = new JobDocumentField
                                {
                                    IdJobDocument = idJobDocument,
                                    IdDocumentField = Convert.ToInt32(item.Id),
                                    Value = LMCCC,
                                    ActualValue = LMCCC
                                };
                                rpoContext.JobDocumentFields.Add(JobDocumentField);
                            }
                            else
                            {
                                updateJobDocumentField.Value = LMCCC;
                                updateJobDocumentField.ActualValue = LMCCC;
                                rpoContext.Entry(updateJobDocumentField).State = EntityState.Modified;
                                rpoContext.SaveChanges();
                            }
                        }
                        else if (item.Field.FieldName == "chkLandmarkYes")
                        {
                            string Landmark = string.Empty;
                            if (docuementType == "Initial Filing")
                            {
                                //  Landmark = "On";
                            }

                            if (updateJobDocumentField == null)
                            {
                                JobDocumentField JobDocumentField = new JobDocumentField
                                {
                                    IdJobDocument = idJobDocument,
                                    IdDocumentField = Convert.ToInt32(item.Id),
                                    Value = Landmark,
                                    ActualValue = Landmark
                                };
                                rpoContext.JobDocumentFields.Add(JobDocumentField);
                            }
                            else
                            {
                                updateJobDocumentField.Value = Landmark;
                                updateJobDocumentField.ActualValue = Landmark;
                                rpoContext.Entry(updateJobDocumentField).State = EntityState.Modified;
                                rpoContext.SaveChanges();
                            }
                        }
                        else if (item.Field.FieldName == "chkFilingtoAddressViolationsNo")
                        {
                            string FilingtoAddressViolations = string.Empty;
                            if (docuementType == "Initial Filing")
                            {
                                // FilingtoAddressViolations = "On";
                            }

                            if (updateJobDocumentField == null)
                            {
                                JobDocumentField JobDocumentField = new JobDocumentField
                                {
                                    IdJobDocument = idJobDocument,
                                    IdDocumentField = Convert.ToInt32(item.Id),
                                    Value = FilingtoAddressViolations,
                                    ActualValue = FilingtoAddressViolations
                                };
                                rpoContext.JobDocumentFields.Add(JobDocumentField);
                            }
                            else
                            {
                                updateJobDocumentField.Value = FilingtoAddressViolations;
                                updateJobDocumentField.ActualValue = FilingtoAddressViolations;
                                rpoContext.Entry(updateJobDocumentField).State = EntityState.Modified;
                                rpoContext.SaveChanges();
                            }
                        }
                        else if (item.Field.FieldName == "chkLittleENo")
                        {
                            string LittleE = string.Empty;
                            if (docuementType == "Initial Filing")
                            {
                                // LittleE = "On";
                            }

                            if (updateJobDocumentField == null)
                            {
                                JobDocumentField JobDocumentField = new JobDocumentField
                                {
                                    IdJobDocument = idJobDocument,
                                    IdDocumentField = Convert.ToInt32(item.Id),
                                    Value = LittleE,
                                    ActualValue = LittleE
                                };
                                rpoContext.JobDocumentFields.Add(JobDocumentField);
                            }
                            else
                            {
                                updateJobDocumentField.Value = LittleE;
                                updateJobDocumentField.ActualValue = LittleE;
                                rpoContext.Entry(updateJobDocumentField).State = EntityState.Modified;
                                rpoContext.SaveChanges();
                            }
                        }

                        else if (item.Field.FieldName == "chkUnmappedStreetNo")
                        {
                            string UnmappedStreet = string.Empty;
                            if (docuementType == "Initial Filing")
                            {
                                //  UnmappedStreet = "On";
                            }

                            if (updateJobDocumentField == null)
                            {
                                JobDocumentField JobDocumentField = new JobDocumentField
                                {
                                    IdJobDocument = idJobDocument,
                                    IdDocumentField = Convert.ToInt32(item.Id),
                                    Value = UnmappedStreet,
                                    ActualValue = UnmappedStreet
                                };
                                rpoContext.JobDocumentFields.Add(JobDocumentField);
                            }
                            else
                            {
                                updateJobDocumentField.Value = UnmappedStreet;
                                updateJobDocumentField.ActualValue = UnmappedStreet;
                                rpoContext.Entry(updateJobDocumentField).State = EntityState.Modified;
                                rpoContext.SaveChanges();
                            }
                        }
                        else if (item.Field.FieldName == "chkRequestingLegalizationNo")
                        {
                            string RequestingLegalization = string.Empty;
                            if (docuementType == "Initial Filing")
                            {
                                //  RequestingLegalization = "On";
                            }

                            if (updateJobDocumentField == null)
                            {
                                JobDocumentField JobDocumentField = new JobDocumentField
                                {
                                    IdJobDocument = idJobDocument,
                                    IdDocumentField = Convert.ToInt32(item.Id),
                                    Value = RequestingLegalization,
                                    ActualValue = RequestingLegalization
                                };
                                rpoContext.JobDocumentFields.Add(JobDocumentField);
                            }
                            else
                            {
                                updateJobDocumentField.Value = RequestingLegalization;
                                updateJobDocumentField.ActualValue = RequestingLegalization;
                                rpoContext.Entry(updateJobDocumentField).State = EntityState.Modified;
                                rpoContext.SaveChanges();
                            }
                        }
                        else if (item.Field.FieldName == "chkOtherNo")
                        {
                            string Other = string.Empty;
                            if (docuementType == "Initial Filing")
                            {
                                //  Other = "On";
                            }

                            if (updateJobDocumentField == null)
                            {
                                JobDocumentField JobDocumentField = new JobDocumentField
                                {
                                    IdJobDocument = idJobDocument,
                                    IdDocumentField = Convert.ToInt32(item.Id),
                                    Value = Other,
                                    ActualValue = Other
                                };
                                rpoContext.JobDocumentFields.Add(JobDocumentField);
                            }
                            else
                            {
                                updateJobDocumentField.Value = Other;
                                updateJobDocumentField.ActualValue = Other;
                                rpoContext.Entry(updateJobDocumentField).State = EntityState.Modified;
                                rpoContext.SaveChanges();
                            }
                        }
                        else if (item.Field.FieldName == "chkLocalLawNo")
                        {
                            string LocalLaw = string.Empty;
                            if (docuementType == "Initial Filing")
                            {
                                //  LocalLaw = "On";
                            }

                            if (updateJobDocumentField == null)
                            {
                                JobDocumentField JobDocumentField = new JobDocumentField
                                {
                                    IdJobDocument = idJobDocument,
                                    IdDocumentField = Convert.ToInt32(item.Id),
                                    Value = LocalLaw,
                                    ActualValue = LocalLaw
                                };
                                rpoContext.JobDocumentFields.Add(JobDocumentField);
                            }
                            else
                            {
                                updateJobDocumentField.Value = LocalLaw;
                                updateJobDocumentField.ActualValue = LocalLaw;
                                rpoContext.Entry(updateJobDocumentField).State = EntityState.Modified;
                                rpoContext.SaveChanges();
                            }
                        }
                        else if (item.Field.FieldName == "chkRestrictive_Declaration_EasementNo")
                        {
                            string Restrictive_Declaration_Easement = string.Empty;
                            if (docuementType == "Initial Filing")
                            {
                                //  Restrictive_Declaration_Easement = "On";
                            }

                            if (updateJobDocumentField == null)
                            {
                                JobDocumentField JobDocumentField = new JobDocumentField
                                {
                                    IdJobDocument = idJobDocument,
                                    IdDocumentField = Convert.ToInt32(item.Id),
                                    Value = Restrictive_Declaration_Easement,
                                    ActualValue = Restrictive_Declaration_Easement
                                };
                                rpoContext.JobDocumentFields.Add(JobDocumentField);
                            }
                            else
                            {
                                updateJobDocumentField.Value = Restrictive_Declaration_Easement;
                                updateJobDocumentField.ActualValue = Restrictive_Declaration_Easement;
                                rpoContext.Entry(updateJobDocumentField).State = EntityState.Modified;
                                rpoContext.SaveChanges();
                            }
                        }
                        else if (item.Field.FieldName == "chkCRFNs_Zoning_ExhibitNo")
                        {
                            string CRFNs_Zoning_Exhibit = string.Empty;
                            if (docuementType == "Initial Filing")
                            {
                                //   CRFNs_Zoning_Exhibit = "On";
                            }

                            if (updateJobDocumentField == null)
                            {
                                JobDocumentField JobDocumentField = new JobDocumentField
                                {
                                    IdJobDocument = idJobDocument,
                                    IdDocumentField = Convert.ToInt32(item.Id),
                                    Value = CRFNs_Zoning_Exhibit,
                                    ActualValue = CRFNs_Zoning_Exhibit
                                };
                                rpoContext.JobDocumentFields.Add(JobDocumentField);
                            }
                            else
                            {
                                updateJobDocumentField.Value = CRFNs_Zoning_Exhibit;
                                updateJobDocumentField.ActualValue = CRFNs_Zoning_Exhibit;
                                rpoContext.Entry(updateJobDocumentField).State = EntityState.Modified;
                                rpoContext.SaveChanges();
                            }
                        }
                        else if (item.Field.FieldName == "chkBSANo")
                        {
                            bool isBSA = job != null && job.RfpAddress != null ? Convert.ToBoolean(job.RfpAddress.IsBSADecision): false;
                            string BSA = string.Empty;
                            if (docuementType == "Initial Filing")
                            {
                                // BSA = "On";
                                if (isBSA)
                                { BSA = "1"; }
                                else { BSA = "2"; }
                            }

                            if (updateJobDocumentField == null)
                            {
                                JobDocumentField JobDocumentField = new JobDocumentField
                                {
                                    IdJobDocument = idJobDocument,
                                    IdDocumentField = Convert.ToInt32(item.Id),
                                    Value = BSA,
                                    ActualValue = BSA
                                };
                                rpoContext.JobDocumentFields.Add(JobDocumentField);
                            }
                            else
                            {
                                updateJobDocumentField.Value = BSA;
                                updateJobDocumentField.ActualValue = BSA;
                                rpoContext.Entry(updateJobDocumentField).State = EntityState.Modified;
                                rpoContext.SaveChanges();
                            }
                        }
                        else if (item.Field.FieldName == "chkCPCNo")
                        {
                            string CPC = string.Empty;
                            if (docuementType == "Initial Filing")
                            {
                                //  CPC = "On";
                            }

                            if (updateJobDocumentField == null)
                            {
                                JobDocumentField JobDocumentField = new JobDocumentField
                                {
                                    IdJobDocument = idJobDocument,
                                    IdDocumentField = Convert.ToInt32(item.Id),
                                    Value = CPC,
                                    ActualValue = CPC
                                };
                                rpoContext.JobDocumentFields.Add(JobDocumentField);
                            }
                            else
                            {
                                updateJobDocumentField.Value = CPC;
                                updateJobDocumentField.ActualValue = CPC;
                                rpoContext.Entry(updateJobDocumentField).State = EntityState.Modified;
                                rpoContext.SaveChanges();
                            }
                        }
                        else if (item.Field.FieldName == "chkLightingFixturesNo")
                        {
                            string LightingFixtures = string.Empty;
                            if (docuementType == "Initial Filing")
                            {
                                //  LightingFixtures = "On";
                            }

                            if (updateJobDocumentField == null)
                            {
                                JobDocumentField JobDocumentField = new JobDocumentField
                                {
                                    IdJobDocument = idJobDocument,
                                    IdDocumentField = Convert.ToInt32(item.Id),
                                    Value = LightingFixtures,
                                    ActualValue = LightingFixtures
                                };
                                rpoContext.JobDocumentFields.Add(JobDocumentField);
                            }
                            else
                            {
                                updateJobDocumentField.Value = LightingFixtures;
                                updateJobDocumentField.ActualValue = LightingFixtures;
                                rpoContext.Entry(updateJobDocumentField).State = EntityState.Modified;
                                rpoContext.SaveChanges();
                            }
                        }
                        else if (item.Field.FieldName == "chkModularConstructionStateNo")
                        {
                            string ModularConstructionState = string.Empty;
                            if (docuementType == "Initial Filing")
                            {
                                //  ModularConstructionState = "On";
                            }

                            if (updateJobDocumentField == null)
                            {
                                JobDocumentField JobDocumentField = new JobDocumentField
                                {
                                    IdJobDocument = idJobDocument,
                                    IdDocumentField = Convert.ToInt32(item.Id),
                                    Value = ModularConstructionState,
                                    ActualValue = ModularConstructionState
                                };
                                rpoContext.JobDocumentFields.Add(JobDocumentField);
                            }
                            else
                            {
                                updateJobDocumentField.Value = ModularConstructionState;
                                updateJobDocumentField.ActualValue = ModularConstructionState;
                                rpoContext.Entry(updateJobDocumentField).State = EntityState.Modified;
                                rpoContext.SaveChanges();
                            }
                        }
                        else if (item.Field.FieldName == "chkModularConstructionCityNo")
                        {
                            string ModularConstructionCity = string.Empty;
                            if (docuementType == "Initial Filing")
                            {
                                // ModularConstructionCity = "On";
                            }

                            if (updateJobDocumentField == null)
                            {
                                JobDocumentField JobDocumentField = new JobDocumentField
                                {
                                    IdJobDocument = idJobDocument,
                                    IdDocumentField = Convert.ToInt32(item.Id),
                                    Value = ModularConstructionCity,
                                    ActualValue = ModularConstructionCity
                                };
                                rpoContext.JobDocumentFields.Add(JobDocumentField);
                            }
                            else
                            {
                                updateJobDocumentField.Value = ModularConstructionCity;
                                updateJobDocumentField.ActualValue = ModularConstructionCity;
                                rpoContext.Entry(updateJobDocumentField).State = EntityState.Modified;
                                rpoContext.SaveChanges();
                            }
                        }
                        else if (item.Field.FieldName == "chkRemovalSSFSNo")
                        {
                            string RemovalSSFS = string.Empty;
                            if (docuementType == "Initial Filing")
                            {
                                //  RemovalSSFS = "On";
                            }

                            if (updateJobDocumentField == null)
                            {
                                JobDocumentField JobDocumentField = new JobDocumentField
                                {
                                    IdJobDocument = idJobDocument,
                                    IdDocumentField = Convert.ToInt32(item.Id),
                                    Value = RemovalSSFS,
                                    ActualValue = RemovalSSFS
                                };
                                rpoContext.JobDocumentFields.Add(JobDocumentField);
                            }
                            else
                            {
                                updateJobDocumentField.Value = RemovalSSFS;
                                updateJobDocumentField.ActualValue = RemovalSSFS;
                                rpoContext.Entry(updateJobDocumentField).State = EntityState.Modified;
                                rpoContext.SaveChanges();
                            }
                        }
                        else if (item.Field.FieldName == "chkPartialDemolitionNo")
                        {
                            string PartialDemolition = string.Empty;
                            if (docuementType == "Initial Filing")
                            {
                                //   PartialDemolition = "On";
                            }

                            if (updateJobDocumentField == null)
                            {
                                JobDocumentField JobDocumentField = new JobDocumentField
                                {
                                    IdJobDocument = idJobDocument,
                                    IdDocumentField = Convert.ToInt32(item.Id),
                                    Value = PartialDemolition,
                                    ActualValue = PartialDemolition
                                };
                                rpoContext.JobDocumentFields.Add(JobDocumentField);
                            }
                            else
                            {
                                updateJobDocumentField.Value = PartialDemolition;
                                updateJobDocumentField.ActualValue = PartialDemolition;
                                rpoContext.Entry(updateJobDocumentField).State = EntityState.Modified;
                                rpoContext.SaveChanges();
                            }
                        }
                        else if (item.Field.FieldName == "txtJob_Description")
                        {
                            string description = desc;
                            if (docuementType == "Post Approval Amendment" || docuementType == "Reinstatement" || docuementType == "Withdrwal - Entire Job" || docuementType == "Withdrwal - Partial")
                            {
                                description = string.Empty;
                            }

                            if (updateJobDocumentField == null)
                            {
                                JobDocumentField JobDocumentField = new JobDocumentField
                                {
                                    IdJobDocument = idJobDocument,
                                    IdDocumentField = Convert.ToInt32(item.Id),
                                    Value = description,
                                    ActualValue = description
                                };
                                rpoContext.JobDocumentFields.Add(JobDocumentField);
                            }
                            else
                            {
                                updateJobDocumentField.Value = description;
                                updateJobDocumentField.ActualValue = description;
                                rpoContext.Entry(updateJobDocumentField).State = EntityState.Modified;
                                rpoContext.SaveChanges();
                            }

                        }
                        else if (item.Field.FieldName == "txtHouseNo")
                        {
                            string houseNumber = job != null && job.RfpAddress != null ? job.RfpAddress.HouseNumber : string.Empty;

                            if (updateJobDocumentField == null)
                            {
                                JobDocumentField JobDocumentField = new JobDocumentField
                                {
                                    IdJobDocument = idJobDocument,
                                    IdDocumentField = Convert.ToInt32(item.Id),
                                    Value = houseNumber,
                                    ActualValue = houseNumber
                                };
                                rpoContext.JobDocumentFields.Add(JobDocumentField);
                            }
                            else
                            {
                                updateJobDocumentField.Value = houseNumber;
                                updateJobDocumentField.ActualValue = houseNumber;
                                rpoContext.Entry(updateJobDocumentField).State = EntityState.Modified;
                                rpoContext.SaveChanges();
                            }
                        }
                        else if (item.Field.FieldName == "txtStreet")
                        {
                            string street = job != null && job.RfpAddress != null ? job.RfpAddress.Street : string.Empty;

                            if (updateJobDocumentField == null)
                            {
                                JobDocumentField JobDocumentField = new JobDocumentField
                                {
                                    IdJobDocument = idJobDocument,
                                    IdDocumentField = Convert.ToInt32(item.Id),
                                    Value = street,
                                    ActualValue = street
                                };
                                rpoContext.JobDocumentFields.Add(JobDocumentField);
                            }
                            else
                            {
                                updateJobDocumentField.Value = street;
                                updateJobDocumentField.ActualValue = street;
                                rpoContext.Entry(updateJobDocumentField).State = EntityState.Modified;
                                rpoContext.SaveChanges();
                            }
                        }
                        else if (item.Field.FieldName == "txtBoro")
                        {

                            string borough = job != null && job.RfpAddress != null && job.RfpAddress.Borough != null ? job.RfpAddress.Borough.Description : string.Empty;

                            if (updateJobDocumentField == null)
                            {
                                JobDocumentField JobDocumentField = new JobDocumentField
                                {
                                    IdJobDocument = idJobDocument,
                                    IdDocumentField = Convert.ToInt32(item.Id),
                                    Value = borough,
                                    ActualValue = borough
                                };
                                rpoContext.JobDocumentFields.Add(JobDocumentField);
                            }
                            else
                            {
                                updateJobDocumentField.Value = borough;
                                updateJobDocumentField.ActualValue = borough;
                                rpoContext.Entry(updateJobDocumentField).State = EntityState.Modified;
                                rpoContext.SaveChanges();
                            }
                        }
                        else if (item.Field.FieldName == "txtBlock")
                        {
                            string block = job != null && job.RfpAddress != null ? job.RfpAddress.Block : string.Empty;
                            if (updateJobDocumentField == null)
                            {
                                JobDocumentField JobDocumentField = new JobDocumentField
                                {
                                    IdJobDocument = idJobDocument,
                                    IdDocumentField = Convert.ToInt32(item.Id),
                                    Value = block,
                                    ActualValue = block
                                };
                                rpoContext.JobDocumentFields.Add(JobDocumentField);
                            }
                            else
                            {
                                updateJobDocumentField.Value = block;
                                updateJobDocumentField.ActualValue = block;
                                rpoContext.Entry(updateJobDocumentField).State = EntityState.Modified;
                                rpoContext.SaveChanges();
                            }
                        }
                        else if (item.Field.FieldName == "txtLot")
                        {

                            string lot = job != null && job.RfpAddress != null ? job.RfpAddress.Lot : string.Empty;
                            if (updateJobDocumentField == null)
                            {
                                JobDocumentField JobDocumentField = new JobDocumentField
                                {
                                    IdJobDocument = idJobDocument,
                                    IdDocumentField = Convert.ToInt32(item.Id),
                                    Value = lot,
                                    ActualValue = lot
                                };
                                rpoContext.JobDocumentFields.Add(JobDocumentField);
                            }
                            else
                            {
                                updateJobDocumentField.Value = lot;
                                updateJobDocumentField.ActualValue = lot;
                                rpoContext.Entry(updateJobDocumentField).State = EntityState.Modified;
                                rpoContext.SaveChanges();
                            }
                        }
                        else if (item.Field.FieldName == "txtBIN")
                        {
                            string binNumber = job != null && job.RfpAddress != null ? job.RfpAddress.BinNumber : string.Empty;
                            if (updateJobDocumentField == null)
                            {
                                JobDocumentField JobDocumentField = new JobDocumentField
                                {
                                    IdJobDocument = idJobDocument,
                                    IdDocumentField = Convert.ToInt32(item.Id),
                                    Value = binNumber,
                                    ActualValue = binNumber
                                };
                                rpoContext.JobDocumentFields.Add(JobDocumentField);
                            }
                            else
                            {
                                updateJobDocumentField.Value = binNumber;
                                updateJobDocumentField.ActualValue = binNumber;
                                rpoContext.Entry(updateJobDocumentField).State = EntityState.Modified;
                                rpoContext.SaveChanges();
                            }
                        }
                        else if (item.Field.FieldName == "txtCB")
                        {
                            string comunityBoardNumber = job != null && job.RfpAddress != null ? job.RfpAddress.ComunityBoardNumber : string.Empty;

                            if (updateJobDocumentField == null)
                            {
                                JobDocumentField JobDocumentField = new JobDocumentField
                                {
                                    IdJobDocument = idJobDocument,
                                    IdDocumentField = Convert.ToInt32(item.Id),
                                    Value = comunityBoardNumber,
                                    ActualValue = comunityBoardNumber
                                };
                                rpoContext.JobDocumentFields.Add(JobDocumentField);
                            }
                            else
                            {
                                updateJobDocumentField.Value = comunityBoardNumber;
                                updateJobDocumentField.ActualValue = comunityBoardNumber;
                                rpoContext.Entry(updateJobDocumentField).State = EntityState.Modified;
                                rpoContext.SaveChanges();
                            }
                        }
                        else if (item.Field.FieldName == "txtFloors")
                        {
                            if (updateJobDocumentField == null)
                            {
                                JobDocumentField JobDocumentField = new JobDocumentField
                                {
                                    IdJobDocument = idJobDocument,
                                    IdDocumentField = Convert.ToInt32(item.Id),
                                    Value = floorWorkingOn,
                                    ActualValue = floorWorkingOn
                                };
                                rpoContext.JobDocumentFields.Add(JobDocumentField);
                            }
                            else
                            {
                                updateJobDocumentField.Value = floorWorkingOn;
                                updateJobDocumentField.ActualValue = floorWorkingOn;
                                rpoContext.Entry(updateJobDocumentField).State = EntityState.Modified;
                                rpoContext.SaveChanges();
                            }
                        }
                        else if (item.Field.FieldName == "txtApt")
                        {
                            string aptNo = job != null && job.RfpAddress != null ? job.Apartment : string.Empty;

                            if (updateJobDocumentField == null)
                            {
                                JobDocumentField JobDocumentField = new JobDocumentField
                                {
                                    IdJobDocument = idJobDocument,
                                    IdDocumentField = Convert.ToInt32(item.Id),
                                    Value = aptNo,
                                    ActualValue = aptNo
                                };
                                rpoContext.JobDocumentFields.Add(JobDocumentField);
                            }
                            else
                            {
                                updateJobDocumentField.Value = aptNo;
                                updateJobDocumentField.ActualValue = aptNo;
                                rpoContext.Entry(updateJobDocumentField).State = EntityState.Modified;
                                rpoContext.SaveChanges();
                            }
                        }
                        else if (item.Field.FieldName == "txtLast")
                        {
                            if (updateJobDocumentField == null)
                            {
                                JobDocumentField JobDocumentField = new JobDocumentField
                                {
                                    IdJobDocument = idJobDocument,
                                    IdDocumentField = Convert.ToInt32(item.Id),
                                    Value = applicantLastName,
                                    ActualValue = applicantLastName
                                };
                                rpoContext.JobDocumentFields.Add(JobDocumentField);
                            }
                            else
                            {
                                updateJobDocumentField.Value = applicantLastName;
                                updateJobDocumentField.ActualValue = applicantLastName;
                                rpoContext.Entry(updateJobDocumentField).State = EntityState.Modified;
                                rpoContext.SaveChanges();
                            }
                        }
                        else if (item.Field.FieldName == "txtFirst")
                        {
                            if (updateJobDocumentField == null)
                            {
                                JobDocumentField JobDocumentField = new JobDocumentField
                                {
                                    IdJobDocument = idJobDocument,
                                    IdDocumentField = Convert.ToInt32(item.Id),
                                    Value = applicantFirstName,
                                    ActualValue = applicantFirstName
                                };
                                rpoContext.JobDocumentFields.Add(JobDocumentField);
                            }
                            else
                            {
                                updateJobDocumentField.Value = applicantFirstName;
                                updateJobDocumentField.ActualValue = applicantFirstName;
                                rpoContext.Entry(updateJobDocumentField).State = EntityState.Modified;
                                rpoContext.SaveChanges();
                            }
                        }
                        else if (item.Field.FieldName == "txtMI")
                        {
                            if (updateJobDocumentField == null)
                            {
                                JobDocumentField JobDocumentField = new JobDocumentField
                                {
                                    IdJobDocument = idJobDocument,
                                    IdDocumentField = Convert.ToInt32(item.Id),
                                    Value = applicantMiddleName,
                                    ActualValue = applicantMiddleName
                                };
                                rpoContext.JobDocumentFields.Add(JobDocumentField);
                            }
                            else
                            {
                                updateJobDocumentField.Value = applicantMiddleName;
                                updateJobDocumentField.ActualValue = applicantMiddleName;
                                rpoContext.Entry(updateJobDocumentField).State = EntityState.Modified;
                                rpoContext.SaveChanges();
                            }
                        }
                        else if (item.Field.FieldName == "txtCompany")
                        {
                            if (updateJobDocumentField == null)
                            {
                                JobDocumentField JobDocumentField = new JobDocumentField
                                {
                                    IdJobDocument = idJobDocument,
                                    IdDocumentField = Convert.ToInt32(item.Id),
                                    Value = contactcompany,
                                    ActualValue = contactcompany
                                };
                                rpoContext.JobDocumentFields.Add(JobDocumentField);
                            }
                            else
                            {
                                updateJobDocumentField.Value = contactcompany;
                                updateJobDocumentField.ActualValue = contactcompany;
                                rpoContext.Entry(updateJobDocumentField).State = EntityState.Modified;
                                rpoContext.SaveChanges();
                            }
                        }
                        else if (item.Field.FieldName == "txtPhone")
                        {
                            if (updateJobDocumentField == null)
                            {
                                JobDocumentField JobDocumentField = new JobDocumentField
                                {
                                    IdJobDocument = idJobDocument,
                                    IdDocumentField = Convert.ToInt32(item.Id),
                                    Value = contactMobilePhone,
                                    ActualValue = contactMobilePhone
                                };
                                rpoContext.JobDocumentFields.Add(JobDocumentField);
                            }
                            else
                            {
                                updateJobDocumentField.Value = contactMobilePhone;
                                updateJobDocumentField.ActualValue = contactMobilePhone;
                                rpoContext.Entry(updateJobDocumentField).State = EntityState.Modified;
                                rpoContext.SaveChanges();
                            }
                        }
                        else if (item.Field.FieldName == "txtAddress")
                        {
                            if (updateJobDocumentField == null)
                            {
                                JobDocumentField JobDocumentField = new JobDocumentField
                                {
                                    IdJobDocument = idJobDocument,
                                    IdDocumentField = Convert.ToInt32(item.Id),
                                    Value = businessAddress,
                                    ActualValue = businessAddress
                                };
                                rpoContext.JobDocumentFields.Add(JobDocumentField);
                            }
                            else
                            {
                                updateJobDocumentField.Value = businessAddress;
                                updateJobDocumentField.ActualValue = businessAddress;
                                rpoContext.Entry(updateJobDocumentField).State = EntityState.Modified;
                                rpoContext.SaveChanges();
                            }
                        }
                        else if (item.Field.FieldName == "txtFax")
                        {
                            if (updateJobDocumentField == null)
                            {
                                JobDocumentField JobDocumentField = new JobDocumentField
                                {
                                    IdJobDocument = idJobDocument,
                                    IdDocumentField = Convert.ToInt32(item.Id),
                                    Value = string.Empty,
                                    ActualValue = string.Empty
                                };
                                rpoContext.JobDocumentFields.Add(JobDocumentField);
                            }
                            else
                            {
                                updateJobDocumentField.Value = string.Empty;
                                updateJobDocumentField.ActualValue = string.Empty;
                                rpoContext.Entry(updateJobDocumentField).State = EntityState.Modified;
                                rpoContext.SaveChanges();
                            }
                        }
                        else if (item.Field.FieldName == "txtCity")
                        {
                            if (updateJobDocumentField == null)
                            {
                                JobDocumentField JobDocumentField = new JobDocumentField
                                {
                                    IdJobDocument = idJobDocument,
                                    IdDocumentField = Convert.ToInt32(item.Id),
                                    Value = businessCity,
                                    ActualValue = businessCity
                                };
                                rpoContext.JobDocumentFields.Add(JobDocumentField);
                            }
                            else
                            {
                                updateJobDocumentField.Value = businessCity;
                                updateJobDocumentField.ActualValue = businessCity;
                                rpoContext.Entry(updateJobDocumentField).State = EntityState.Modified;
                                rpoContext.SaveChanges();
                            }
                        }
                        else if (item.Field.FieldName == "txtState")
                        {
                            if (updateJobDocumentField == null)
                            {
                                JobDocumentField JobDocumentField = new JobDocumentField
                                {
                                    IdJobDocument = idJobDocument,
                                    IdDocumentField = Convert.ToInt32(item.Id),
                                    Value = businessState,
                                    ActualValue = businessState
                                };
                                rpoContext.JobDocumentFields.Add(JobDocumentField);
                            }
                            else
                            {
                                updateJobDocumentField.Value = businessState;
                                updateJobDocumentField.ActualValue = businessState;
                                rpoContext.Entry(updateJobDocumentField).State = EntityState.Modified;
                                rpoContext.SaveChanges();
                            }
                        }
                        else if (item.Field.FieldName == "txtZip")
                        {
                            if (updateJobDocumentField == null)
                            {
                                JobDocumentField JobDocumentField = new JobDocumentField
                                {
                                    IdJobDocument = idJobDocument,
                                    IdDocumentField = Convert.ToInt32(item.Id),
                                    Value = businessZip,
                                    ActualValue = businessZip
                                };
                                rpoContext.JobDocumentFields.Add(JobDocumentField);
                            }
                            else
                            {
                                updateJobDocumentField.Value = businessZip;
                                updateJobDocumentField.ActualValue = businessZip;
                                rpoContext.Entry(updateJobDocumentField).State = EntityState.Modified;
                                rpoContext.SaveChanges();
                            }
                        }
                        else if (item.Field.FieldName == "txtMobilePhone")
                        {
                            if (updateJobDocumentField == null)
                            {
                                JobDocumentField JobDocumentField = new JobDocumentField
                                {
                                    IdJobDocument = idJobDocument,
                                    IdDocumentField = Convert.ToInt32(item.Id),
                                    Value = applicantmobilenumber,
                                    ActualValue = applicantmobilenumber
                                };
                                rpoContext.JobDocumentFields.Add(JobDocumentField);
                            }
                            else
                            {
                                updateJobDocumentField.Value = applicantmobilenumber;
                                updateJobDocumentField.ActualValue = applicantmobilenumber;
                                rpoContext.Entry(updateJobDocumentField).State = EntityState.Modified;
                                rpoContext.SaveChanges();
                            }
                        }
                        else if (item.Field.FieldName == "txtEMail")
                        {
                            if (updateJobDocumentField == null)
                            {
                                JobDocumentField JobDocumentField = new JobDocumentField
                                {
                                    IdJobDocument = idJobDocument,
                                    IdDocumentField = Convert.ToInt32(item.Id),
                                    Value = contactEmail,
                                    ActualValue = contactEmail
                                };
                                rpoContext.JobDocumentFields.Add(JobDocumentField);
                            }
                            else
                            {
                                updateJobDocumentField.Value = contactEmail;
                                updateJobDocumentField.ActualValue = contactEmail;
                                rpoContext.Entry(updateJobDocumentField).State = EntityState.Modified;
                                rpoContext.SaveChanges();
                            }
                        }
                        else if (item.Field.FieldName == "txtLic_No")
                        {
                            if (updateJobDocumentField == null)
                            {
                                JobDocumentField JobDocumentField = new JobDocumentField
                                {
                                    IdJobDocument = idJobDocument,
                                    IdDocumentField = Convert.ToInt32(item.Id),
                                    Value = contactLic_No,
                                    ActualValue = contactLic_No
                                };
                                rpoContext.JobDocumentFields.Add(JobDocumentField);
                            }
                            else
                            {
                                updateJobDocumentField.Value = contactLic_No;
                                updateJobDocumentField.ActualValue = contactLic_No;
                                rpoContext.Entry(updateJobDocumentField).State = EntityState.Modified;
                                rpoContext.SaveChanges();
                            }
                        }
                        else if (item.Field.FieldName == "chkPE")
                        {
                            if (updateJobDocumentField == null)
                            {
                                JobDocumentField JobDocumentField = new JobDocumentField
                                {
                                    IdJobDocument = idJobDocument,
                                    IdDocumentField = Convert.ToInt32(item.Id),
                                    Value = contactLic_state_engineer,
                                    ActualValue = contactLic_state_engineer
                                };
                                rpoContext.JobDocumentFields.Add(JobDocumentField);
                            }
                            else
                            {
                                updateJobDocumentField.Value = contactLic_state_engineer;
                                updateJobDocumentField.ActualValue = contactLic_state_engineer;
                                rpoContext.Entry(updateJobDocumentField).State = EntityState.Modified;
                                rpoContext.SaveChanges();
                            }
                        }
                        else if (item.Field.FieldName == "chkRA")
                        {
                            if (updateJobDocumentField == null)
                            {
                                JobDocumentField JobDocumentField = new JobDocumentField
                                {
                                    IdJobDocument = idJobDocument,
                                    IdDocumentField = Convert.ToInt32(item.Id),
                                    Value = contactLic_state_architect,
                                    ActualValue = contactLic_state_architect
                                };
                                rpoContext.JobDocumentFields.Add(JobDocumentField);
                            }
                            else
                            {
                                updateJobDocumentField.Value = contactLic_state_architect;
                                updateJobDocumentField.ActualValue = contactLic_state_architect;
                                rpoContext.Entry(updateJobDocumentField).State = EntityState.Modified;
                                rpoContext.SaveChanges();
                            }
                        }
                        else if (item.Field.FieldName == "chkSH")
                        {
                            if (updateJobDocumentField == null)
                            {
                                JobDocumentField JobDocumentField = new JobDocumentField
                                {
                                    IdJobDocument = idJobDocument,
                                    IdDocumentField = Convert.ToInt32(item.Id),
                                    Value = string.Empty,
                                    ActualValue = string.Empty
                                };
                                rpoContext.JobDocumentFields.Add(JobDocumentField);
                            }
                            else
                            {
                                updateJobDocumentField.Value = string.Empty;
                                updateJobDocumentField.ActualValue = string.Empty;
                                rpoContext.Entry(updateJobDocumentField).State = EntityState.Modified;
                                rpoContext.SaveChanges();
                            }
                        }
                        else if (item.Field.FieldName == "chkLic_Other")
                        {
                            if (updateJobDocumentField == null)
                            {
                                JobDocumentField JobDocumentField = new JobDocumentField
                                {
                                    IdJobDocument = idJobDocument,
                                    IdDocumentField = Convert.ToInt32(item.Id),
                                    Value = string.Empty,
                                    ActualValue = string.Empty
                                };
                                rpoContext.JobDocumentFields.Add(JobDocumentField);
                            }
                            else
                            {
                                updateJobDocumentField.Value = string.Empty;
                                updateJobDocumentField.ActualValue = string.Empty;
                                rpoContext.Entry(updateJobDocumentField).State = EntityState.Modified;
                                rpoContext.SaveChanges();
                            }
                        }
                        else if (item.Field.FieldName == "txtOtherLic_Type")
                        {
                            if (updateJobDocumentField == null)
                            {
                                JobDocumentField JobDocumentField = new JobDocumentField
                                {
                                    IdJobDocument = idJobDocument,
                                    IdDocumentField = Convert.ToInt32(item.Id),
                                    Value = string.Empty,
                                    ActualValue = string.Empty
                                };
                                rpoContext.JobDocumentFields.Add(JobDocumentField);
                            }
                            else
                            {
                                updateJobDocumentField.Value = string.Empty;
                                updateJobDocumentField.ActualValue = string.Empty;
                                rpoContext.Entry(updateJobDocumentField).State = EntityState.Modified;
                                rpoContext.SaveChanges();
                            }
                        }
                        else if (item.Field.FieldName == "txtFR_Last")
                        {
                            if (updateJobDocumentField == null)
                            {
                                JobDocumentField JobDocumentField = new JobDocumentField
                                {
                                    IdJobDocument = idJobDocument,
                                    IdDocumentField = Convert.ToInt32(item.Id),
                                    Value = filingRepresentativelastname,
                                    ActualValue = filingRepresentativelastname
                                };
                                rpoContext.JobDocumentFields.Add(JobDocumentField);
                            }
                            else
                            {
                                updateJobDocumentField.Value = filingRepresentativelastname;
                                updateJobDocumentField.ActualValue = filingRepresentativelastname;
                                rpoContext.Entry(updateJobDocumentField).State = EntityState.Modified;
                                rpoContext.SaveChanges();
                            }
                        }
                        else if (item.Field.FieldName == "txtFR_First")
                        {
                            if (updateJobDocumentField == null)
                            {
                                JobDocumentField JobDocumentField = new JobDocumentField
                                {
                                    IdJobDocument = idJobDocument,
                                    IdDocumentField = Convert.ToInt32(item.Id),
                                    Value = filingRepresentativefirstname,
                                    ActualValue = filingRepresentativefirstname
                                };
                                rpoContext.JobDocumentFields.Add(JobDocumentField);
                            }
                            else
                            {
                                updateJobDocumentField.Value = filingRepresentativefirstname;
                                updateJobDocumentField.ActualValue = filingRepresentativefirstname;
                                rpoContext.Entry(updateJobDocumentField).State = EntityState.Modified;
                                rpoContext.SaveChanges();
                            }
                        }
                        else if (item.Field.FieldName == "txtFR_MI")
                        {
                            if (updateJobDocumentField == null)
                            {
                                JobDocumentField JobDocumentField = new JobDocumentField
                                {
                                    IdJobDocument = idJobDocument,
                                    IdDocumentField = Convert.ToInt32(item.Id),
                                    Value = string.Empty,
                                    ActualValue = string.Empty
                                };
                                rpoContext.JobDocumentFields.Add(JobDocumentField);
                            }
                            else
                            {
                                updateJobDocumentField.Value = string.Empty;
                                updateJobDocumentField.ActualValue = string.Empty;
                                rpoContext.Entry(updateJobDocumentField).State = EntityState.Modified;
                                rpoContext.SaveChanges();
                            }
                        }
                        else if (item.Field.FieldName == "txtFR_Company")
                        {
                            if (updateJobDocumentField == null)
                            {
                                JobDocumentField JobDocumentField = new JobDocumentField
                                {
                                    IdJobDocument = idJobDocument,
                                    IdDocumentField = Convert.ToInt32(item.Id),
                                    Value = filingRepresentativeCompany,
                                    ActualValue = filingRepresentativeCompany
                                };
                                rpoContext.JobDocumentFields.Add(JobDocumentField);
                            }
                            else
                            {
                                updateJobDocumentField.Value = filingRepresentativeCompany;
                                updateJobDocumentField.ActualValue = filingRepresentativeCompany;
                                rpoContext.Entry(updateJobDocumentField).State = EntityState.Modified;
                                rpoContext.SaveChanges();
                            }
                        }
                        else if (item.Field.FieldName == "txtFR_Phone")
                        {
                            if (updateJobDocumentField == null)
                            {
                                JobDocumentField JobDocumentField = new JobDocumentField
                                {
                                    IdJobDocument = idJobDocument,
                                    IdDocumentField = Convert.ToInt32(item.Id),
                                    Value = filingRepresentativePhone,
                                    ActualValue = filingRepresentativePhone
                                };
                                rpoContext.JobDocumentFields.Add(JobDocumentField);
                            }
                            else
                            {
                                updateJobDocumentField.Value = filingRepresentativePhone;
                                updateJobDocumentField.ActualValue = filingRepresentativePhone;
                                rpoContext.Entry(updateJobDocumentField).State = EntityState.Modified;
                                rpoContext.SaveChanges();
                            }
                        }
                        else if (item.Field.FieldName == "txtFR_Address")
                        {
                            if (updateJobDocumentField == null)
                            {
                                JobDocumentField JobDocumentField = new JobDocumentField
                                {
                                    IdJobDocument = idJobDocument,
                                    IdDocumentField = Convert.ToInt32(item.Id),
                                    Value = filingRepresentativeaddress,
                                    ActualValue = filingRepresentativeaddress
                                };
                                rpoContext.JobDocumentFields.Add(JobDocumentField);
                            }
                            else
                            {
                                updateJobDocumentField.Value = filingRepresentativeaddress;
                                updateJobDocumentField.ActualValue = filingRepresentativeaddress;
                                rpoContext.Entry(updateJobDocumentField).State = EntityState.Modified;
                                rpoContext.SaveChanges();
                            }
                        }
                        else if (item.Field.FieldName == "txtFR_Fax")
                        {
                            if (updateJobDocumentField == null)
                            {
                                JobDocumentField JobDocumentField = new JobDocumentField
                                {
                                    IdJobDocument = idJobDocument,
                                    IdDocumentField = Convert.ToInt32(item.Id),
                                    Value = string.Empty,
                                    ActualValue = string.Empty
                                };
                                rpoContext.JobDocumentFields.Add(JobDocumentField);
                            }
                            else
                            {
                                updateJobDocumentField.Value = string.Empty;
                                updateJobDocumentField.ActualValue = string.Empty;
                                rpoContext.Entry(updateJobDocumentField).State = EntityState.Modified;
                                rpoContext.SaveChanges();
                            }
                        }
                        else if (item.Field.FieldName == "txtFR_City")
                        {
                            if (updateJobDocumentField == null)
                            {
                                JobDocumentField JobDocumentField = new JobDocumentField
                                {
                                    IdJobDocument = idJobDocument,
                                    IdDocumentField = Convert.ToInt32(item.Id),
                                    Value = filingRepresentativecity,
                                    ActualValue = filingRepresentativecity
                                };
                                rpoContext.JobDocumentFields.Add(JobDocumentField);
                            }
                            else
                            {
                                updateJobDocumentField.Value = filingRepresentativecity;
                                updateJobDocumentField.ActualValue = filingRepresentativecity;
                                rpoContext.Entry(updateJobDocumentField).State = EntityState.Modified;
                                rpoContext.SaveChanges();
                            }
                        }
                        else if (item.Field.FieldName == "txtFR_State")
                        {
                            if (updateJobDocumentField == null)
                            {
                                JobDocumentField JobDocumentField = new JobDocumentField
                                {
                                    IdJobDocument = idJobDocument,
                                    IdDocumentField = Convert.ToInt32(item.Id),
                                    Value = filingRepresentativestate,
                                    ActualValue = filingRepresentativestate
                                };
                                rpoContext.JobDocumentFields.Add(JobDocumentField);
                            }
                            else
                            {
                                updateJobDocumentField.Value = filingRepresentativestate;
                                updateJobDocumentField.ActualValue = filingRepresentativestate;
                                rpoContext.Entry(updateJobDocumentField).State = EntityState.Modified;
                                rpoContext.SaveChanges();
                            }
                        }
                        else if (item.Field.FieldName == "txtFR_Zip")
                        {
                            if (updateJobDocumentField == null)
                            {
                                JobDocumentField JobDocumentField = new JobDocumentField
                                {
                                    IdJobDocument = idJobDocument,
                                    IdDocumentField = Convert.ToInt32(item.Id),
                                    Value = filingRepresentativezip,
                                    ActualValue = filingRepresentativezip
                                };
                                rpoContext.JobDocumentFields.Add(JobDocumentField);
                            }
                            else
                            {
                                updateJobDocumentField.Value = filingRepresentativezip;
                                updateJobDocumentField.ActualValue = filingRepresentativezip;
                                rpoContext.Entry(updateJobDocumentField).State = EntityState.Modified;
                                rpoContext.SaveChanges();
                            }
                        }
                        else if (item.Field.FieldName == "txtFR_MobilePhone")
                        {
                            if (updateJobDocumentField == null)
                            {
                                JobDocumentField JobDocumentField = new JobDocumentField
                                {
                                    IdJobDocument = idJobDocument,
                                    IdDocumentField = Convert.ToInt32(item.Id),
                                    Value = filingRepresentativemobile,
                                    ActualValue = filingRepresentativemobile
                                };
                                rpoContext.JobDocumentFields.Add(JobDocumentField);
                            }
                            else
                            {
                                updateJobDocumentField.Value = filingRepresentativemobile;
                                updateJobDocumentField.ActualValue = filingRepresentativemobile;
                                rpoContext.Entry(updateJobDocumentField).State = EntityState.Modified;
                                rpoContext.SaveChanges();
                            }
                        }
                        else if (item.Field.FieldName == "txtFR_EMail")
                        {
                            if (updateJobDocumentField == null)
                            {
                                JobDocumentField JobDocumentField = new JobDocumentField
                                {
                                    IdJobDocument = idJobDocument,
                                    IdDocumentField = Convert.ToInt32(item.Id),
                                    Value = filingRepresentativeEmail,
                                    ActualValue = filingRepresentativeEmail
                                };
                                rpoContext.JobDocumentFields.Add(JobDocumentField);
                            }
                            else
                            {
                                updateJobDocumentField.Value = filingRepresentativeEmail;
                                updateJobDocumentField.ActualValue = filingRepresentativeEmail;
                                rpoContext.Entry(updateJobDocumentField).State = EntityState.Modified;
                                rpoContext.SaveChanges();
                            }
                        }
                        else if (item.Field.FieldName == "txtFR_RegNo")
                        {
                            if (updateJobDocumentField == null)
                            {
                                JobDocumentField JobDocumentField = new JobDocumentField
                                {
                                    IdJobDocument = idJobDocument,
                                    IdDocumentField = Convert.ToInt32(item.Id),
                                    Value = filingRepresentativRegnumber,
                                    ActualValue = filingRepresentativRegnumber
                                };
                                rpoContext.JobDocumentFields.Add(JobDocumentField);
                            }
                            else
                            {
                                updateJobDocumentField.Value = filingRepresentativRegnumber;
                                updateJobDocumentField.ActualValue = filingRepresentativRegnumber;
                                rpoContext.Entry(updateJobDocumentField).State = EntityState.Modified;
                                rpoContext.SaveChanges();
                            }
                        }
                        else if (item.Field.FieldName == "chkwIF")
                        {
                            string initialfiling = string.Empty;

                            if (docuementType == "Initial Filing")
                            {
                                initialfiling = "1";

                            }

                            if (updateJobDocumentField == null)
                            {
                                JobDocumentField JobDocumentField = new JobDocumentField
                                {
                                    IdJobDocument = idJobDocument,
                                    IdDocumentField = Convert.ToInt32(item.Id),
                                    Value = initialfiling,
                                    ActualValue = initialfiling
                                };
                                rpoContext.JobDocumentFields.Add(JobDocumentField);
                            }
                            else
                            {
                                updateJobDocumentField.Value = initialfiling;
                                updateJobDocumentField.ActualValue = initialfiling;
                                rpoContext.Entry(updateJobDocumentField).State = EntityState.Modified;
                                rpoContext.SaveChanges();
                            }
                        }
                        else if (item.Field.FieldName == "chkwPA")
                        {
                            string postapproval = string.Empty;

                            if (docuementType == "Initial Filing")
                            {

                                postapproval = string.Empty;

                            }
                            if (docuementType == "Post Approval Amendment")
                            {
                                postapproval = "1";
                            }

                            if (updateJobDocumentField == null)
                            {
                                JobDocumentField JobDocumentField = new JobDocumentField
                                {
                                    IdJobDocument = idJobDocument,
                                    IdDocumentField = Convert.ToInt32(item.Id),
                                    Value = postapproval,
                                    ActualValue = postapproval
                                };
                                rpoContext.JobDocumentFields.Add(JobDocumentField);
                            }
                            else
                            {
                                updateJobDocumentField.Value = postapproval;
                                updateJobDocumentField.ActualValue = postapproval;
                                rpoContext.Entry(updateJobDocumentField).State = EntityState.Modified;
                                rpoContext.SaveChanges();
                            }
                        }

                        else if (item.Field.FieldName == "txtExisting_OC")
                        {
                            string OccupancyClassification = job != null && job.RfpAddress != null && job.RfpAddress.OccupancyClassification != null ? job.RfpAddress.OccupancyClassification.Code : string.Empty;

                            if (updateJobDocumentField == null)
                            {
                                JobDocumentField JobDocumentField = new JobDocumentField
                                {
                                    IdJobDocument = idJobDocument,
                                    IdDocumentField = Convert.ToInt32(item.Id),
                                    Value = OccupancyClassification,
                                    ActualValue = OccupancyClassification
                                };
                                rpoContext.JobDocumentFields.Add(JobDocumentField);
                            }
                            else
                            {
                                updateJobDocumentField.Value = OccupancyClassification;
                                updateJobDocumentField.ActualValue = OccupancyClassification;
                                rpoContext.Entry(updateJobDocumentField).State = EntityState.Modified;
                                rpoContext.SaveChanges();
                            }
                        }

                        else if (item.Field.FieldName == "txtExisting_CC")
                        {
                            string ConstructionClassification = job != null && job.RfpAddress != null && job.RfpAddress.ConstructionClassification != null ? job.RfpAddress.ConstructionClassification.Code : string.Empty;

                            if (updateJobDocumentField == null)
                            {
                                JobDocumentField JobDocumentField = new JobDocumentField
                                {
                                    IdJobDocument = idJobDocument,
                                    IdDocumentField = Convert.ToInt32(item.Id),
                                    Value = ConstructionClassification,
                                    ActualValue = ConstructionClassification
                                };
                                rpoContext.JobDocumentFields.Add(JobDocumentField);
                            }
                            else
                            {
                                updateJobDocumentField.Value = ConstructionClassification;
                                updateJobDocumentField.ActualValue = ConstructionClassification;
                                rpoContext.Entry(updateJobDocumentField).State = EntityState.Modified;
                                rpoContext.SaveChanges();
                            }


                        }
                        else if (item.Field.FieldName == "txtExisting_MDC")
                        {
                            string DwellingClassification = job != null && job.RfpAddress != null && job.RfpAddress.MultipleDwellingClassification != null ? job.RfpAddress.MultipleDwellingClassification.Code : string.Empty;

                            if (updateJobDocumentField == null)
                            {
                                JobDocumentField JobDocumentField = new JobDocumentField
                                {
                                    IdJobDocument = idJobDocument,
                                    IdDocumentField = Convert.ToInt32(item.Id),
                                    Value = DwellingClassification,
                                    ActualValue = DwellingClassification
                                };
                                rpoContext.JobDocumentFields.Add(JobDocumentField);
                            }
                            else
                            {
                                updateJobDocumentField.Value = DwellingClassification;
                                updateJobDocumentField.ActualValue = DwellingClassification;
                                rpoContext.Entry(updateJobDocumentField).State = EntityState.Modified;
                                rpoContext.SaveChanges();
                            }

                        }
                        else if (item.Field.FieldName == "chkExisting_OC_2014_Yes")
                        {

                            //  string Existing_OC = "On";
                            string Existing_OC = string.Empty;

                            if (updateJobDocumentField == null)
                            {
                                JobDocumentField JobDocumentField = new JobDocumentField
                                {
                                    IdJobDocument = idJobDocument,
                                    IdDocumentField = Convert.ToInt32(item.Id),
                                    Value = Existing_OC,
                                    ActualValue = Existing_OC
                                };
                                rpoContext.JobDocumentFields.Add(JobDocumentField);
                            }
                            else
                            {
                                updateJobDocumentField.Value = Existing_OC;
                                updateJobDocumentField.ActualValue = Existing_OC;
                                rpoContext.Entry(updateJobDocumentField).State = EntityState.Modified;
                                rpoContext.SaveChanges();
                            }

                        }
                        else if (item.Field.FieldName == "chkExisting_CC_2014_Yes")
                        {

                            //  string Existing_CC_2008 = "On";
                            string Existing_CC_2008 = string.Empty;

                            if (updateJobDocumentField == null)
                            {
                                JobDocumentField JobDocumentField = new JobDocumentField
                                {
                                    IdJobDocument = idJobDocument,
                                    IdDocumentField = Convert.ToInt32(item.Id),
                                    Value = Existing_CC_2008,
                                    ActualValue = Existing_CC_2008
                                };
                                rpoContext.JobDocumentFields.Add(JobDocumentField);
                            }
                            else
                            {
                                updateJobDocumentField.Value = Existing_CC_2008;
                                updateJobDocumentField.ActualValue = Existing_CC_2008;
                                rpoContext.Entry(updateJobDocumentField).State = EntityState.Modified;
                                rpoContext.SaveChanges();
                            }

                        }


                        else if (item.Field.FieldName == "txtExisting_Height")
                        {
                            int? intheight = job != null && job.RfpAddress != null ? job.RfpAddress.Feet : 0;
                            string height = Convert.ToString(intheight);
                            if (intheight == 0)
                            {
                                height = string.Empty;
                            }
                            if (updateJobDocumentField == null)
                            {
                                JobDocumentField JobDocumentField = new JobDocumentField
                                {
                                    IdJobDocument = idJobDocument,
                                    IdDocumentField = Convert.ToInt32(item.Id),
                                    Value = height,
                                    ActualValue = height
                                };
                                rpoContext.JobDocumentFields.Add(JobDocumentField);
                            }
                            else
                            {
                                updateJobDocumentField.Value = height;
                                updateJobDocumentField.ActualValue = height;
                                rpoContext.Entry(updateJobDocumentField).State = EntityState.Modified;
                                rpoContext.SaveChanges();
                            }
                        }
                        else if (item.Field.FieldName == "txtProposed_Height")
                        {
                            int? intheight = job != null && job.RfpAddress != null ? job.RfpAddress.Height : 0;
                            string height = Convert.ToString(intheight);
                            if (intheight == 0)
                            {
                                // height = string.Empty;
                            }
                            if (updateJobDocumentField == null)
                            {
                                JobDocumentField JobDocumentField = new JobDocumentField
                                {
                                    IdJobDocument = idJobDocument,
                                    IdDocumentField = Convert.ToInt32(item.Id),
                                    Value = string.Empty,
                                    ActualValue = string.Empty
                                };
                                rpoContext.JobDocumentFields.Add(JobDocumentField);
                            }
                            else
                            {
                                updateJobDocumentField.Value = string.Empty;
                                updateJobDocumentField.ActualValue = string.Empty;
                                rpoContext.Entry(updateJobDocumentField).State = EntityState.Modified;
                                rpoContext.SaveChanges();
                            }
                        }

                        else if (item.Field.FieldName == "txtExisting_Stories")
                        {
                            int? intstories = job != null && job.RfpAddress != null ? job.RfpAddress.Stories : 0;
                            string stories = Convert.ToString(intstories);
                            if (intstories == 0)
                            {
                                stories = string.Empty;
                            }
                            if (updateJobDocumentField == null)
                            {
                                JobDocumentField JobDocumentField = new JobDocumentField
                                {
                                    IdJobDocument = idJobDocument,
                                    IdDocumentField = Convert.ToInt32(item.Id),
                                    Value = stories,
                                    ActualValue = stories
                                };
                                rpoContext.JobDocumentFields.Add(JobDocumentField);
                            }
                            else
                            {
                                updateJobDocumentField.Value = stories;
                                updateJobDocumentField.ActualValue = stories;
                                rpoContext.Entry(updateJobDocumentField).State = EntityState.Modified;
                                rpoContext.SaveChanges();
                            }
                        }
                        else if (item.Field.FieldName == "txtProposed_Stories")
                        {
                            int? intstories = job != null && job.RfpAddress != null ? job.RfpAddress.Stories : 0;
                            string stories = Convert.ToString(intstories);
                            if (intstories == 0)
                            {
                                stories = string.Empty;
                            }
                            if (updateJobDocumentField == null)
                            {
                                JobDocumentField JobDocumentField = new JobDocumentField
                                {
                                    IdJobDocument = idJobDocument,
                                    IdDocumentField = Convert.ToInt32(item.Id),
                                    Value = string.Empty,
                                    ActualValue = string.Empty
                                };
                                rpoContext.JobDocumentFields.Add(JobDocumentField);
                            }
                            else
                            {
                                updateJobDocumentField.Value = string.Empty;
                                updateJobDocumentField.ActualValue = string.Empty;
                                rpoContext.Entry(updateJobDocumentField).State = EntityState.Modified;
                                rpoContext.SaveChanges();
                            }
                        }
                        else if (item.Field.FieldName == "txtExisting_DwellingUnits")
                        {
                            int? intDwellingUnits = job != null && job.RfpAddress != null ? job.RfpAddress.DwellingUnits : 0;
                            string DwellingUnits = Convert.ToString(intDwellingUnits);
                            if (intDwellingUnits == 0)
                            {
                                DwellingUnits = string.Empty;
                            }
                            if (updateJobDocumentField == null)
                            {
                                JobDocumentField JobDocumentField = new JobDocumentField
                                {
                                    IdJobDocument = idJobDocument,
                                    IdDocumentField = Convert.ToInt32(item.Id),
                                    Value = DwellingUnits,
                                    ActualValue = DwellingUnits
                                };
                                rpoContext.JobDocumentFields.Add(JobDocumentField);
                            }
                            else
                            {
                                updateJobDocumentField.Value = DwellingUnits;
                                updateJobDocumentField.ActualValue = DwellingUnits;
                                rpoContext.Entry(updateJobDocumentField).State = EntityState.Modified;
                                rpoContext.SaveChanges();
                            }

                        }
                        else if (item.Field.FieldName == "txtProposed_DwellingUnits")
                        {
                            int? intDwellingUnits = job != null && job.RfpAddress != null ? job.RfpAddress.DwellingUnits : 0;
                            string DwellingUnits = Convert.ToString(intDwellingUnits);
                            if (intDwellingUnits == 0)
                            {
                                DwellingUnits = string.Empty;
                            }
                            if (updateJobDocumentField == null)
                            {
                                JobDocumentField JobDocumentField = new JobDocumentField
                                {
                                    IdJobDocument = idJobDocument,
                                    IdDocumentField = Convert.ToInt32(item.Id),
                                    Value = string.Empty,
                                    ActualValue = string.Empty
                                };
                                rpoContext.JobDocumentFields.Add(JobDocumentField);
                            }
                            else
                            {
                                updateJobDocumentField.Value = string.Empty;
                                updateJobDocumentField.ActualValue = string.Empty;
                                rpoContext.Entry(updateJobDocumentField).State = EntityState.Modified;
                                rpoContext.SaveChanges();
                            }

                        }
                        else if (item.Field.FieldName == "chkS")
                        {
                            string postapproval = string.Empty;

                            if (docuementType == "Initial Filing")
                            {
                                //  postapproval = "On";

                            }

                            if (updateJobDocumentField == null)
                            {
                                JobDocumentField JobDocumentField = new JobDocumentField
                                {
                                    IdJobDocument = idJobDocument,
                                    IdDocumentField = Convert.ToInt32(item.Id),
                                    Value = postapproval,
                                    ActualValue = postapproval
                                };
                                rpoContext.JobDocumentFields.Add(JobDocumentField);
                            }
                            else
                            {
                                updateJobDocumentField.Value = postapproval;
                                updateJobDocumentField.ActualValue = postapproval;
                                rpoContext.Entry(updateJobDocumentField).State = EntityState.Modified;
                                rpoContext.SaveChanges();
                            }
                        }
                        else if (item.Field.FieldName == "chkC")
                        {
                            string postapproval = string.Empty;

                            if (docuementType == "Initial Filing")
                            {
                                // postapproval = "On";

                            }

                            if (updateJobDocumentField == null)
                            {
                                JobDocumentField JobDocumentField = new JobDocumentField
                                {
                                    IdJobDocument = idJobDocument,
                                    IdDocumentField = Convert.ToInt32(item.Id),
                                    Value = postapproval,
                                    ActualValue = postapproval
                                };
                                rpoContext.JobDocumentFields.Add(JobDocumentField);
                            }
                            else
                            {
                                updateJobDocumentField.Value = postapproval;
                                updateJobDocumentField.ActualValue = postapproval;
                                rpoContext.Entry(updateJobDocumentField).State = EntityState.Modified;
                                rpoContext.SaveChanges();
                            }
                        }
                        else if (item.Field.FieldName == "chkO")
                        {
                            string postapproval = string.Empty;

                            if (docuementType == "Initial Filing")
                            {
                                // postapproval = "On";

                            }

                            if (updateJobDocumentField == null)
                            {
                                JobDocumentField JobDocumentField = new JobDocumentField
                                {
                                    IdJobDocument = idJobDocument,
                                    IdDocumentField = Convert.ToInt32(item.Id),
                                    Value = postapproval,
                                    ActualValue = postapproval
                                };
                                rpoContext.JobDocumentFields.Add(JobDocumentField);
                            }
                            else
                            {
                                updateJobDocumentField.Value = postapproval;
                                updateJobDocumentField.ActualValue = postapproval;
                                rpoContext.Entry(updateJobDocumentField).State = EntityState.Modified;
                                rpoContext.SaveChanges();
                            }
                        }
                        else if (item.Field.FieldName == "chkwC")
                        {
                            string priortoApproval = string.Empty;

                            if (docuementType == "Prior to Approval - Subsequent Filing" || docuementType == "Prior to Approval - Amend Existing File")
                            {
                                priortoApproval = "1";

                            }

                            if (updateJobDocumentField == null)
                            {
                                JobDocumentField JobDocumentField = new JobDocumentField
                                {
                                    IdJobDocument = idJobDocument,
                                    IdDocumentField = Convert.ToInt32(item.Id),
                                    Value = priortoApproval,
                                    ActualValue = priortoApproval
                                };
                                rpoContext.JobDocumentFields.Add(JobDocumentField);
                            }
                            else
                            {
                                updateJobDocumentField.Value = priortoApproval;
                                updateJobDocumentField.ActualValue = priortoApproval;
                                rpoContext.Entry(updateJobDocumentField).State = EntityState.Modified;
                                rpoContext.SaveChanges();
                            }
                        }
                      
                        else if (item.Field.FieldName == "chkwCA")
                        {
                            string priortoapprovalexisting = string.Empty;

                            if (docuementType.Trim().ToLower() == "Prior to Approval - Amend Existing File".Trim().ToLower())
                            {
                                priortoapprovalexisting = "On";

                            }
                            if (updateJobDocumentField == null)
                            {
                                JobDocumentField JobDocumentField = new JobDocumentField
                                {
                                    IdJobDocument = idJobDocument,
                                    IdDocumentField = Convert.ToInt32(item.Id),
                                    Value = priortoapprovalexisting,
                                    ActualValue = priortoapprovalexisting
                                };
                                rpoContext.JobDocumentFields.Add(JobDocumentField);
                            }
                            else
                            {
                                updateJobDocumentField.Value = priortoapprovalexisting;
                                updateJobDocumentField.ActualValue = priortoapprovalexisting;
                                rpoContext.Entry(updateJobDocumentField).State = EntityState.Modified;
                                rpoContext.SaveChanges();
                            }
                        }
                        else if (item.Field.FieldName == "chkwCW")
                        {
                            string priortoapprovalsubsequent = string.Empty;

                            if (docuementType == "Prior to Approval - Subsequent Filing")
                            {
                                priortoapprovalsubsequent = "On";

                            }

                            if (updateJobDocumentField == null)
                            {
                                JobDocumentField JobDocumentField = new JobDocumentField
                                {
                                    IdJobDocument = idJobDocument,
                                    IdDocumentField = Convert.ToInt32(item.Id),
                                    Value = priortoapprovalsubsequent,
                                    ActualValue = priortoapprovalsubsequent
                                };
                                rpoContext.JobDocumentFields.Add(JobDocumentField);
                            }
                            else
                            {
                                updateJobDocumentField.Value = priortoapprovalsubsequent;
                                updateJobDocumentField.ActualValue = priortoapprovalsubsequent;
                                rpoContext.Entry(updateJobDocumentField).State = EntityState.Modified;
                                rpoContext.SaveChanges();
                            }
                        }
                        else if (item.Field.FieldName == "chkwPA")
                        {
                            string postapproval = string.Empty;

                            if (docuementType == "Initial Filing")
                            {
                                postapproval = "1";

                            }

                            if (updateJobDocumentField == null)
                            {
                                JobDocumentField JobDocumentField = new JobDocumentField
                                {
                                    IdJobDocument = idJobDocument,
                                    IdDocumentField = Convert.ToInt32(item.Id),
                                    Value = postapproval,
                                    ActualValue = postapproval
                                };
                                rpoContext.JobDocumentFields.Add(JobDocumentField);
                            }
                            else
                            {
                                updateJobDocumentField.Value = postapproval;
                                updateJobDocumentField.ActualValue = postapproval;
                                rpoContext.Entry(updateJobDocumentField).State = EntityState.Modified;
                                rpoContext.SaveChanges();
                            }
                        }
                        else if (item.Field.FieldName == "chkwRE")
                        {
                            string Reinstatement = string.Empty;

                            if (docuementType == "Reinstatement")
                            {
                                Reinstatement = "1";

                            }

                            if (updateJobDocumentField == null)
                            {
                                JobDocumentField JobDocumentField = new JobDocumentField
                                {
                                    IdJobDocument = idJobDocument,
                                    IdDocumentField = Convert.ToInt32(item.Id),
                                    Value = Reinstatement,
                                    ActualValue = Reinstatement
                                };
                                rpoContext.JobDocumentFields.Add(JobDocumentField);
                            }
                            else
                            {
                                updateJobDocumentField.Value = Reinstatement;
                                updateJobDocumentField.ActualValue = Reinstatement;
                                rpoContext.Entry(updateJobDocumentField).State = EntityState.Modified;
                                rpoContext.SaveChanges();
                            }
                        }
                        else if (item.Field.FieldName == "chkwW")
                        {
                            string withdraw = string.Empty;

                            if (docuementType == "Withdrawal - Partial" || docuementType == "Withdrawal - Entire Job")
                            {
                                withdraw = "1";

                            }

                            if (updateJobDocumentField == null)
                            {
                                JobDocumentField JobDocumentField = new JobDocumentField
                                {
                                    IdJobDocument = idJobDocument,
                                    IdDocumentField = Convert.ToInt32(item.Id),
                                    Value = withdraw,
                                    ActualValue = withdraw
                                };
                                rpoContext.JobDocumentFields.Add(JobDocumentField);
                            }
                            else
                            {
                                updateJobDocumentField.Value = withdraw;
                                updateJobDocumentField.ActualValue = withdraw;
                                rpoContext.Entry(updateJobDocumentField).State = EntityState.Modified;
                                rpoContext.SaveChanges();
                            }
                        }
                        else if (item.Field.FieldName == "chkwWP")
                        {
                            string withdrawpartial = string.Empty;

                            if (docuementType == "Withdrawal - Partial")
                            {
                                withdrawpartial = "On";

                            }
                            if (updateJobDocumentField == null)
                            {
                                JobDocumentField JobDocumentField = new JobDocumentField
                                {
                                    IdJobDocument = idJobDocument,
                                    IdDocumentField = Convert.ToInt32(item.Id),
                                    Value = withdrawpartial,
                                    ActualValue = withdrawpartial
                                };
                                rpoContext.JobDocumentFields.Add(JobDocumentField);
                            }
                            else
                            {
                                updateJobDocumentField.Value = withdrawpartial;
                                updateJobDocumentField.ActualValue = withdrawpartial;
                                rpoContext.Entry(updateJobDocumentField).State = EntityState.Modified;
                                rpoContext.SaveChanges();
                            }
                        }
                        else if (item.Field.FieldName == "chkwWE")
                        {
                            string withdrawentire = string.Empty;

                            if (docuementType == "Withdrawal - Entire Job")
                            {
                                withdrawentire = "On";

                            }


                            if (updateJobDocumentField == null)
                            {
                                JobDocumentField JobDocumentField = new JobDocumentField
                                {
                                    IdJobDocument = idJobDocument,
                                    IdDocumentField = Convert.ToInt32(item.Id),
                                    Value = withdrawentire,
                                    ActualValue = withdrawentire
                                };
                                rpoContext.JobDocumentFields.Add(JobDocumentField);
                            }
                            else
                            {
                                updateJobDocumentField.Value = withdrawentire;
                                updateJobDocumentField.ActualValue = withdrawentire;
                                rpoContext.Entry(updateJobDocumentField).State = EntityState.Modified;
                                rpoContext.SaveChanges();
                            }
                        }

                        else if (item.Field.FieldName == "chkwPA")
                        {
                            string pa = string.Empty;

                            if (docuementType == "Post Approval Amendment")
                            {
                                pa = "1";

                            }


                            if (updateJobDocumentField == null)
                            {
                                JobDocumentField JobDocumentField = new JobDocumentField
                                {
                                    IdJobDocument = idJobDocument,
                                    IdDocumentField = Convert.ToInt32(item.Id),
                                    Value = pa,
                                    ActualValue = pa
                                };
                                rpoContext.JobDocumentFields.Add(JobDocumentField);
                            }
                            else
                            {
                                updateJobDocumentField.Value = pa;
                                updateJobDocumentField.ActualValue = pa;
                                rpoContext.Entry(updateJobDocumentField).State = EntityState.Modified;
                                rpoContext.SaveChanges();
                            }
                        }
                        else if (item.Field.FieldName == "topmostSubform[0].Page1[0].Yes1[0]")
                        {
                            string withdrawentire = string.Empty;

                            //if (docuementType == "Withdrwal - Entire Job")
                            //{
                            //    withdrawentire = "On";

                            //}


                            if (updateJobDocumentField == null)
                            {
                                JobDocumentField JobDocumentField = new JobDocumentField
                                {
                                    IdJobDocument = idJobDocument,
                                    IdDocumentField = Convert.ToInt32(item.Id),
                                    Value = withdrawentire,
                                    ActualValue = withdrawentire
                                };
                                rpoContext.JobDocumentFields.Add(JobDocumentField);
                            }
                            else
                            {
                                updateJobDocumentField.Value = withdrawentire;
                                updateJobDocumentField.ActualValue = withdrawentire;
                                rpoContext.Entry(updateJobDocumentField).State = EntityState.Modified;
                                rpoContext.SaveChanges();
                            }
                        }
                        else if (item.Field.FieldName == "topmostSubform[0].Page1[0].No1[0]")
                        {
                            string withdrawentire = string.Empty;

                            //if (docuementType == "Withdrwal - Entire Job")
                            //{
                            //    withdrawentire = "On";

                            //}


                            if (updateJobDocumentField == null)
                            {
                                JobDocumentField JobDocumentField = new JobDocumentField
                                {
                                    IdJobDocument = idJobDocument,
                                    IdDocumentField = Convert.ToInt32(item.Id),
                                    Value = withdrawentire,
                                    ActualValue = withdrawentire
                                };
                                rpoContext.JobDocumentFields.Add(JobDocumentField);
                            }
                            else
                            {
                                updateJobDocumentField.Value = withdrawentire;
                                updateJobDocumentField.ActualValue = withdrawentire;
                                rpoContext.Entry(updateJobDocumentField).State = EntityState.Modified;
                                rpoContext.SaveChanges();
                            }
                        }

                        else if (item.Field.FieldName == "chkwNA")
                        {
                            string chkwNA = string.Empty;

                            if (docuementType == "New Applicant")
                            {
                                chkwNA = "1";

                            }


                            if (updateJobDocumentField == null)
                            {
                                JobDocumentField JobDocumentField = new JobDocumentField
                                {
                                    IdJobDocument = idJobDocument,
                                    IdDocumentField = Convert.ToInt32(item.Id),
                                    Value = chkwNA,
                                    ActualValue = chkwNA
                                };
                                rpoContext.JobDocumentFields.Add(JobDocumentField);
                            }
                            else
                            {
                                updateJobDocumentField.Value = chkwNA;
                                updateJobDocumentField.ActualValue = chkwNA;
                                rpoContext.Entry(updateJobDocumentField).State = EntityState.Modified;
                                rpoContext.SaveChanges();
                            }
                        }

                        else if (item.Field.FieldName == "chk6BL")
                        {
                            String val = String.Empty;

                            permitTypecodeArr = permitTypecode.Split(',').ToArray();

                            var str = Array.FindAll(permitTypecodeArr, s => s.Equals("BL"));

                            if (str.Length > 0)
                            {
                                val = "On";

                            }
                            if (updateJobDocumentField == null)
                            {
                                JobDocumentField JobDocumentField = new JobDocumentField
                                {
                                    IdJobDocument = idJobDocument,
                                    IdDocumentField = Convert.ToInt32(item.Id),
                                    Value = val,
                                    ActualValue = val
                                };
                                rpoContext.JobDocumentFields.Add(JobDocumentField);
                            }
                            else
                            {
                                updateJobDocumentField.Value = val;
                                updateJobDocumentField.ActualValue = val;
                                rpoContext.Entry(updateJobDocumentField).State = EntityState.Modified;
                                rpoContext.SaveChanges();
                            }
                        }
                        else if (item.Field.FieldName == "chk6FA")
                        {

                            String val = String.Empty;

                            permitTypecodeArr = permitTypecode.Split(',').ToArray();

                            var str = Array.FindAll(permitTypecodeArr, s => s.Equals("FA/New"));

                            if (str.Length > 0)
                            {
                                val = "On";

                            }


                            if (updateJobDocumentField == null)
                            {
                                JobDocumentField JobDocumentField = new JobDocumentField
                                {
                                    IdJobDocument = idJobDocument,
                                    IdDocumentField = Convert.ToInt32(item.Id),
                                    Value = val,
                                    ActualValue = val
                                };
                                rpoContext.JobDocumentFields.Add(JobDocumentField);
                            }
                            else
                            {
                                updateJobDocumentField.Value = val;
                                updateJobDocumentField.ActualValue = val;
                                rpoContext.Entry(updateJobDocumentField).State = EntityState.Modified;
                                rpoContext.SaveChanges();
                            }
                        }
                        else if (item.Field.FieldName == "chk6FB")
                        {

                            String val = String.Empty;

                            permitTypecodeArr = permitTypecode.Split(',').ToArray();

                            var str = Array.FindAll(permitTypecodeArr, s => s.Equals("FB"));

                            if (str.Length > 0)
                            {
                                val = "On";

                            }

                            if (updateJobDocumentField == null)
                            {
                                JobDocumentField JobDocumentField = new JobDocumentField
                                {
                                    IdJobDocument = idJobDocument,
                                    IdDocumentField = Convert.ToInt32(item.Id),
                                    Value = val,
                                    ActualValue = val
                                };
                                rpoContext.JobDocumentFields.Add(JobDocumentField);
                            }
                            else
                            {
                                updateJobDocumentField.Value = val;
                                updateJobDocumentField.ActualValue = val;
                                rpoContext.Entry(updateJobDocumentField).State = EntityState.Modified;
                                rpoContext.SaveChanges();
                            }
                        }
                        else if (item.Field.FieldName == "chk6FS")
                        {


                            String val = String.Empty;

                            permitTypecodeArr = permitTypecode.Split(',').ToArray();

                            var str = Array.FindAll(permitTypecodeArr, s => s.Equals("FS"));

                            if (str.Length > 0)
                            {
                                val = "On";
                            }

                            if (updateJobDocumentField == null)
                            {
                                JobDocumentField JobDocumentField = new JobDocumentField
                                {
                                    IdJobDocument = idJobDocument,
                                    IdDocumentField = Convert.ToInt32(item.Id),
                                    Value = val,
                                    ActualValue = val
                                };
                                rpoContext.JobDocumentFields.Add(JobDocumentField);
                            }
                            else
                            {
                                updateJobDocumentField.Value = val;
                                updateJobDocumentField.ActualValue = val;
                                rpoContext.Entry(updateJobDocumentField).State = EntityState.Modified;
                                rpoContext.SaveChanges();
                            }
                        }
                        else if (item.Field.FieldName == "chk6FP")
                        {


                            String val = String.Empty;

                            permitTypecodeArr = permitTypecode.Split(',').ToArray();

                            var str = Array.FindAll(permitTypecodeArr, s => s.Equals("FP"));

                            if (str.Length > 0)
                            {
                                val = "On";

                            }

                            if (updateJobDocumentField == null)
                            {
                                JobDocumentField JobDocumentField = new JobDocumentField
                                {
                                    IdJobDocument = idJobDocument,
                                    IdDocumentField = Convert.ToInt32(item.Id),
                                    Value = val,
                                    ActualValue = val
                                };
                                rpoContext.JobDocumentFields.Add(JobDocumentField);
                            }
                            else
                            {
                                updateJobDocumentField.Value = val;
                                updateJobDocumentField.ActualValue = val;
                                rpoContext.Entry(updateJobDocumentField).State = EntityState.Modified;
                                rpoContext.SaveChanges();
                            }
                        }
                        else if (item.Field.FieldName == "chk6MH")
                        {

                            String val = String.Empty;

                            permitTypecodeArr = permitTypecode.Split(',').ToArray();

                            var str = Array.FindAll(permitTypecodeArr, s => s.Equals("MH"));

                            if (str.Length > 0)
                            {
                                val = "On";

                            }

                            if (updateJobDocumentField == null)
                            {
                                JobDocumentField JobDocumentField = new JobDocumentField
                                {
                                    IdJobDocument = idJobDocument,
                                    IdDocumentField = Convert.ToInt32(item.Id),
                                    Value = val,
                                    ActualValue = val
                                };
                                rpoContext.JobDocumentFields.Add(JobDocumentField);
                            }
                            else
                            {
                                updateJobDocumentField.Value = val;
                                updateJobDocumentField.ActualValue = val;
                                rpoContext.Entry(updateJobDocumentField).State = EntityState.Modified;
                                rpoContext.SaveChanges();
                            }
                        }
                        else if (item.Field.FieldName == "chk6PL")
                        {

                            String val = String.Empty;

                            permitTypecodeArr = permitTypecode.Split(',').ToArray();

                            var str = Array.FindAll(permitTypecodeArr, s => s.Equals("PL"));

                            if (str.Length > 0)
                            {
                                val = "On";

                            }


                            if (updateJobDocumentField == null)
                            {
                                JobDocumentField JobDocumentField = new JobDocumentField
                                {
                                    IdJobDocument = idJobDocument,
                                    IdDocumentField = Convert.ToInt32(item.Id),
                                    Value = val,
                                    ActualValue = val
                                };
                                rpoContext.JobDocumentFields.Add(JobDocumentField);
                            }
                            else
                            {
                                updateJobDocumentField.Value = val;
                                updateJobDocumentField.ActualValue = val;
                                rpoContext.Entry(updateJobDocumentField).State = EntityState.Modified;
                                rpoContext.SaveChanges();
                            }
                        }
                        else if (item.Field.FieldName == "chk6SD")
                        {

                            String val = String.Empty;

                            permitTypecodeArr = permitTypecode.Split(',').ToArray();

                            var str = Array.FindAll(permitTypecodeArr, s => s.Equals("SD"));

                            if (str.Length > 0)
                            {
                                val = "On";

                            }


                            if (updateJobDocumentField == null)
                            {
                                JobDocumentField JobDocumentField = new JobDocumentField
                                {
                                    IdJobDocument = idJobDocument,
                                    IdDocumentField = Convert.ToInt32(item.Id),
                                    Value = val,
                                    ActualValue = val
                                };
                                rpoContext.JobDocumentFields.Add(JobDocumentField);
                            }
                            else
                            {
                                updateJobDocumentField.Value = val;
                                updateJobDocumentField.ActualValue = val;
                                rpoContext.Entry(updateJobDocumentField).State = EntityState.Modified;
                                rpoContext.SaveChanges();
                            }
                        }
                        else if (item.Field.FieldName == "chk6SP")
                        {

                            String val = String.Empty;

                            permitTypecodeArr = permitTypecode.Split(',').ToArray();

                            var str = Array.FindAll(permitTypecodeArr, s => s.Equals("SP"));

                            if (str.Length > 0)
                            {
                                val = "On";

                            }


                            if (updateJobDocumentField == null)
                            {
                                JobDocumentField JobDocumentField = new JobDocumentField
                                {
                                    IdJobDocument = idJobDocument,
                                    IdDocumentField = Convert.ToInt32(item.Id),
                                    Value = val,
                                    ActualValue = val
                                };
                                rpoContext.JobDocumentFields.Add(JobDocumentField);
                            }
                            else
                            {
                                updateJobDocumentField.Value = val;
                                updateJobDocumentField.ActualValue = val;
                                rpoContext.Entry(updateJobDocumentField).State = EntityState.Modified;
                                rpoContext.SaveChanges();
                            }
                        }
                        else if (item.Field.FieldName == "chk6EQ")
                        {
                            if (updateJobDocumentField == null)
                            {
                                JobDocumentField JobDocumentField = new JobDocumentField
                                {
                                    IdJobDocument = idJobDocument,
                                    IdDocumentField = Convert.ToInt32(item.Id),
                                    Value = string.Empty,
                                    ActualValue = string.Empty
                                };
                                rpoContext.JobDocumentFields.Add(JobDocumentField);
                            }
                            else
                            {
                                updateJobDocumentField.Value = string.Empty;
                                updateJobDocumentField.ActualValue = string.Empty;
                                rpoContext.Entry(updateJobDocumentField).State = EntityState.Modified;
                                rpoContext.SaveChanges();
                            }
                        }
                        else if (item.Field.FieldName == "chk6GC")
                        {
                            String val = String.Empty;

                            permitTypecodeArr = permitTypecode.Split(',').ToArray();

                            var str = Array.FindAll(permitTypecodeArr, s => s.Equals("OT/GC"));

                            if (str.Length > 0)
                            {
                                val = "On";

                            }

                            if (updateJobDocumentField == null)
                            {
                                JobDocumentField JobDocumentField = new JobDocumentField
                                {
                                    IdJobDocument = idJobDocument,
                                    IdDocumentField = Convert.ToInt32(item.Id),
                                    Value = val,
                                    ActualValue = val
                                };
                                rpoContext.JobDocumentFields.Add(JobDocumentField);
                            }
                            else
                            {
                                updateJobDocumentField.Value = val;
                                updateJobDocumentField.ActualValue = val;
                                rpoContext.Entry(updateJobDocumentField).State = EntityState.Modified;
                                rpoContext.SaveChanges();
                            }
                        }
                        else if (item.Field.FieldName == "chk6OT")
                        {
                            if (updateJobDocumentField == null)
                            {
                                JobDocumentField JobDocumentField = new JobDocumentField
                                {
                                    IdJobDocument = idJobDocument,
                                    IdDocumentField = Convert.ToInt32(item.Id),
                                    Value = string.Empty,
                                    ActualValue = string.Empty
                                };
                                rpoContext.JobDocumentFields.Add(JobDocumentField);
                            }
                            else
                            {
                                updateJobDocumentField.Value = string.Empty;
                                updateJobDocumentField.ActualValue = string.Empty;
                                rpoContext.Entry(updateJobDocumentField).State = EntityState.Modified;
                                rpoContext.SaveChanges();
                            }
                        }
                        else if (item.Field.FieldName == "txt6OT")
                        {
                            if (updateJobDocumentField == null)
                            {
                                JobDocumentField JobDocumentField = new JobDocumentField
                                {
                                    IdJobDocument = idJobDocument,
                                    IdDocumentField = Convert.ToInt32(item.Id),
                                    Value = string.Empty,
                                    ActualValue = string.Empty
                                };
                                rpoContext.JobDocumentFields.Add(JobDocumentField);
                            }
                            else
                            {
                                updateJobDocumentField.Value = string.Empty;
                                updateJobDocumentField.ActualValue = string.Empty;
                                rpoContext.Entry(updateJobDocumentField).State = EntityState.Modified;
                                rpoContext.SaveChanges();
                            }
                        }
                        else if (item.Field.FieldName == "chk6CC")
                        {
                            if (updateJobDocumentField == null)
                            {
                                JobDocumentField JobDocumentField = new JobDocumentField
                                {
                                    IdJobDocument = idJobDocument,
                                    IdDocumentField = Convert.ToInt32(item.Id),
                                    Value = string.Empty,
                                    ActualValue = string.Empty
                                };
                                rpoContext.JobDocumentFields.Add(JobDocumentField);
                            }
                            else
                            {
                                updateJobDocumentField.Value = string.Empty;
                                updateJobDocumentField.ActualValue = string.Empty;
                                rpoContext.Entry(updateJobDocumentField).State = EntityState.Modified;
                                rpoContext.SaveChanges();
                            }
                        }
                        else if (item.Field.FieldName == "chk6ANT")
                        {
                            if (updateJobDocumentField == null)
                            {
                                JobDocumentField JobDocumentField = new JobDocumentField
                                {
                                    IdJobDocument = idJobDocument,
                                    IdDocumentField = Convert.ToInt32(item.Id),
                                    Value = string.Empty,
                                    ActualValue = string.Empty
                                };
                                rpoContext.JobDocumentFields.Add(JobDocumentField);
                            }
                            else
                            {
                                updateJobDocumentField.Value = string.Empty;
                                updateJobDocumentField.ActualValue = string.Empty;
                                rpoContext.Entry(updateJobDocumentField).State = EntityState.Modified;
                                rpoContext.SaveChanges();
                            }
                        }
                        else if (item.Field.FieldName == "chk6BPP")
                        {
                            if (updateJobDocumentField == null)
                            {
                                JobDocumentField JobDocumentField = new JobDocumentField
                                {
                                    IdJobDocument = idJobDocument,
                                    IdDocumentField = Convert.ToInt32(item.Id),
                                    Value = string.Empty,
                                    ActualValue = string.Empty
                                };
                                rpoContext.JobDocumentFields.Add(JobDocumentField);
                            }
                            else
                            {
                                updateJobDocumentField.Value = string.Empty;
                                updateJobDocumentField.ActualValue = string.Empty;
                                rpoContext.Entry(updateJobDocumentField).State = EntityState.Modified;
                                rpoContext.SaveChanges();
                            }
                        }
                        else if (item.Field.FieldName == "chk6FPP")
                        {
                            if (updateJobDocumentField == null)
                            {
                                JobDocumentField JobDocumentField = new JobDocumentField
                                {
                                    IdJobDocument = idJobDocument,
                                    IdDocumentField = Convert.ToInt32(item.Id),
                                    Value = string.Empty,
                                    ActualValue = string.Empty
                                };
                                rpoContext.JobDocumentFields.Add(JobDocumentField);
                            }
                            else
                            {
                                updateJobDocumentField.Value = string.Empty;
                                updateJobDocumentField.ActualValue = string.Empty;
                                rpoContext.Entry(updateJobDocumentField).State = EntityState.Modified;
                                rpoContext.SaveChanges();
                            }
                        }
                        else if (item.Field.FieldName == "chk6MAR")
                        {
                            if (updateJobDocumentField == null)
                            {
                                JobDocumentField JobDocumentField = new JobDocumentField
                                {
                                    IdJobDocument = idJobDocument,
                                    IdDocumentField = Convert.ToInt32(item.Id),
                                    Value = string.Empty,
                                    ActualValue = string.Empty
                                };
                                rpoContext.JobDocumentFields.Add(JobDocumentField);
                            }
                            else
                            {
                                updateJobDocumentField.Value = string.Empty;
                                updateJobDocumentField.ActualValue = string.Empty;
                                rpoContext.Entry(updateJobDocumentField).State = EntityState.Modified;
                                rpoContext.SaveChanges();
                            }
                        }

                        else if (item.Field.FieldName == "txtTotalEstCost")
                        {
                            if (updateJobDocumentField == null)
                            {
                                JobDocumentField JobDocumentField = new JobDocumentField
                                {
                                    IdJobDocument = idJobDocument,
                                    IdDocumentField = Convert.ToInt32(item.Id),
                                    Value = estfees,
                                    ActualValue = estfees
                                };
                                rpoContext.JobDocumentFields.Add(JobDocumentField);
                            }
                            else
                            {
                                updateJobDocumentField.Value = estfees;
                                updateJobDocumentField.ActualValue = estfees;
                                rpoContext.Entry(updateJobDocumentField).State = EntityState.Modified;
                                rpoContext.SaveChanges();
                            }
                        }


                        else if (item.Field.FieldName == "txtApplicantName")
                        {

                            if (docuementType == "Withdrwal - Entire Job" || docuementType == "Withdrwal - Partial")
                            {
                                applicantName = string.Empty;
                            }
                            if (updateJobDocumentField == null)
                            {
                                JobDocumentField JobDocumentField = new JobDocumentField
                                {
                                    IdJobDocument = idJobDocument,
                                    IdDocumentField = Convert.ToInt32(item.Id),
                                    Value = applicantName,
                                    ActualValue = applicantName
                                };
                                rpoContext.JobDocumentFields.Add(JobDocumentField);
                            }
                            else
                            {
                                updateJobDocumentField.Value = applicantName;
                                updateJobDocumentField.ActualValue = applicantName;
                                rpoContext.Entry(updateJobDocumentField).State = EntityState.Modified;
                                rpoContext.SaveChanges();
                            }
                        }


                        else if (item.Field.FieldName == "txtLR_Name")
                        {
                            if (docuementType == "Prior to Approval - Subsequent Filing")
                            {
                                LR_Name = string.Empty;
                            }
                            if (updateJobDocumentField == null)
                            {
                                JobDocumentField JobDocumentField = new JobDocumentField
                                {
                                    IdJobDocument = idJobDocument,
                                    IdDocumentField = Convert.ToInt32(item.Id),
                                    Value = LR_Name,
                                    ActualValue = LR_Name
                                };
                                rpoContext.JobDocumentFields.Add(JobDocumentField);
                            }
                            else
                            {
                                updateJobDocumentField.Value = LR_Name;
                                updateJobDocumentField.ActualValue = LR_Name;
                                rpoContext.Entry(updateJobDocumentField).State = EntityState.Modified;
                                rpoContext.SaveChanges();
                            }
                        }
                        else if (item.Field.FieldName == "txtLR_Relationship")
                        {
                            if (docuementType == "Prior to Approval - Subsequent Filing")
                            {
                                LR_Relationship = string.Empty;
                            }
                            if (updateJobDocumentField == null)
                            {
                                JobDocumentField JobDocumentField = new JobDocumentField
                                {
                                    IdJobDocument = idJobDocument,
                                    IdDocumentField = Convert.ToInt32(item.Id),
                                    Value = LR_Relationship,
                                    ActualValue = LR_Relationship
                                };
                                rpoContext.JobDocumentFields.Add(JobDocumentField);
                            }
                            else
                            {
                                updateJobDocumentField.Value = LR_Relationship;
                                updateJobDocumentField.ActualValue = LR_Relationship;
                                rpoContext.Entry(updateJobDocumentField).State = EntityState.Modified;
                                rpoContext.SaveChanges();
                            }
                        }
                        else if (item.Field.FieldName == "txtLR_Company")
                        {
                            if (docuementType == "Prior to Approval - Subsequent Filing")
                            {
                                LR_Company = string.Empty;
                            }
                            if (updateJobDocumentField == null)
                            {
                                JobDocumentField JobDocumentField = new JobDocumentField
                                {
                                    IdJobDocument = idJobDocument,
                                    IdDocumentField = Convert.ToInt32(item.Id),
                                    Value = LR_Company,
                                    ActualValue = LR_Company
                                };
                                rpoContext.JobDocumentFields.Add(JobDocumentField);
                            }
                            else
                            {
                                updateJobDocumentField.Value = LR_Company;
                                updateJobDocumentField.ActualValue = LR_Company;
                                rpoContext.Entry(updateJobDocumentField).State = EntityState.Modified;
                                rpoContext.SaveChanges();
                            }
                        }
                        else if (item.Field.FieldName == "txtLR_Address")
                        {
                            if (docuementType == "Prior to Approval - Subsequent Filing")
                            {
                                LR_Address = string.Empty;
                            }
                            if (updateJobDocumentField == null)
                            {
                                JobDocumentField JobDocumentField = new JobDocumentField
                                {
                                    IdJobDocument = idJobDocument,
                                    IdDocumentField = Convert.ToInt32(item.Id),
                                    Value = LR_Address,
                                    ActualValue = LR_Address
                                };
                                rpoContext.JobDocumentFields.Add(JobDocumentField);
                            }
                            else
                            {
                                updateJobDocumentField.Value = LR_Address;
                                updateJobDocumentField.ActualValue = LR_Address;
                                rpoContext.Entry(updateJobDocumentField).State = EntityState.Modified;
                                rpoContext.SaveChanges();
                            }
                        }
                        else if (item.Field.FieldName == "txtLR_City")
                        {
                            if (docuementType == "Prior to Approval - Subsequent Filing")
                            {
                                LR_City = string.Empty;
                            }
                            if (updateJobDocumentField == null)
                            {
                                JobDocumentField JobDocumentField = new JobDocumentField
                                {
                                    IdJobDocument = idJobDocument,
                                    IdDocumentField = Convert.ToInt32(item.Id),
                                    Value = LR_City,
                                    ActualValue = LR_City
                                };
                                rpoContext.JobDocumentFields.Add(JobDocumentField);
                            }
                            else
                            {
                                updateJobDocumentField.Value = LR_City;
                                updateJobDocumentField.ActualValue = LR_City;
                                rpoContext.Entry(updateJobDocumentField).State = EntityState.Modified;
                                rpoContext.SaveChanges();
                            }
                        }
                        else if (item.Field.FieldName == "txtLR_State")
                        {
                            if (docuementType == "Prior to Approval - Subsequent Filing")
                            {
                                LR_State = string.Empty;
                            }
                            if (updateJobDocumentField == null)
                            {
                                JobDocumentField JobDocumentField = new JobDocumentField
                                {
                                    IdJobDocument = idJobDocument,
                                    IdDocumentField = Convert.ToInt32(item.Id),
                                    Value = LR_State,
                                    ActualValue = LR_State
                                };
                                rpoContext.JobDocumentFields.Add(JobDocumentField);
                            }
                            else
                            {
                                updateJobDocumentField.Value = LR_State;
                                updateJobDocumentField.ActualValue = LR_State;
                                rpoContext.Entry(updateJobDocumentField).State = EntityState.Modified;
                                rpoContext.SaveChanges();
                            }
                        }
                        else if (item.Field.FieldName == "txtLR_Zip")
                        {
                            if (docuementType == "Prior to Approval - Subsequent Filing")
                            {
                                LR_Zip = string.Empty;
                            }
                            if (updateJobDocumentField == null)
                            {
                                JobDocumentField JobDocumentField = new JobDocumentField
                                {
                                    IdJobDocument = idJobDocument,
                                    IdDocumentField = Convert.ToInt32(item.Id),
                                    Value = LR_Zip,
                                    ActualValue = LR_Zip
                                };
                                rpoContext.JobDocumentFields.Add(JobDocumentField);
                            }
                            else
                            {
                                updateJobDocumentField.Value = LR_Zip;
                                updateJobDocumentField.ActualValue = LR_Zip;
                                rpoContext.Entry(updateJobDocumentField).State = EntityState.Modified;
                                rpoContext.SaveChanges();
                            }
                        }
                        else if (item.Field.FieldName == "txtLR_Phone")
                        {
                            if (docuementType == "Prior to Approval - Subsequent Filing")
                            {
                                LR_Phone = string.Empty;
                            }
                            if (updateJobDocumentField == null)
                            {
                                JobDocumentField JobDocumentField = new JobDocumentField
                                {
                                    IdJobDocument = idJobDocument,
                                    IdDocumentField = Convert.ToInt32(item.Id),
                                    Value = LR_Phone,
                                    ActualValue = LR_Phone
                                };
                                rpoContext.JobDocumentFields.Add(JobDocumentField);
                            }
                            else
                            {
                                updateJobDocumentField.Value = LR_Phone;
                                updateJobDocumentField.ActualValue = LR_Phone;
                                rpoContext.Entry(updateJobDocumentField).State = EntityState.Modified;
                                rpoContext.SaveChanges();
                            }
                        }
                        else if (item.Field.FieldName == "txtLR_Fax")
                        {
                            if (docuementType == "Prior to Approval - Subsequent Filing")
                            {
                                LR_Fax = string.Empty;
                            }
                            if (updateJobDocumentField == null)
                            {
                                JobDocumentField JobDocumentField = new JobDocumentField
                                {
                                    IdJobDocument = idJobDocument,
                                    IdDocumentField = Convert.ToInt32(item.Id),
                                    Value = LR_Fax,
                                    ActualValue = LR_Fax
                                };
                                rpoContext.JobDocumentFields.Add(JobDocumentField);
                            }
                            else
                            {
                                updateJobDocumentField.Value = LR_Fax;
                                updateJobDocumentField.ActualValue = LR_Fax;
                                rpoContext.Entry(updateJobDocumentField).State = EntityState.Modified;
                                rpoContext.SaveChanges();
                            }
                        }
                        else if (item.Field.FieldName == "txtLR_EMail")
                        {
                            if (docuementType == "Prior to Approval - Subsequent Filing")
                            {
                                LR_EMail = string.Empty;
                            }
                            if (updateJobDocumentField == null)
                            {
                                JobDocumentField JobDocumentField = new JobDocumentField
                                {
                                    IdJobDocument = idJobDocument,
                                    IdDocumentField = Convert.ToInt32(item.Id),
                                    Value = LR_EMail,
                                    ActualValue = LR_EMail
                                };
                                rpoContext.JobDocumentFields.Add(JobDocumentField);
                            }
                            else
                            {
                                updateJobDocumentField.Value = LR_EMail;
                                updateJobDocumentField.ActualValue = LR_EMail;
                                rpoContext.Entry(updateJobDocumentField).State = EntityState.Modified;
                                rpoContext.SaveChanges();
                            }
                        }

                        else if (item.Field.FieldName == "txtComments")
                        {
                            if (updateJobDocumentField == null)
                            {
                                JobDocumentField JobDocumentField = new JobDocumentField
                                {
                                    IdJobDocument = idJobDocument,
                                    IdDocumentField = Convert.ToInt32(item.Id),
                                    Value = comments,
                                    ActualValue = comments
                                };
                                rpoContext.JobDocumentFields.Add(JobDocumentField);
                            }
                            else
                            {
                                updateJobDocumentField.Value = comments;
                                updateJobDocumentField.ActualValue = comments;
                                rpoContext.Entry(updateJobDocumentField).State = EntityState.Modified;
                                rpoContext.SaveChanges();
                            }
                        }
                        else if (item.Field.FieldName == "txtZoning_District")
                        {
                            string zoneDistrict = job != null && job.RfpAddress != null ? job.RfpAddress.ZoneDistrict : string.Empty;


                            if (updateJobDocumentField == null)
                            {
                                JobDocumentField JobDocumentField = new JobDocumentField
                                {
                                    IdJobDocument = idJobDocument,
                                    IdDocumentField = Convert.ToInt32(item.Id),
                                    Value = zoneDistrict,
                                    ActualValue = zoneDistrict
                                };
                                rpoContext.JobDocumentFields.Add(JobDocumentField);
                            }
                            else
                            {
                                updateJobDocumentField.Value = zoneDistrict;
                                updateJobDocumentField.ActualValue = zoneDistrict;
                                rpoContext.Entry(updateJobDocumentField).State = EntityState.Modified;
                                rpoContext.SaveChanges();
                            }
                        }
                        else if (item.Field.FieldName == "txtZoning_Overlay")
                        {
                            if (updateJobDocumentField == null)
                            {
                                JobDocumentField JobDocumentField = new JobDocumentField
                                {
                                    IdJobDocument = idJobDocument,
                                    IdDocumentField = Convert.ToInt32(item.Id),
                                    Value = job != null && job.RfpAddress != null ? job.RfpAddress.Overlay : string.Empty,
                                    ActualValue = job != null && job.RfpAddress != null ? job.RfpAddress.Overlay : string.Empty
                                };
                                rpoContext.JobDocumentFields.Add(JobDocumentField);
                            }
                            else
                            {
                                updateJobDocumentField.Value = job != null && job.RfpAddress != null ? job.RfpAddress.Overlay : string.Empty;
                                updateJobDocumentField.ActualValue = job != null && job.RfpAddress != null ? job.RfpAddress.Overlay : string.Empty;
                                rpoContext.Entry(updateJobDocumentField).State = EntityState.Modified;
                                rpoContext.SaveChanges();
                            }
                        }

                        else if (item.Field.FieldName == "txtZoning_SpecialDistrict")
                        {
                            string zonespecialDistrict = job != null && job.RfpAddress != null ? job.RfpAddress.SpecialDistrict : string.Empty;

                            if (updateJobDocumentField == null)
                            {
                                JobDocumentField JobDocumentField = new JobDocumentField
                                {
                                    IdJobDocument = idJobDocument,
                                    IdDocumentField = Convert.ToInt32(item.Id),
                                    Value = zonespecialDistrict,
                                    ActualValue = zonespecialDistrict
                                };
                                rpoContext.JobDocumentFields.Add(JobDocumentField);
                            }
                            else
                            {
                                updateJobDocumentField.Value = zonespecialDistrict;
                                updateJobDocumentField.ActualValue = zonespecialDistrict;
                                rpoContext.Entry(updateJobDocumentField).State = EntityState.Modified;
                                rpoContext.SaveChanges();
                            }
                        }


                        else if (item.Field.FieldName == "txtMap_No")
                        {
                            string map = job != null && job.RfpAddress != null ? job.RfpAddress.Map : string.Empty;

                            if (updateJobDocumentField == null)
                            {
                                JobDocumentField JobDocumentField = new JobDocumentField
                                {
                                    IdJobDocument = idJobDocument,
                                    IdDocumentField = Convert.ToInt32(item.Id),
                                    Value = map,
                                    ActualValue = map
                                };
                                rpoContext.JobDocumentFields.Add(JobDocumentField);
                            }
                            else
                            {
                                updateJobDocumentField.Value = map;
                                updateJobDocumentField.ActualValue = map;
                                rpoContext.Entry(updateJobDocumentField).State = EntityState.Modified;
                                rpoContext.SaveChanges();
                            }
                        }


                        else if (item.Field.FieldName == "txtSt_Leg_Wth")
                        {
                            string StreetLegalWidth = job != null && job.RfpAddress != null ? Convert.ToString(job.RfpAddress.StreetLegalWidth) : string.Empty;
                            if (updateJobDocumentField == null)
                            {
                                JobDocumentField JobDocumentField = new JobDocumentField
                                {
                                    IdJobDocument = idJobDocument,
                                    IdDocumentField = Convert.ToInt32(item.Id),
                                    Value = StreetLegalWidth,
                                    ActualValue = StreetLegalWidth
                                };
                                rpoContext.JobDocumentFields.Add(JobDocumentField);
                            }
                            else
                            {
                                updateJobDocumentField.Value = StreetLegalWidth;
                                updateJobDocumentField.ActualValue = StreetLegalWidth;
                                rpoContext.Entry(updateJobDocumentField).State = EntityState.Modified;
                                rpoContext.SaveChanges();
                            }
                        }


                        else if (item.Field.FieldName == "txtOwner_Name")
                        {
                            string val = job != null && job.RfpAddress != null && job.RfpAddress.OwnerContact != null ? job.RfpAddress.OwnerContact.FirstName + " " + job.RfpAddress.OwnerContact.LastName : string.Empty;
                            if (docuementType == "Post Approval Amendment")
                            {
                                val = string.Empty;
                            }

                            if (updateJobDocumentField == null)
                            {
                                JobDocumentField JobDocumentField = new JobDocumentField
                                {
                                    IdJobDocument = idJobDocument,
                                    IdDocumentField = Convert.ToInt32(item.Id),
                                    Value = val,
                                    ActualValue = val
                                };
                                rpoContext.JobDocumentFields.Add(JobDocumentField);
                            }
                            else
                            {
                                updateJobDocumentField.Value = val;
                                updateJobDocumentField.ActualValue = val;
                                rpoContext.Entry(updateJobDocumentField).State = EntityState.Modified;
                                rpoContext.SaveChanges();
                            }
                        }
                        else if (item.Field.FieldName == "txtOwner_Relationship")
                        {
                            string val = job != null && job.RfpAddress != null && job.RfpAddress.OwnerContact != null && job.RfpAddress.OwnerContact.ContactTitle != null ? job.RfpAddress.OwnerContact.ContactTitle.Name : string.Empty;
                            if (docuementType == "Post Approval Amendment")
                            {
                                val = string.Empty;
                            }
                            if (updateJobDocumentField == null)
                            {
                                JobDocumentField JobDocumentField = new JobDocumentField
                                {
                                    IdJobDocument = idJobDocument,
                                    IdDocumentField = Convert.ToInt32(item.Id),
                                    Value = val,
                                    ActualValue = val
                                };
                                rpoContext.JobDocumentFields.Add(JobDocumentField);
                            }
                            else
                            {
                                updateJobDocumentField.Value = val;
                                updateJobDocumentField.ActualValue = val;
                                rpoContext.Entry(updateJobDocumentField).State = EntityState.Modified;
                                rpoContext.SaveChanges();
                            }
                        }
                        else if (item.Field.FieldName == "txtOwner_Company")
                        {
                            Contact owner = job != null && job.RfpAddress != null && job.RfpAddress.OwnerContact != null ? job.RfpAddress.OwnerContact : null;
                            string val = owner != null && owner.Company != null ? owner.Company.Name : string.Empty;
                            if (docuementType == "Post Approval Amendment")
                            {
                                val = string.Empty;
                            }

                            if (updateJobDocumentField == null)
                            {
                                JobDocumentField JobDocumentField = new JobDocumentField
                                {
                                    IdJobDocument = idJobDocument,
                                    IdDocumentField = Convert.ToInt32(item.Id),
                                    Value = val,
                                    ActualValue = val
                                };
                                rpoContext.JobDocumentFields.Add(JobDocumentField);
                            }
                            else
                            {
                                updateJobDocumentField.Value = val;
                                updateJobDocumentField.ActualValue = val;
                                rpoContext.Entry(updateJobDocumentField).State = EntityState.Modified;
                                rpoContext.SaveChanges();
                            }
                        }
                        else if (item.Field.FieldName == "txtOwner_Address")
                        {
                            Address ownerAddress = new Address();
                            ownerAddress = job != null && job.RfpAddress != null && job.RfpAddress.OwnerContact != null && job.RfpAddress.OwnerContact.Addresses != null ? job.RfpAddress.OwnerContact.Addresses.FirstOrDefault(x => x.IsMainAddress == true) : null;
                            if (job != null && job.RfpAddress != null && job.RfpAddress.OwnerContact != null && job.RfpAddress.OwnerContact != null && job.RfpAddress.OwnerContact.IsPrimaryCompanyAddress == true)
                            {
                                int? company_id = job != null && job.RfpAddress != null && job.RfpAddress.OwnerContact != null && job.RfpAddress.OwnerContact != null && job.RfpAddress.OwnerContact != null ? job.RfpAddress.OwnerContact.IdCompany : 0;
                                ownerAddress = job != null && job.RfpAddress != null && job.RfpAddress.OwnerContact != null && job.RfpAddress.OwnerContact.Addresses != null && job.RfpAddress.OwnerContact.Company != null ? job.RfpAddress.OwnerContact.Company.Addresses.FirstOrDefault(x => x.IdCompany == company_id) : null;
                            }
                            string val = ownerAddress != null ? ownerAddress.Address1 + " " + ownerAddress.Address2 : string.Empty;
                            if (docuementType == "Post Approval Amendment")
                            {
                                val = string.Empty;
                            }
                            if (updateJobDocumentField == null)
                            {
                                JobDocumentField JobDocumentField = new JobDocumentField
                                {
                                    IdJobDocument = idJobDocument,
                                    IdDocumentField = Convert.ToInt32(item.Id),
                                    Value = val,
                                    ActualValue = val
                                };
                                rpoContext.JobDocumentFields.Add(JobDocumentField);
                            }
                            else
                            {
                                updateJobDocumentField.Value = val;
                                updateJobDocumentField.ActualValue = val;
                                rpoContext.Entry(updateJobDocumentField).State = EntityState.Modified;
                                rpoContext.SaveChanges();
                            }
                        }
                        else if (item.Field.FieldName == "txtOwner_City")
                        {
                            Address ownerAddress = new Address();
                            ownerAddress = job != null && job.RfpAddress != null && job.RfpAddress.OwnerContact != null && job.RfpAddress.OwnerContact.Addresses != null ? job.RfpAddress.OwnerContact.Addresses.FirstOrDefault(x => x.IsMainAddress == true) : null;
                            if (job != null && job.RfpAddress != null && job.RfpAddress.OwnerContact != null && job.RfpAddress.OwnerContact != null && job.RfpAddress.OwnerContact.IsPrimaryCompanyAddress == true)
                            {
                                int? company_id = job != null && job.RfpAddress != null && job.RfpAddress.OwnerContact != null && job.RfpAddress.OwnerContact != null && job.RfpAddress.OwnerContact != null ? job.RfpAddress.OwnerContact.IdCompany : 0;
                                ownerAddress = job != null && job.RfpAddress != null && job.RfpAddress.OwnerContact != null && job.RfpAddress.OwnerContact.Addresses != null && job.RfpAddress.OwnerContact.Company != null ? job.RfpAddress.OwnerContact.Company.Addresses.FirstOrDefault(x => x.IdCompany == company_id) : null;
                            }
                            string val = ownerAddress != null ? ownerAddress.City : string.Empty;
                            if (docuementType == "Post Approval Amendment")
                            {
                                val = string.Empty;
                            }
                            if (updateJobDocumentField == null)
                            {
                                JobDocumentField JobDocumentField = new JobDocumentField
                                {
                                    IdJobDocument = idJobDocument,
                                    IdDocumentField = Convert.ToInt32(item.Id),
                                    Value = val,
                                    ActualValue = val
                                };
                                rpoContext.JobDocumentFields.Add(JobDocumentField);
                            }
                            else
                            {
                                updateJobDocumentField.Value = val;
                                updateJobDocumentField.ActualValue = val;
                                rpoContext.Entry(updateJobDocumentField).State = EntityState.Modified;
                                rpoContext.SaveChanges();
                            }
                        }
                        else if (item.Field.FieldName == "txtOwner_State")
                        {
                            Address ownerAddress = new Address();
                            ownerAddress = job != null && job.RfpAddress != null && job.RfpAddress.OwnerContact != null && job.RfpAddress.OwnerContact.Addresses != null ? job.RfpAddress.OwnerContact.Addresses.FirstOrDefault(x => x.IsMainAddress == true) : null;
                            if (job != null && job.RfpAddress != null && job.RfpAddress.OwnerContact != null && job.RfpAddress.OwnerContact != null && job.RfpAddress.OwnerContact.IsPrimaryCompanyAddress == true)
                            {
                                int? company_id = job != null && job.RfpAddress != null && job.RfpAddress.OwnerContact != null && job.RfpAddress.OwnerContact != null && job.RfpAddress.OwnerContact != null ? job.RfpAddress.OwnerContact.IdCompany : 0;
                                ownerAddress = job != null && job.RfpAddress != null && job.RfpAddress.OwnerContact != null && job.RfpAddress.OwnerContact.Addresses != null && job.RfpAddress.OwnerContact.Company != null ? job.RfpAddress.OwnerContact.Company.Addresses.FirstOrDefault(x => x.IdCompany == company_id) : null;
                            }

                            string val = ownerAddress != null && ownerAddress.State != null ? ownerAddress.State.Acronym : string.Empty;
                            if (docuementType == "Post Approval Amendment")
                            {
                                val = string.Empty;
                            }
                            if (updateJobDocumentField == null)
                            {
                                JobDocumentField JobDocumentField = new JobDocumentField
                                {
                                    IdJobDocument = idJobDocument,
                                    IdDocumentField = Convert.ToInt32(item.Id),
                                    Value = val,
                                    ActualValue = val
                                };
                                rpoContext.JobDocumentFields.Add(JobDocumentField);
                            }
                            else
                            {
                                updateJobDocumentField.Value = val;
                                updateJobDocumentField.ActualValue = val;
                                rpoContext.Entry(updateJobDocumentField).State = EntityState.Modified;
                                rpoContext.SaveChanges();
                            }
                        }
                        else if (item.Field.FieldName == "txtOwner_Zip")
                        {
                            Address ownerAddress = new Address();
                            ownerAddress = job != null && job.RfpAddress != null && job.RfpAddress.OwnerContact != null && job.RfpAddress.OwnerContact.Addresses != null ? job.RfpAddress.OwnerContact.Addresses.FirstOrDefault(x => x.IsMainAddress == true) : null;
                            if (job != null && job.RfpAddress != null && job.RfpAddress.OwnerContact != null && job.RfpAddress.OwnerContact != null && job.RfpAddress.OwnerContact.IsPrimaryCompanyAddress == true)
                            {
                                int? company_id = job != null && job.RfpAddress != null && job.RfpAddress.OwnerContact != null && job.RfpAddress.OwnerContact != null && job.RfpAddress.OwnerContact != null ? job.RfpAddress.OwnerContact.IdCompany : 0;
                                ownerAddress = job != null && job.RfpAddress != null && job.RfpAddress.OwnerContact != null && job.RfpAddress.OwnerContact.Addresses != null && job.RfpAddress.OwnerContact.Company != null ? job.RfpAddress.OwnerContact.Company.Addresses.FirstOrDefault(x => x.IdCompany == company_id) : null;
                            }

                            string val = ownerAddress != null ? ownerAddress.ZipCode : string.Empty;
                            if (docuementType == "Post Approval Amendment")
                            {
                                val = string.Empty;
                            }
                            if (updateJobDocumentField == null)
                            {
                                JobDocumentField JobDocumentField = new JobDocumentField
                                {
                                    IdJobDocument = idJobDocument,
                                    IdDocumentField = Convert.ToInt32(item.Id),
                                    Value = val,
                                    ActualValue = val
                                };
                                rpoContext.JobDocumentFields.Add(JobDocumentField);
                            }
                            else
                            {
                                updateJobDocumentField.Value = val;
                                updateJobDocumentField.ActualValue = val;
                                rpoContext.Entry(updateJobDocumentField).State = EntityState.Modified;
                                rpoContext.SaveChanges();
                            }
                        }
                        else if (item.Field.FieldName == "txtOwner_Phone")
                        {
                            string ownerPhone = job != null && job.RfpAddress != null && job.RfpAddress.OwnerContact != null ? job.RfpAddress.OwnerContact.WorkPhone : string.Empty;
                            if (ownerPhone == null || ownerPhone == "")
                            {
                                ownerPhone = job != null && job.RfpAddress != null && job.RfpAddress.OwnerContact != null ? job.RfpAddress.OwnerContact.MobilePhone : string.Empty;
                            }
                            if (docuementType == "Post Approval Amendment")
                            {
                                ownerPhone = string.Empty;
                            }
                            if (updateJobDocumentField == null)
                            {
                                JobDocumentField JobDocumentField = new JobDocumentField
                                {
                                    IdJobDocument = idJobDocument,
                                    IdDocumentField = Convert.ToInt32(item.Id),
                                    Value = ownerPhone,
                                    ActualValue = ownerPhone
                                };
                                rpoContext.JobDocumentFields.Add(JobDocumentField);
                            }
                            else
                            {
                                updateJobDocumentField.Value = ownerPhone;
                                updateJobDocumentField.ActualValue = ownerPhone;
                                rpoContext.Entry(updateJobDocumentField).State = EntityState.Modified;
                                rpoContext.SaveChanges();
                            }
                        }
                        else if (item.Field.FieldName == "txtOwner_EMail")
                        {
                            string val = job != null && job.RfpAddress != null && job.RfpAddress.OwnerContact != null ? job.RfpAddress.OwnerContact.Email : string.Empty;
                            if (docuementType == "Post Approval Amendment")
                            {
                                val = string.Empty;
                            }

                            if (updateJobDocumentField == null)
                            {
                                JobDocumentField JobDocumentField = new JobDocumentField
                                {
                                    IdJobDocument = idJobDocument,
                                    IdDocumentField = Convert.ToInt32(item.Id),
                                    Value = val,
                                    ActualValue = val
                                };
                                rpoContext.JobDocumentFields.Add(JobDocumentField);
                            }
                            else
                            {
                                updateJobDocumentField.Value = val;
                                updateJobDocumentField.ActualValue = val;
                                rpoContext.Entry(updateJobDocumentField).State = EntityState.Modified;
                                rpoContext.SaveChanges();
                            }
                        }

                        else if (item.Field.FieldName == "txtSO_Name")
                        {
                            // string val = job != null && job.RfpAddress != null ? Convert.ToString(job.RfpAddress.StreetLegalWidth) : string.Empty;

                            string val = string.Empty;
                            string ownertype = job != null && job.RfpAddress != null && job.RfpAddress.OwnerType != null && !string.IsNullOrEmpty(job.RfpAddress.OwnerType.Name) ? job.RfpAddress.OwnerType.Name : string.Empty;
                            if (ownertype.ToLower() == "Condo/Co-Op".ToLower() || ownertype.ToLower() == "CORPORATION".ToLower())
                            {
                                val = job != null && job.RfpAddress != null && job.RfpAddress.SecondOfficer != null ? job.RfpAddress.SecondOfficer.FirstName + " " + job.RfpAddress.SecondOfficer.LastName : string.Empty;
                                if (docuementType == "Post Approval Amendment")
                                {
                                    val = string.Empty;
                                }
                            }
                            if (updateJobDocumentField == null)
                            {
                                JobDocumentField JobDocumentField = new JobDocumentField
                                {
                                    IdJobDocument = idJobDocument,
                                    IdDocumentField = Convert.ToInt32(item.Id),
                                    Value = val,
                                    ActualValue = val
                                };
                                rpoContext.JobDocumentFields.Add(JobDocumentField);
                            }
                            else
                            {
                                updateJobDocumentField.Value = val;
                                updateJobDocumentField.ActualValue = val;
                                rpoContext.Entry(updateJobDocumentField).State = EntityState.Modified;
                                rpoContext.SaveChanges();
                            }
                        }
                        else if (item.Field.FieldName == "txtSO_Title")
                        {
                            string val = string.Empty;
                            string ownertype = job != null && job.RfpAddress != null && job.RfpAddress.OwnerType != null && !string.IsNullOrEmpty(job.RfpAddress.OwnerType.Name) ? job.RfpAddress.OwnerType.Name : string.Empty;
                            if (ownertype.ToLower() == "Condo/Co-Op".ToLower() || ownertype.ToLower() == "Corporation".ToLower())
                            {
                                val = job != null && job.RfpAddress != null && job.RfpAddress.SecondOfficer != null && job.RfpAddress.SecondOfficer.ContactTitle != null ? job.RfpAddress.SecondOfficer.ContactTitle.Name : string.Empty;
                                if (docuementType == "Post Approval Amendment")
                                {
                                    val = string.Empty;
                                }
                            }
                            if (updateJobDocumentField == null)
                            {
                                JobDocumentField JobDocumentField = new JobDocumentField
                                {
                                    IdJobDocument = idJobDocument,
                                    IdDocumentField = Convert.ToInt32(item.Id),
                                    Value = val,
                                    ActualValue = val
                                };
                                rpoContext.JobDocumentFields.Add(JobDocumentField);
                            }
                            else
                            {
                                updateJobDocumentField.Value = val;
                                updateJobDocumentField.ActualValue = val;
                                rpoContext.Entry(updateJobDocumentField).State = EntityState.Modified;
                                rpoContext.SaveChanges();
                            }
                        }
                        else if (item.Field.FieldName == "txtSO_Address")
                        {


                            string val = string.Empty;
                            string ownertype = job != null && job.RfpAddress != null && job.RfpAddress.OwnerType != null && !string.IsNullOrEmpty(job.RfpAddress.OwnerType.Name) ? job.RfpAddress.OwnerType.Name : string.Empty;
                            if (ownertype.ToLower() == "Condo/Co-Op".ToLower() || ownertype.ToLower() == "Corporation".ToLower())
                            {
                                Contact contact = job != null && job.RfpAddress.SecondOfficer != null ? job.RfpAddress.SecondOfficer : null;
                                Address contactAddress = contact != null && contact != null && contact.Addresses != null ? contact.Addresses.Where(x => x.IsMainAddress == true).FirstOrDefault() : null;

                                val = contactAddress != null ? contactAddress.Address1 + " " + contactAddress.Address2 : string.Empty;
                                if (docuementType == "Post Approval Amendment")
                                {
                                    val = string.Empty;
                                }

                            }

                            if (updateJobDocumentField == null)
                            {
                                JobDocumentField JobDocumentField = new JobDocumentField
                                {
                                    IdJobDocument = idJobDocument,
                                    IdDocumentField = Convert.ToInt32(item.Id),
                                    Value = val,
                                    ActualValue = val
                                };
                                rpoContext.JobDocumentFields.Add(JobDocumentField);
                            }
                            else
                            {
                                updateJobDocumentField.Value = val;
                                updateJobDocumentField.ActualValue = val;
                                rpoContext.Entry(updateJobDocumentField).State = EntityState.Modified;
                                rpoContext.SaveChanges();
                            }
                        }
                        else if (item.Field.FieldName == "txtSO_City")
                        {

                            string val = string.Empty;
                            string ownertype = job != null && job.RfpAddress != null && job.RfpAddress.OwnerType != null && !string.IsNullOrEmpty(job.RfpAddress.OwnerType.Name) ? job.RfpAddress.OwnerType.Name : string.Empty;
                            if (ownertype.ToLower() == "Condo/Co-Op".ToLower() || ownertype.ToLower() == "Corporation".ToLower())
                            {
                                Contact contact = job != null && job.RfpAddress.SecondOfficer != null ? job.RfpAddress.SecondOfficer : null;
                                Address contactAddress = contact != null && contact != null && contact.Addresses != null ? contact.Addresses.Where(x => x.IsMainAddress == true).FirstOrDefault() : null;

                                val = contactAddress != null ? contactAddress.City : string.Empty;
                                if (docuementType == "Post Approval Amendment")
                                {
                                    val = string.Empty;
                                }

                            }

                            if (updateJobDocumentField == null)
                            {
                                JobDocumentField JobDocumentField = new JobDocumentField
                                {
                                    IdJobDocument = idJobDocument,
                                    IdDocumentField = Convert.ToInt32(item.Id),
                                    Value = val,
                                    ActualValue = val
                                };
                                rpoContext.JobDocumentFields.Add(JobDocumentField);
                            }
                            else
                            {
                                updateJobDocumentField.Value = val;
                                updateJobDocumentField.ActualValue = val;
                                rpoContext.Entry(updateJobDocumentField).State = EntityState.Modified;
                                rpoContext.SaveChanges();
                            }
                        }
                        else if (item.Field.FieldName == "txtSO_State")
                        {

                            string val = string.Empty;
                            string ownertype = job != null && job.RfpAddress != null && job.RfpAddress.OwnerType != null && !string.IsNullOrEmpty(job.RfpAddress.OwnerType.Name) ? job.RfpAddress.OwnerType.Name : string.Empty;
                            if (ownertype.ToLower() == "Condo/Co-Op".ToLower() || ownertype.ToLower() == "Corporation".ToLower())
                            {
                                Contact contact = job != null && job.RfpAddress.SecondOfficer != null ? job.RfpAddress.SecondOfficer : null;
                                Address contactAddress = contact != null && contact != null && contact.Addresses != null ? contact.Addresses.Where(x => x.IsMainAddress == true).FirstOrDefault() : null;

                                val = contactAddress != null && contactAddress.State != null ? contactAddress.State.Acronym : string.Empty;
                                if (docuementType == "Post Approval Amendment")
                                {
                                    val = string.Empty;
                                }
                            }
                            if (updateJobDocumentField == null)
                            {
                                JobDocumentField JobDocumentField = new JobDocumentField
                                {
                                    IdJobDocument = idJobDocument,
                                    IdDocumentField = Convert.ToInt32(item.Id),
                                    Value = val,
                                    ActualValue = val
                                };
                                rpoContext.JobDocumentFields.Add(JobDocumentField);
                            }
                            else
                            {
                                updateJobDocumentField.Value = val;
                                updateJobDocumentField.ActualValue = val;
                                rpoContext.Entry(updateJobDocumentField).State = EntityState.Modified;
                                rpoContext.SaveChanges();
                            }
                        }
                        else if (item.Field.FieldName == "txtSO_Zip")
                        {
                            string val = string.Empty;
                            string ownertype = job != null && job.RfpAddress != null && job.RfpAddress.OwnerType != null && !string.IsNullOrEmpty(job.RfpAddress.OwnerType.Name) ? job.RfpAddress.OwnerType.Name : string.Empty;
                            if (ownertype.ToLower() == "Condo/Co-Op".ToLower() || ownertype.ToLower() == "Corporation".ToLower())
                            {
                                Contact contact = job != null && job.RfpAddress.SecondOfficer != null ? job.RfpAddress.SecondOfficer : null;
                                Address contactAddress = contact != null && contact != null && contact.Addresses != null ? contact.Addresses.Where(x => x.IsMainAddress == true).FirstOrDefault() : null;

                                val = contactAddress != null ? contactAddress.ZipCode : string.Empty;
                                if (docuementType == "Post Approval Amendment")
                                {
                                    val = string.Empty;
                                }

                            }
                            if (updateJobDocumentField == null)
                            {
                                JobDocumentField JobDocumentField = new JobDocumentField
                                {
                                    IdJobDocument = idJobDocument,
                                    IdDocumentField = Convert.ToInt32(item.Id),
                                    Value = val,
                                    ActualValue = val
                                };
                                rpoContext.JobDocumentFields.Add(JobDocumentField);
                            }
                            else
                            {
                                updateJobDocumentField.Value = val;
                                updateJobDocumentField.ActualValue = val;
                                rpoContext.Entry(updateJobDocumentField).State = EntityState.Modified;
                                rpoContext.SaveChanges();
                            }
                        }
                        else if (item.Field.FieldName == "txtSO_Phone")
                        {
                            string val = string.Empty;
                            string ownertype = job != null && job.RfpAddress != null && job.RfpAddress.OwnerType != null && !string.IsNullOrEmpty(job.RfpAddress.OwnerType.Name) ? job.RfpAddress.OwnerType.Name : string.Empty;
                            if (ownertype.ToLower() == "Condo/Co-Op".ToLower() || ownertype.ToLower() == "Corporation".ToLower())
                            {
                                val = job != null && job.RfpAddress != null && job.RfpAddress.SecondOfficer != null ? job.RfpAddress.SecondOfficer.WorkPhone : string.Empty;
                                if (docuementType == "Post Approval Amendment")
                                {
                                    val = string.Empty;
                                }
                            }
                            if (updateJobDocumentField == null)
                            {
                                JobDocumentField JobDocumentField = new JobDocumentField
                                {
                                    IdJobDocument = idJobDocument,
                                    IdDocumentField = Convert.ToInt32(item.Id),
                                    Value = val,
                                    ActualValue = val
                                };
                                rpoContext.JobDocumentFields.Add(JobDocumentField);
                            }
                            else
                            {
                                updateJobDocumentField.Value = val;
                                updateJobDocumentField.ActualValue = val;
                                rpoContext.Entry(updateJobDocumentField).State = EntityState.Modified;
                                rpoContext.SaveChanges();
                            }
                        }
                        else if (item.Field.FieldName == "txtSO_EMail")
                        {
                            string val = string.Empty;
                            string ownertype = job != null && job.RfpAddress != null && job.RfpAddress.OwnerType != null && !string.IsNullOrEmpty(job.RfpAddress.OwnerType.Name) ? job.RfpAddress.OwnerType.Name : string.Empty;
                            if (ownertype.ToLower() == "Condo/Co-Op".ToLower() || ownertype.ToLower() == "Corporation".ToLower())
                            {
                                val = job != null && job.RfpAddress != null && job.RfpAddress.SecondOfficer != null ? job.RfpAddress.SecondOfficer.Email : string.Empty;
                                if (docuementType == "Post Approval Amendment")
                                {
                                    val = string.Empty;
                                }
                            }

                            if (updateJobDocumentField == null)
                            {
                                JobDocumentField JobDocumentField = new JobDocumentField
                                {
                                    IdJobDocument = idJobDocument,
                                    IdDocumentField = Convert.ToInt32(item.Id),
                                    Value = val,
                                    ActualValue = val
                                };
                                rpoContext.JobDocumentFields.Add(JobDocumentField);
                            }
                            else
                            {
                                updateJobDocumentField.Value = val;
                                updateJobDocumentField.ActualValue = val;
                                rpoContext.Entry(updateJobDocumentField).State = EntityState.Modified;
                                rpoContext.SaveChanges();
                            }
                        }

                        else if (item.Field.FieldName == "chk26I")
                        {
                            string val = string.Empty;
                            string ownertype = job != null && job.RfpAddress != null && job.RfpAddress.OwnerType != null && !string.IsNullOrEmpty(job.RfpAddress.OwnerType.Name) ? job.RfpAddress.OwnerType.Name : string.Empty;
                            if (ownertype.ToUpper() == "INDIVIDUAL")
                            {
                                val = "1";
                            }
                            if (ownertype.ToUpper() == "PARTNERSHIP")
                            {
                                val = "2";
                            }
                            if (ownertype.ToUpper() == "CORPORATION")
                            {
                                val = "3";
                            }
                            if (ownertype.ToLower() == "Condo/Co-Op".ToLower())
                            {
                                val = "5";
                                if (docuementType == "Post Approval Amendment")
                                {
                                    val = string.Empty;
                                }
                            }

                            if (updateJobDocumentField == null)
                            {
                                JobDocumentField JobDocumentField = new JobDocumentField
                                {
                                    IdJobDocument = idJobDocument,
                                    IdDocumentField = Convert.ToInt32(item.Id),
                                    Value = val,
                                    ActualValue = val
                                };
                                rpoContext.JobDocumentFields.Add(JobDocumentField);
                            }
                            else
                            {
                                updateJobDocumentField.Value = val;
                                updateJobDocumentField.ActualValue = val;
                                rpoContext.Entry(updateJobDocumentField).State = EntityState.Modified;
                                rpoContext.SaveChanges();
                            }
                        }
                        else if (item.Field.FieldName == "chk26P")
                        {
                            string val = string.Empty;
                            string ownertype = job != null && job.RfpAddress != null && job.RfpAddress.OwnerType != null && !string.IsNullOrEmpty(job.RfpAddress.OwnerType.Name) ? job.RfpAddress.OwnerType.Name : string.Empty;
                            if (ownertype.ToUpper() == "PARTNERSHIP")
                            {
                                val = "2";
                            }

                            if (updateJobDocumentField == null)
                            {
                                JobDocumentField JobDocumentField = new JobDocumentField
                                {
                                    IdJobDocument = idJobDocument,
                                    IdDocumentField = Convert.ToInt32(item.Id),
                                    Value = val,
                                    ActualValue = val
                                };
                                rpoContext.JobDocumentFields.Add(JobDocumentField);
                            }
                            else
                            {
                                updateJobDocumentField.Value = val;
                                updateJobDocumentField.ActualValue = val;
                                rpoContext.Entry(updateJobDocumentField).State = EntityState.Modified;
                                rpoContext.SaveChanges();
                            }
                        }
                        else if (item.Field.FieldName == "chk26C")
                        {
                            string val = string.Empty;
                            string ownertype = job != null && job.RfpAddress != null && job.RfpAddress.OwnerType != null && !string.IsNullOrEmpty(job.RfpAddress.OwnerType.Name) ? job.RfpAddress.OwnerType.Name : string.Empty;
                            if (ownertype == "CORPORATION")
                            {
                                val = "3";
                            }


                            if (updateJobDocumentField == null)
                            {
                                JobDocumentField JobDocumentField = new JobDocumentField
                                {
                                    IdJobDocument = idJobDocument,
                                    IdDocumentField = Convert.ToInt32(item.Id),
                                    Value = val,
                                    ActualValue = val
                                };
                                rpoContext.JobDocumentFields.Add(JobDocumentField);
                            }
                            else
                            {
                                updateJobDocumentField.Value = val;
                                updateJobDocumentField.ActualValue = val;
                                rpoContext.Entry(updateJobDocumentField).State = EntityState.Modified;
                                rpoContext.SaveChanges();
                            }
                        }
                        else if (item.Field.FieldName == "chk26G")
                        {
                            string val = string.Empty;
                            string ownertype = job != null && job.RfpAddress != null && job.RfpAddress.OwnerType != null && !string.IsNullOrEmpty(job.RfpAddress.OwnerType.Name) ? job.RfpAddress.OwnerType.Name : string.Empty;
                            if (ownertype == "GOV-OTHER")
                            {
                                val = "On";
                            }

                            if (updateJobDocumentField == null)
                            {
                                JobDocumentField JobDocumentField = new JobDocumentField
                                {
                                    IdJobDocument = idJobDocument,
                                    IdDocumentField = Convert.ToInt32(item.Id),
                                    Value = val,
                                    ActualValue = val
                                };
                                rpoContext.JobDocumentFields.Add(JobDocumentField);
                            }
                            else
                            {
                                updateJobDocumentField.Value = val;
                                updateJobDocumentField.ActualValue = val;
                                rpoContext.Entry(updateJobDocumentField).State = EntityState.Modified;
                                rpoContext.SaveChanges();
                            }
                        }
                        else if (item.Field.FieldName == "chk26O")
                        {


                            string val = string.Empty;
                            string ownertype = job != null && job.RfpAddress != null && job.RfpAddress.OwnerType != null && !string.IsNullOrEmpty(job.RfpAddress.OwnerType.Name) ? job.RfpAddress.OwnerType.Name : string.Empty;
                            if (ownertype.ToLower() == "Condo/Co-Op".ToLower())
                            {
                                val = "5";
                                if (docuementType == "Post Approval Amendment")
                                {
                                    val = string.Empty;
                                }


                            }

                            if (updateJobDocumentField == null)
                            {
                                JobDocumentField JobDocumentField = new JobDocumentField
                                {
                                    IdJobDocument = idJobDocument,
                                    IdDocumentField = Convert.ToInt32(item.Id),
                                    Value = val,
                                    ActualValue = val
                                };
                                rpoContext.JobDocumentFields.Add(JobDocumentField);
                            }
                            else
                            {
                                updateJobDocumentField.Value = val;
                                updateJobDocumentField.ActualValue = val;
                                rpoContext.Entry(updateJobDocumentField).State = EntityState.Modified;
                                rpoContext.SaveChanges();
                            }
                        }
                        else if (item.Field.FieldName == "chk26NN")
                        {
                            string val = string.Empty;
                            //  string ownertype = job != null && job.RfpAddress != null && !string.IsNullOrEmpty(job.RfpAddress.OwnerType.Name) ? job.RfpAddress.OwnerType.Name : string.Empty;
                            //if (ownertype == "DCAS")
                            //{
                            //    val = "On";
                            //}

                            if (updateJobDocumentField == null)
                            {
                                JobDocumentField JobDocumentField = new JobDocumentField
                                {
                                    IdJobDocument = idJobDocument,
                                    IdDocumentField = Convert.ToInt32(item.Id),
                                    Value = val,
                                    ActualValue = val
                                };
                                rpoContext.JobDocumentFields.Add(JobDocumentField);
                            }
                            else
                            {
                                updateJobDocumentField.Value = val;
                                updateJobDocumentField.ActualValue = val;
                                rpoContext.Entry(updateJobDocumentField).State = EntityState.Modified;
                                rpoContext.SaveChanges();
                            }
                        }
                        else if (item.Field.FieldName == "chk26A")
                        {
                            string val = string.Empty;
                            string ownertype = job != null && job.RfpAddress != null && job.RfpAddress.OwnerType != null && !string.IsNullOrEmpty(job.RfpAddress.OwnerType.Name) ? job.RfpAddress.OwnerType.Name : string.Empty;
                            if (ownertype == "DCAS")
                            {
                                val = "On";
                            }

                            if (updateJobDocumentField == null)
                            {
                                JobDocumentField JobDocumentField = new JobDocumentField
                                {
                                    IdJobDocument = idJobDocument,
                                    IdDocumentField = Convert.ToInt32(item.Id),
                                    Value = val,
                                    ActualValue = val
                                };
                                rpoContext.JobDocumentFields.Add(JobDocumentField);
                            }
                            else
                            {
                                updateJobDocumentField.Value = val;
                                updateJobDocumentField.ActualValue = val;
                                rpoContext.Entry(updateJobDocumentField).State = EntityState.Modified;
                                rpoContext.SaveChanges();
                            }
                        }
                        else if (item.Field.FieldName == "chk26H")
                        {
                            string val = string.Empty;
                            string ownertype = job != null && job.RfpAddress != null && job.RfpAddress.OwnerType != null && !string.IsNullOrEmpty(job.RfpAddress.OwnerType.Name) ? job.RfpAddress.OwnerType.Name : string.Empty;
                            if (ownertype == "HHC")
                            {
                                val = "On";
                            }

                            if (updateJobDocumentField == null)
                            {
                                JobDocumentField JobDocumentField = new JobDocumentField
                                {
                                    IdJobDocument = idJobDocument,
                                    IdDocumentField = Convert.ToInt32(item.Id),
                                    Value = val,
                                    ActualValue = val
                                };
                                rpoContext.JobDocumentFields.Add(JobDocumentField);
                            }
                            else
                            {
                                updateJobDocumentField.Value = val;
                                updateJobDocumentField.ActualValue = val;
                                rpoContext.Entry(updateJobDocumentField).State = EntityState.Modified;
                                rpoContext.SaveChanges();
                            }
                        }
                        else if (item.Field.FieldName == "chk26Y")
                        {
                            string val = string.Empty;
                            string ownertype = job != null && job.RfpAddress != null && job.RfpAddress.OwnerType != null && !string.IsNullOrEmpty(job.RfpAddress.OwnerType.Name) ? job.RfpAddress.OwnerType.Name : string.Empty;
                            if (ownertype == "NYCHA")
                            {
                                val = "On";
                            }

                            if (updateJobDocumentField == null)
                            {
                                JobDocumentField JobDocumentField = new JobDocumentField
                                {
                                    IdJobDocument = idJobDocument,
                                    IdDocumentField = Convert.ToInt32(item.Id),
                                    Value = val,
                                    ActualValue = val
                                };
                                rpoContext.JobDocumentFields.Add(JobDocumentField);
                            }
                            else
                            {
                                updateJobDocumentField.Value = val;
                                updateJobDocumentField.ActualValue = val;
                                rpoContext.Entry(updateJobDocumentField).State = EntityState.Modified;
                                rpoContext.SaveChanges();
                            }
                        }
                        else if (item.Field.FieldName == "chk26E")
                        {
                            string val = string.Empty;
                            string ownertype = job != null && job.RfpAddress != null && job.RfpAddress.OwnerType != null && !string.IsNullOrEmpty(job.RfpAddress.OwnerType.Name) ? job.RfpAddress.OwnerType.Name : string.Empty;
                            if (ownertype == "DOE")
                            {
                                val = "On";
                            }

                            if (updateJobDocumentField == null)
                            {
                                JobDocumentField JobDocumentField = new JobDocumentField
                                {
                                    IdJobDocument = idJobDocument,
                                    IdDocumentField = Convert.ToInt32(item.Id),
                                    Value = val,
                                    ActualValue = val
                                };
                                rpoContext.JobDocumentFields.Add(JobDocumentField);
                            }
                            else
                            {
                                updateJobDocumentField.Value = val;
                                updateJobDocumentField.ActualValue = val;
                                rpoContext.Entry(updateJobDocumentField).State = EntityState.Modified;
                                rpoContext.SaveChanges();
                            }
                        }
                        else if (item.Field.FieldName == "chk26D")
                        {
                            string val = string.Empty;
                            string ownertype = job != null && job.RfpAddress != null && job.RfpAddress.OwnerType != null && !string.IsNullOrEmpty(job.RfpAddress.OwnerType.Name) ? job.RfpAddress.OwnerType.Name : string.Empty;
                            if (ownertype == "HPD")
                            {
                                val = "On";
                            }

                            if (updateJobDocumentField == null)
                            {
                                JobDocumentField JobDocumentField = new JobDocumentField
                                {
                                    IdJobDocument = idJobDocument,
                                    IdDocumentField = Convert.ToInt32(item.Id),
                                    Value = val,
                                    ActualValue = val
                                };
                                rpoContext.JobDocumentFields.Add(JobDocumentField);
                            }
                            else
                            {
                                updateJobDocumentField.Value = val;
                                updateJobDocumentField.ActualValue = val;
                                rpoContext.Entry(updateJobDocumentField).State = EntityState.Modified;
                                rpoContext.SaveChanges();
                            }
                        }
                        else if (item.Field.FieldName == "chk26T")
                        {
                            string val = string.Empty;
                            string ownertype = job != null && job.RfpAddress != null && job.RfpAddress.OwnerType != null && !string.IsNullOrEmpty(job.RfpAddress.OwnerType.Name) ? job.RfpAddress.OwnerType.Name : string.Empty;
                            if (ownertype == "NY STATE")
                            {
                                val = "On";
                            }

                            if (updateJobDocumentField == null)
                            {
                                JobDocumentField JobDocumentField = new JobDocumentField
                                {
                                    IdJobDocument = idJobDocument,
                                    IdDocumentField = Convert.ToInt32(item.Id),
                                    Value = val,
                                    ActualValue = val
                                };
                                rpoContext.JobDocumentFields.Add(JobDocumentField);
                            }
                            else
                            {
                                updateJobDocumentField.Value = val;
                                updateJobDocumentField.ActualValue = val;
                                rpoContext.Entry(updateJobDocumentField).State = EntityState.Modified;
                                rpoContext.SaveChanges();
                            }
                        }
                        else if (item.Field.FieldName == "chkBA1")
                        {
                            string val = string.Empty;
                            if (ApplicationType.Trim().ToLower() == "ALT I".ToLower())
                            {
                                //val = "On";
                            }
                            if (updateJobDocumentField == null)
                            {
                                JobDocumentField JobDocumentField = new JobDocumentField
                                {
                                    IdJobDocument = idJobDocument,
                                    IdDocumentField = Convert.ToInt32(item.Id),
                                    Value = val,
                                    ActualValue = val
                                };
                                rpoContext.JobDocumentFields.Add(JobDocumentField);
                            }
                            else
                            {
                                updateJobDocumentField.Value = val;
                                updateJobDocumentField.ActualValue = val;
                                rpoContext.Entry(updateJobDocumentField).State = EntityState.Modified;
                                rpoContext.SaveChanges();
                            }
                        }
                        else if (item.Field.FieldName == "chkBA2")
                        {
                            string val = string.Empty;
                            if (ApplicationType.Trim().ToLower() == "ALT II".ToLower())
                            {
                                // val = "On";
                            }
                            if (updateJobDocumentField == null)
                            {
                                JobDocumentField JobDocumentField = new JobDocumentField
                                {
                                    IdJobDocument = idJobDocument,
                                    IdDocumentField = Convert.ToInt32(item.Id),
                                    Value = val,
                                    ActualValue = val
                                };
                                rpoContext.JobDocumentFields.Add(JobDocumentField);
                            }
                            else
                            {
                                updateJobDocumentField.Value = val;
                                updateJobDocumentField.ActualValue = val;
                                rpoContext.Entry(updateJobDocumentField).State = EntityState.Modified;
                                rpoContext.SaveChanges();
                            }
                        }
                        else if (item.Field.FieldName == "chkBDM")
                        {
                            string val = string.Empty;
                            if (ApplicationType.Trim().ToLower() == "FULL DEMOLITION".ToLower())
                            {
                                // val = "On";
                            }
                            if (updateJobDocumentField == null)
                            {
                                JobDocumentField JobDocumentField = new JobDocumentField
                                {
                                    IdJobDocument = idJobDocument,
                                    IdDocumentField = Convert.ToInt32(item.Id),
                                    Value = val,
                                    ActualValue = val
                                };
                                rpoContext.JobDocumentFields.Add(JobDocumentField);
                            }
                            else
                            {
                                updateJobDocumentField.Value = val;
                                updateJobDocumentField.ActualValue = val;
                                rpoContext.Entry(updateJobDocumentField).State = EntityState.Modified;
                                rpoContext.SaveChanges();
                            }
                        }
                        else if (item.Field.FieldName == "chkBA3")
                        {
                            string val = string.Empty;
                            if (ApplicationType.Trim().ToLower() == "ALT III".ToLower())
                            {
                                // val = "On";
                            }
                            if (updateJobDocumentField == null)
                            {
                                JobDocumentField JobDocumentField = new JobDocumentField
                                {
                                    IdJobDocument = idJobDocument,
                                    IdDocumentField = Convert.ToInt32(item.Id),
                                    Value = val,
                                    ActualValue = val
                                };
                                rpoContext.JobDocumentFields.Add(JobDocumentField);
                            }
                            else
                            {
                                updateJobDocumentField.Value = val;
                                updateJobDocumentField.ActualValue = val;
                                rpoContext.Entry(updateJobDocumentField).State = EntityState.Modified;
                                rpoContext.SaveChanges();
                            }
                        }
                        else if (item.Field.FieldName == "chkBNB")
                        {
                            string val = string.Empty;
                            if (ApplicationType.Trim().ToLower() == "NEW BUILDING".ToLower())
                            {
                                //   val = "On";
                            }
                            if (updateJobDocumentField == null)
                            {
                                JobDocumentField JobDocumentField = new JobDocumentField
                                {
                                    IdJobDocument = idJobDocument,
                                    IdDocumentField = Convert.ToInt32(item.Id),
                                    Value = val,
                                    ActualValue = val
                                };
                                rpoContext.JobDocumentFields.Add(JobDocumentField);
                            }
                            else
                            {
                                updateJobDocumentField.Value = val;
                                updateJobDocumentField.ActualValue = val;
                                rpoContext.Entry(updateJobDocumentField).State = EntityState.Modified;
                                rpoContext.SaveChanges();
                            }
                        }
                        //else if (item.Field.FieldName == "chkSoilDisturbanceNo")
                        //{
                        //    if (updateJobDocumentField == null)
                        //    {
                        //        JobDocumentField JobDocumentField = new JobDocumentField
                        //        {
                        //            IdJobDocument = idJobDocument,
                        //            IdDocumentField = Convert.ToInt32(item.Id),
                        //            Value = "2",
                        //            ActualValue = "2"
                        //        };
                        //        rpoContext.JobDocumentFields.Add(JobDocumentField);
                        //    }
                        //    else
                        //    {
                        //        updateJobDocumentField.Value = "2";
                        //        updateJobDocumentField.ActualValue = "2";
                        //        rpoContext.Entry(updateJobDocumentField).State = EntityState.Modified;
                        //        rpoContext.SaveChanges();
                        //    }
                        //}
                        else if (item.Field.FieldName == "chkMS4AreaNo")
                        {
                            if (updateJobDocumentField == null)
                            {
                                JobDocumentField JobDocumentField = new JobDocumentField
                                {
                                    IdJobDocument = idJobDocument,
                                    IdDocumentField = Convert.ToInt32(item.Id),
                                    Value = "5",
                                    ActualValue = "5"
                                };
                                rpoContext.JobDocumentFields.Add(JobDocumentField);
                            }
                            else
                            {
                                updateJobDocumentField.Value = "5";
                                updateJobDocumentField.ActualValue = "5";
                                rpoContext.Entry(updateJobDocumentField).State = EntityState.Modified;
                                rpoContext.SaveChanges();
                            }
                        }
                        else if (item.Field.FieldName == "chk26N")
                        {
                            string val = string.Empty;
                            //string ownertype = job != null && job.RfpAddress != null && !string.IsNullOrEmpty(job.RfpAddress.OwnerType.Name) ? job.RfpAddress.OwnerType.Name : string.Empty;
                            //if (ownertype == "NYC AGENCY")
                            //{
                            //    val = "On";
                            //}

                            if (updateJobDocumentField == null)
                            {
                                JobDocumentField JobDocumentField = new JobDocumentField
                                {
                                    IdJobDocument = idJobDocument,
                                    IdDocumentField = Convert.ToInt32(item.Id),
                                    Value = val,
                                    ActualValue = val
                                };
                                rpoContext.JobDocumentFields.Add(JobDocumentField);
                            }
                            else
                            {
                                updateJobDocumentField.Value = val;
                                updateJobDocumentField.ActualValue = val;
                                rpoContext.Entry(updateJobDocumentField).State = EntityState.Modified;
                                rpoContext.SaveChanges();
                            }
                        }



                        rpoContext.SaveChanges();
                    }
                    else
                    {

                        if (item.Field.FieldName == "Application")
                        {
                            int jobApplicantId = Convert.ToInt32(frontendFields.Value);
                            JobApplication jobApplication = rpoContext.JobApplications.FirstOrDefault(x => x.Id == jobApplicantId);
                            // ApplicationType = jobApplication != null && jobApplication.JobApplicationType != null ? jobApplication.JobApplicationType.Description : string.Empty;
                            ApplicationType = rpoContext.JobApplicationTypes.Where(x => x.Id == jobApplication.IdJobApplicationType).Select(x => x.Description).FirstOrDefault();

                            applicationNumber = jobApplication != null ? jobApplication.ApplicationNumber : string.Empty;
                            floorWorkingOn = jobApplication != null ? jobApplication.FloorWorking : string.Empty;

                            if (updateJobDocumentField == null)
                            {
                                JobDocumentField JobDocumentField = new JobDocumentField
                                {
                                    IdJobDocument = idJobDocument,
                                    IdDocumentField = Convert.ToInt32(item.Id),
                                    Value = frontendFields.Value,
                                    ActualValue = applicationNumber
                                };
                                rpoContext.JobDocumentFields.Add(JobDocumentField);
                            }
                            else
                            {
                                updateJobDocumentField.Value = frontendFields.Value;
                                updateJobDocumentField.ActualValue = applicationNumber;
                                rpoContext.Entry(updateJobDocumentField).State = EntityState.Modified;
                                rpoContext.SaveChanges();
                            }
                        }

                        else if (item.Field.FieldName == "Applicant")
                        {
                            int certifierid = Convert.ToInt32(frontendFields.Value);

                            JobContact jobContact = rpoContext.JobContacts.Where(x => x.Id == certifierid).FirstOrDefault();

                            applicantName = jobContact != null && jobContact.Contact != null ? jobContact.Contact.FirstName + " " + jobContact.Contact.LastName : string.Empty;
                            applicantFirstName = jobContact != null && jobContact.Contact != null ? jobContact.Contact.FirstName : string.Empty;
                            applicantMiddleName = jobContact != null && jobContact.Contact != null ? jobContact.Contact.MiddleName : string.Empty;
                            applicantLastName = jobContact != null && jobContact.Contact != null ? jobContact.Contact.LastName : string.Empty;
                            contactcompany = jobContact != null && jobContact.Contact != null && jobContact.Contact.Company != null ? jobContact.Contact.Company.Name : string.Empty;
                            // Address compnayAddress = jobContact != null && jobContact.Company != null && jobContact.Company.Addresses != null ? jobContact.Company.Addresses.OrderBy(x => x.AddressType.DisplayOrder).FirstOrDefault() : null;
                            Address compnayAddress = Common.GetContactAddressForJobDocument(jobContact);
                            businessAddress = compnayAddress != null ? compnayAddress.Address1 + " " + compnayAddress.Address2 : string.Empty;
                            businessCity = compnayAddress != null ? compnayAddress.City : string.Empty;
                            businessState = compnayAddress != null && compnayAddress.State != null ? compnayAddress.State.Acronym : string.Empty;
                            businessZip = compnayAddress != null ? compnayAddress.ZipCode : string.Empty;

                            contactMobilePhone = Common.GetContactPhoneNumberForJobDocument(jobContact);
                            //!= null && jobContact.Contact != null ? jobContact.Contact.MobilePhone : string.Empty;
                            contactEmail = jobContact != null ? jobContact.Contact.Email : string.Empty;
                            applicantmobilenumber = jobContact != null ? jobContact.Contact.MobilePhone : string.Empty;

                            string licenceTypeNumber = jobContact != null && jobContact.Contact != null && jobContact.Contact.ContactLicenses != null && jobContact.Contact.ContactLicenses.Count > 0 ?
                                 jobContact.Contact.ContactLicenses.Select(x => x.Number).FirstOrDefault() : string.Empty;
                            if (!string.IsNullOrEmpty(licenceTypeNumber))
                            {
                                ContactLicense contactLicenseType = rpoContext.ContactLicenses.Where(a => a.Number == licenceTypeNumber).FirstOrDefault();
                                ContactLicenseType LicenseType = rpoContext.ContactLicenseTypes.Where(b => b.Id == contactLicenseType.IdContactLicenseType).FirstOrDefault();
                                if (LicenseType.Name == "Engineer")
                                {
                                    contactLic_state_engineer = "1";
                                    contactLic_No = licenceTypeNumber;
                                }
                                else if (LicenseType.Name == "Architect")
                                {
                                    contactLic_state_architect = "2";
                                    contactLic_No = licenceTypeNumber;
                                }
                            }
                            else
                            {
                                licenceTypeNumber = jobContact != null && jobContact.Contact != null && jobContact.Contact.ContactLicenses != null && jobContact.Contact.ContactLicenses.Count > 0 ?
                                jobContact.Contact.ContactLicenses.Select(x => x.ContactLicenseType.Name).FirstOrDefault() : string.Empty;
                                if (licenceTypeNumber.ToLower() == ("Engineer").ToLower())
                                {
                                    contactLic_state_engineer = "1";
                                }
                                else if (licenceTypeNumber.ToLower() == ("Architect").ToLower())
                                {
                                    contactLic_state_architect = "2";
                                }
                            }
                            contactTitle = jobContact != null && jobContact.Contact != null && jobContact.Contact.ContactTitle != null ? jobContact.Contact.ContactTitle.Name : string.Empty;
                            documentDescription = documentDescription + (!string.IsNullOrEmpty(documentDescription) && !string.IsNullOrEmpty(applicantFirstName + " " + applicantLastName) ? " | " : string.Empty) + (!string.IsNullOrEmpty(applicantFirstName + " " + applicantLastName) ? "Applicant: " + applicantFirstName + " " + applicantLastName : string.Empty);

                            if (updateJobDocumentField == null)
                            {
                                JobDocumentField JobDocumentField = new JobDocumentField
                                {
                                    IdJobDocument = idJobDocument,
                                    IdDocumentField = frontendFields.IdDocumentField,
                                    Value = frontendFields.Value,
                                    ActualValue = applicantLastName
                                };
                                rpoContext.JobDocumentFields.Add(JobDocumentField);
                                rpoContext.SaveChanges();
                            }
                            else
                            {
                                updateJobDocumentField.Value = frontendFields.Value;
                                updateJobDocumentField.ActualValue = applicantLastName;
                                rpoContext.Entry(updateJobDocumentField).State = EntityState.Modified;
                                rpoContext.SaveChanges();
                            }
                        }

                        else if (item.Field.FieldName == "Filing Representative")
                        {
                            int idFilingRepresentative = Convert.ToInt32(frontendFields.Value);
                            //Employee employee = rpoContext.Employees.Where(x => x.Id == idFilingRepresentative).FirstOrDefault();
                            Employee employee = Common.GetEmployeeInformation(idFilingRepresentative);

                            filingRepresentativefirstname = employee != null ? employee.FirstName : string.Empty;
                            filingRepresentativelastname = employee != null ? employee.LastName : string.Empty;
                            frfirstname = employee != null ? employee.FirstName : string.Empty;
                            frLastname = employee != null ? employee.LastName : string.Empty;

                            filingRepresentativeCompany = "RPO INC";
                            filingRepresentativeaddress = employee != null ? employee.Address1 : string.Empty;
                            filingRepresentativePhone = employee != null ? employee.WorkPhone : string.Empty;
                            filingRepresentativeEmail = employee != null ? employee.Email : string.Empty;
                            filingRepresentativestate = employee != null ? employee.State.Acronym : string.Empty;
                            filingRepresentativecity = employee != null ? employee.City : string.Empty;
                            filingRepresentativezip = employee != null ? employee.ZipCode : string.Empty;
                            filingRepresentativemobile = employee != null ? employee.MobilePhone : string.Empty;
                            //  filingRepresentativeEmail = employee != null ? employee.Email : string.Empty;

                            string filingRepresentative = employee != null ? employee.FirstName + " " + employee.LastName : string.Empty;

                            AgentCertificate agentCertificate = rpoContext.AgentCertificates
                            .Include("DocumentType").FirstOrDefault(x => x.IdEmployee == idFilingRepresentative && x.DocumentType.Name.Equals("DOB Filing Representative"));
                            filingRepresentativRegnumber = agentCertificate != null ? agentCertificate.NumberId : string.Empty;
                            // documentDescription = documentDescription + (!string.IsNullOrEmpty(filingRepresentative) ? "Filing Representative: " + filingRepresentative : string.Empty);

                            documentDescription = documentDescription + (!string.IsNullOrEmpty(frfirstname) && !string.IsNullOrEmpty(frLastname) ? " | Filing Representative: " + frfirstname + " " + frLastname : string.Empty);
                            updateJobDocumentField = jobDocumentFieldList.FirstOrDefault(x => x.IdDocumentField == item.Id);
                            if (updateJobDocumentField == null)
                            {
                                JobDocumentField JobDocumentField = new JobDocumentField
                                {
                                    IdJobDocument = idJobDocument,
                                    IdDocumentField = Convert.ToInt32(item.Id),
                                    Value = frontendFields.Value,
                                    ActualValue = filingRepresentative,

                                };
                                rpoContext.JobDocumentFields.Add(JobDocumentField);
                            }
                            else
                            {
                                updateJobDocumentField.Value = frontendFields.Value;
                                updateJobDocumentField.ActualValue = filingRepresentative;
                                rpoContext.Entry(updateJobDocumentField).State = EntityState.Modified;
                                rpoContext.SaveChanges();
                            }
                        }

                        else if (item.Field.FieldName == "Filing Representative2")
                        {
                            int idFilingRepresentative = Convert.ToInt32(frontendFields.Value);
                            //Employee employee = rpoContext.Employees.Where(x => x.Id == idFilingRepresentative).FirstOrDefault();
                            if (idFilingRepresentative != 0)
                            {
                                Employee employee = Common.GetEmployeeInformation(idFilingRepresentative);

                                filingRepresentativefirstname = filingRepresentativefirstname + (employee != null ? (!string.IsNullOrEmpty(filingRepresentativefirstname) ? "/" : string.Empty) + employee.FirstName : string.Empty);
                                filingRepresentativelastname = filingRepresentativelastname + (employee != null ? (!string.IsNullOrEmpty(filingRepresentativelastname) ? "/" : string.Empty) + employee.LastName : string.Empty);
                                frfirstname = employee != null ? employee.FirstName : string.Empty;
                                frLastname = employee != null ? employee.LastName : string.Empty;

                                filingRepresentativeCompany = "RPO INC";
                                filingRepresentativePhone = employee != null ? employee.WorkPhone : string.Empty;
                            }
                            documentDescription = documentDescription + (!string.IsNullOrEmpty(frfirstname) && !string.IsNullOrEmpty(frLastname) ? " | Filing Representative2: " + frfirstname + " " + frLastname : string.Empty);
                            //  filingRepresentativeEmail = employee != null ? employee.Email : string.Empty;

                            //documentDescription = documentDescription + (!string.IsNullOrEmpty(filingRepresentative) ? "Filing Representative: " + filingRepresentative : string.Empty);

                            updateJobDocumentField = jobDocumentFieldList.FirstOrDefault(x => x.IdDocumentField == item.Id);
                            if (updateJobDocumentField == null)
                            {
                                JobDocumentField JobDocumentField = new JobDocumentField
                                {
                                    IdJobDocument = idJobDocument,
                                    IdDocumentField = Convert.ToInt32(item.Id),
                                    Value = frontendFields.Value,
                                    ActualValue = frontendFields.Value,

                                };
                                rpoContext.JobDocumentFields.Add(JobDocumentField);
                            }
                            else
                            {
                                updateJobDocumentField.Value = frontendFields.Value;
                                updateJobDocumentField.ActualValue = frontendFields.Value;
                                rpoContext.Entry(updateJobDocumentField).State = EntityState.Modified;
                                rpoContext.SaveChanges();
                            }
                        }

                        else if (item.Field.FieldName == "Filing Representative3")
                        {
                            int idFilingRepresentative = Convert.ToInt32(frontendFields.Value);
                            //Employee employee = rpoContext.Employees.Where(x => x.Id == idFilingRepresentative).FirstOrDefault();


                            //   string filingRepresentative = employee != null ? employee.FirstName + " " + employee.LastName : string.Empty;
                            if (idFilingRepresentative != 0)
                            {
                                Employee employee = Common.GetEmployeeInformation(idFilingRepresentative);



                                filingRepresentativefirstname = filingRepresentativefirstname + (employee != null ? (!string.IsNullOrEmpty(filingRepresentativefirstname) ? "/" : string.Empty) + employee.FirstName : string.Empty);
                                filingRepresentativelastname = filingRepresentativelastname + (employee != null ? (!string.IsNullOrEmpty(filingRepresentativelastname) ? "/" : string.Empty) + employee.LastName : string.Empty);

                                frfirstname = employee != null ? employee.FirstName : string.Empty;
                                frLastname = employee != null ? employee.LastName : string.Empty;

                                filingRepresentativeCompany = "RPO INC";
                                filingRepresentativePhone = employee != null ? employee.WorkPhone : string.Empty;
                            }
                            // filingRepresentativeEmail = employee != null ? employee.Email : string.Empty;

                            // documentDescription = documentDescription + (!string.IsNullOrEmpty(filingRepresentative) ? "Filing Representative: " + filingRepresentative : string.Empty);
                            documentDescription = documentDescription + (!string.IsNullOrEmpty(frfirstname) && !string.IsNullOrEmpty(frLastname) ? " | Filing Representative3: " + frfirstname + " " + frLastname : string.Empty);
                            updateJobDocumentField = jobDocumentFieldList.FirstOrDefault(x => x.IdDocumentField == item.Id);
                            if (updateJobDocumentField == null)
                            {
                                JobDocumentField JobDocumentField = new JobDocumentField
                                {
                                    IdJobDocument = idJobDocument,
                                    IdDocumentField = Convert.ToInt32(item.Id),
                                    Value = frontendFields.Value,
                                    ActualValue = frontendFields.Value,

                                };
                                rpoContext.JobDocumentFields.Add(JobDocumentField);
                            }
                            else
                            {
                                updateJobDocumentField.Value = frontendFields.Value;
                                updateJobDocumentField.ActualValue = frontendFields.Value;
                                rpoContext.Entry(updateJobDocumentField).State = EntityState.Modified;
                                rpoContext.SaveChanges();
                            }
                        }

                        else if (item.Field.FieldName == "Type")
                        {
                            int certifierid = Convert.ToInt32(frontendFields.Value);
                            JobDocumentType jobDocumentType = rpoContext.JobDocumentTypes.FirstOrDefault(x => x.Id == certifierid);
                            docuementType = jobDocumentType != null ? jobDocumentType.Type : string.Empty;

                            documentDescription = documentDescription + (!string.IsNullOrEmpty(docuementType) ? "Type: " + docuementType : string.Empty);

                            if (updateJobDocumentField == null)
                            {
                                JobDocumentField JobDocumentField = new JobDocumentField
                                {
                                    IdJobDocument = idJobDocument,
                                    IdDocumentField = frontendFields.IdDocumentField,
                                    Value = frontendFields.Value,
                                    ActualValue = docuementType
                                };
                                rpoContext.JobDocumentFields.Add(JobDocumentField);
                                rpoContext.SaveChanges();
                            }
                            else
                            {
                                updateJobDocumentField.Value = frontendFields.Value;
                                updateJobDocumentField.ActualValue = docuementType;
                                rpoContext.Entry(updateJobDocumentField).State = EntityState.Modified;
                                rpoContext.SaveChanges();
                            }
                        }

                        else if (item.Field.FieldName == "Job Document Work Type")
                        {
                            string workTypes = frontendFields.Value;
                            List<int> workTypesLst = !string.IsNullOrEmpty(workTypes) ? (workTypes.Split(',') != null && workTypes.Split(',').Any() ? workTypes.Split(',').Select(x => int.Parse(x)).ToList() : new List<int>()) : new List<int>();


                            var jobApplicationWorkPermitType = rpoContext.JobApplicationWorkPermitTypes
                                                                        .Include("JobWorkType")
                                                                        .Where(x => workTypesLst.Contains(x.Id))
                                                                        .Select(x => new
                                                                        {
                                                                            Permittype = x.PermitType != null && x.PermitType != "" ? x.PermitType : x.JobWorkType.Description,
                                                                            PermitTypeCode = x.Code,
                                                                            Fees = x.PermitType != null && x.PermitType != "" ? x.EstimatedCost : x.EstimatedCost,
                                                                            WorkDescription = x.WorkDescription != "" ? x.WorkDescription : string.Empty
                                                                        }).ToList();
                            //Fees = x.PermitType != null && x.PermitType != "" ? x.RenewalFee : x.EstimatedCost

                            string permitType = jobApplicationWorkPermitType != null ? String.Join(",", jobApplicationWorkPermitType.Select(x => x.Permittype)) : string.Empty;
                            permitTypecode = jobApplicationWorkPermitType != null ? String.Join(",", jobApplicationWorkPermitType.Select(x => x.PermitTypeCode)) : string.Empty;
                            string fees = jobApplicationWorkPermitType != null ? String.Join(",", jobApplicationWorkPermitType.Select(x => x.Fees)) : string.Empty;
                            //  string fees1 = 0;
                            double? d = 0;
                            //string desc = string.Empty;
                            documentDescription = documentDescription + (!string.IsNullOrEmpty(permitType) ? " | Job Document Work Type: " + permitType : string.Empty);
                            foreach (var item1 in jobApplicationWorkPermitType)
                            {
                                if (jobApplicationWorkPermitType.Count > 1)
                                {
                                    d = d + (item1.Fees == null ? 0 : item1.Fees);
                                    if (!string.IsNullOrEmpty(item1.WorkDescription))
                                    {
                                        desc = desc + item1.WorkDescription + ". ,";
                                    }
                                }
                                else
                                {
                                    d = d + (item1.Fees == null ? 0 : item1.Fees);
                                    if (!string.IsNullOrEmpty(item1.WorkDescription))
                                    {
                                        desc = desc + item1.WorkDescription + ".";
                                    }
                                }

                            }
                            if (desc.Length > 2)
                            {
                                desc = desc.Remove(desc.Length - 2);
                            }
                            estfees = Convert.ToString(d);
                            // int fees1 = jobApplicationWorkPermitType != null ?  Convert.ToInt32(jobApplicationWorkPermitType.Select(x => x.Fees))  : string.Empty;
                            if (updateJobDocumentField == null)
                            {
                                JobDocumentField JobDocumentField = new JobDocumentField
                                {
                                    IdJobDocument = idJobDocument,
                                    IdDocumentField = frontendFields.IdDocumentField,
                                    Value = workTypes,
                                    ActualValue = permitType
                                };
                                rpoContext.JobDocumentFields.Add(JobDocumentField);
                                rpoContext.SaveChanges();
                            }

                            else
                            {
                                updateJobDocumentField.Value = workTypes;
                                updateJobDocumentField.ActualValue = permitType;
                                rpoContext.Entry(updateJobDocumentField).State = EntityState.Modified;
                                rpoContext.SaveChanges();
                            }
                        }

                        else if (item.Field.FieldName == "For")
                        {
                            jobDocumentFor = frontendFields.Value;
                            if (updateJobDocumentField == null)
                            {
                                JobDocumentField JobDocumentField = new JobDocumentField
                                {
                                    IdJobDocument = idJobDocument,
                                    IdDocumentField = frontendFields.IdDocumentField,
                                    Value = frontendFields.Value,
                                    ActualValue = frontendFields.Value
                                };
                                rpoContext.JobDocumentFields.Add(JobDocumentField);
                                rpoContext.SaveChanges();
                            }

                            else
                            {
                                updateJobDocumentField.Value = frontendFields.Value;
                                updateJobDocumentField.ActualValue = frontendFields.Value;
                                rpoContext.Entry(updateJobDocumentField).State = EntityState.Modified;
                                rpoContext.SaveChanges();
                            }
                        }
                        else if (item.Field.FieldName == "Lessee Responsible")
                        {
                            int certifierid = Convert.ToInt32(frontendFields.Value);

                            JobContact jobContact = rpoContext.JobContacts.Where(x => x.Id == certifierid).FirstOrDefault();

                            LR_Name = jobContact != null && jobContact.Contact != null ? jobContact.Contact.LastName + " " + jobContact.Contact.FirstName : string.Empty;
                            // LR_Relationship = jobContact != null && jobContact.Contact != null ? jobContact.Contact.ContactTitle.Name: string.Empty;
                            // applicantMiddleName = jobContact != null && jobContact.Contact != null ? jobContact.Contact.MiddleName : string.Empty;
                            //applicantLastName = jobContact != null && jobContact.Contact != null ? jobContact.Contact.LastName : string.Empty;
                            LR_Company = jobContact != null && jobContact.Contact != null && jobContact.Contact.Company != null ? jobContact.Contact.Company.Name : string.Empty;
                            // Address compnayAddress = jobContact != null && jobContact.Company != null && jobContact.Company.Addresses != null ? jobContact.Company.Addresses.OrderBy(x => x.AddressType.DisplayOrder).FirstOrDefault() : null;
                            Address compnayAddress = Common.GetContactAddressForJobDocument(jobContact);
                            LR_Address = compnayAddress != null ? compnayAddress.Address1 + " " + compnayAddress.Address2 : string.Empty;
                            LR_City = compnayAddress != null ? compnayAddress.City : string.Empty;
                            LR_State = compnayAddress != null && compnayAddress.State != null ? compnayAddress.State.Acronym : string.Empty;
                            LR_Zip = compnayAddress != null ? compnayAddress.ZipCode : string.Empty;

                            LR_Phone = Common.GetContactPhoneNumberForJobDocument(jobContact);
                            //!= null && jobContact.Contact != null ? jobContact.Contact.MobilePhone : string.Empty;
                            LR_EMail = jobContact != null ? jobContact.Contact.Email : string.Empty;
                            LR_Relationship = jobContact != null && jobContact.Contact != null && jobContact.Contact.ContactTitle != null ? jobContact.Contact.ContactTitle.Name : string.Empty;

                            documentDescription = documentDescription + (!string.IsNullOrEmpty(LR_Name) ? " | Lessee Responsible: " + LR_Name : string.Empty);
                            //  documentDescription = documentDescription + (!string.IsNullOrEmpty(documentDescription) && !string.IsNullOrEmpty(applicantFirstName + " " + applicantLastName) ? " | " : string.Empty) + (!string.IsNullOrEmpty(applicantFirstName + " " + applicantLastName) ? "Applicant: " + applicantFirstName + " " + applicantLastName : string.Empty);

                            if (updateJobDocumentField == null)
                            {
                                JobDocumentField JobDocumentField = new JobDocumentField
                                {
                                    IdJobDocument = idJobDocument,
                                    IdDocumentField = frontendFields.IdDocumentField,
                                    Value = frontendFields.Value,
                                    ActualValue = applicantLastName
                                };
                                rpoContext.JobDocumentFields.Add(JobDocumentField);
                                rpoContext.SaveChanges();
                            }
                            else
                            {
                                updateJobDocumentField.Value = frontendFields.Value;
                                updateJobDocumentField.ActualValue = applicantLastName;
                                rpoContext.Entry(updateJobDocumentField).State = EntityState.Modified;
                                rpoContext.SaveChanges();
                            }

                        }

                        else if (item.Field.FieldName == "Job Description")
                        {

                            comments = frontendFields.Value;
                            documentDescription = documentDescription + (!string.IsNullOrEmpty(comments) ? " | Job Description: " + comments : string.Empty);
                            // jobDocumentFor = frontendFields.Value;
                            if (updateJobDocumentField == null)
                            {
                                JobDocumentField JobDocumentField = new JobDocumentField
                                {
                                    IdJobDocument = idJobDocument,
                                    IdDocumentField = frontendFields.IdDocumentField,
                                    Value = frontendFields.Value,
                                    ActualValue = frontendFields.Value
                                };
                                rpoContext.JobDocumentFields.Add(JobDocumentField);
                                rpoContext.SaveChanges();
                            }

                            else
                            {
                                updateJobDocumentField.Value = frontendFields.Value;
                                updateJobDocumentField.ActualValue = frontendFields.Value;
                                rpoContext.Entry(updateJobDocumentField).State = EntityState.Modified;
                                rpoContext.SaveChanges();
                            }


                        }


                        else
                        {
                            if (updateJobDocumentField == null)
                            {
                                JobDocumentField JobDocumentField = new JobDocumentField
                                {
                                    IdJobDocument = idJobDocument,
                                    IdDocumentField = frontendFields.IdDocumentField,
                                    Value = frontendFields.Value
                                };
                                rpoContext.JobDocumentFields.Add(JobDocumentField);
                                rpoContext.SaveChanges();
                            }
                            else
                            {
                                updateJobDocumentField.Value = frontendFields.Value;
                                rpoContext.Entry(updateJobDocumentField).State = EntityState.Modified;
                                rpoContext.SaveChanges();
                            }
                        }
                    }
                }
            }
            jobDocument.DocumentDescription = documentDescription;
            jobDocument.JobDocumentFor = jobDocumentFor;
            rpoContext.SaveChanges();
            GenerateJobDocument(idJobDocument);


        }


        public static void EditPlanorworkapprovalapplication2022(int idJobDocument, JobDocumentCreateOrUpdateDTO jobDocumentCreateOrUpdateDTO)
        {
            RpoContext rpoContext = new RpoContext();
            var documentFieldList = rpoContext.DocumentFields.Include("Field").Where(x => x.IdDocument == jobDocumentCreateOrUpdateDTO.IdDocument).OrderByDescending(x => x.Field.IsDisplayInFrontend).ThenBy(x => x.DisplayOrder).ToList();
            JobDocument jobDocument = rpoContext.JobDocuments.FirstOrDefault(x => x.Id == idJobDocument);
            string documentDescription = string.Empty;
            string jobDocumentFor = string.Empty;
            List<IdItemName> FieldsValue = new List<IdItemName>();
            List<string> pdfFields = new List<string>();
            List<int> DocumentFieldsIds = new List<int>();

            if (documentFieldList != null && documentFieldList.Count > 0)
            {
                Job job = rpoContext.Jobs.Include("ProjectManager").
                    Include("Contact.ContactTitle").
                    Include("RfpAddress.Borough").
                    Include("Company.Addresses.AddressType").
                    Include("Company.Addresses.State")
                    .Where(x => x.Id == jobDocumentCreateOrUpdateDTO.IdJob).FirstOrDefault();

                string contactName = string.Empty;
                string licenceName = string.Empty;
                string contactName2 = string.Empty;
                string companyName2 = string.Empty;
                string location2 = string.Empty;
                string docuementType = string.Empty;
                string floorWorkingOn = string.Empty;
                string applicantFirstName = string.Empty;
                string applicantMiddleName = string.Empty;
                string applicantLastName = string.Empty;
                string contactcompany = string.Empty;
                string businessAddress = string.Empty;
                //   string businessAddress = string.Empty;
                string businessCity = string.Empty;
                string businessState = string.Empty;
                string businessZip = string.Empty;
                string contactMobilePhone = string.Empty;
                string contactEmail = string.Empty;
                string contactTitle = string.Empty;
                string documentType = string.Empty;
                string documentName = string.Empty;
                //   string contactcompany = string.Empty;
                string applicantmobilenumber = string.Empty;
                string contactLic_state_engineer = string.Empty;
                string contactLic_state_architect = string.Empty;
                string contactLic_No = string.Empty;
                string filingRepresentativeCompany = string.Empty;
                string filingRepresentativePhone = string.Empty;
                string filingRepresentativeEmail = string.Empty;

                string filingRepresentativeCompany2 = string.Empty;
                string filingRepresentativePhone2 = string.Empty;
                string filingRepresentativeEmail2 = string.Empty;


                string filingRepresentativeCompany3 = string.Empty;
                string filingRepresentativePhone3 = string.Empty;
                string filingRepresentativeEmail3 = string.Empty;


                string filingRepresentativefirstname = string.Empty;
                string frfirstname = string.Empty;
                string frLastname = string.Empty;
                string filingRepresentative2firstname = string.Empty;
                string filingRepresentativef3irstname = string.Empty;
                string filingRepresentativelastname = string.Empty;
                string filingRepresentative2lastname = string.Empty;
                string filingRepresentative3lastname = string.Empty;
                string filingRepresentativeaddress = string.Empty;
                string filingRepresentativecity = string.Empty;
                string filingRepresentativestate = string.Empty;
                string filingRepresentativezip = string.Empty;
                string filingRepresentativemobile = string.Empty;
                string filingRepresentativeemail = string.Empty;
                string filingRepresentativRegnumber = string.Empty;
                string[] permitTypecodeArr = new string[20];
                string permitTypecode = string.Empty;
                string estfees = string.Empty;
                string LR_Name = string.Empty;
                string LR_Relationship = string.Empty;
                string LR_Company = string.Empty;
                string LR_Address = string.Empty;
                string LR_City = string.Empty;
                string LR_State = string.Empty;
                string LR_Zip = string.Empty;
                string LR_Phone = string.Empty;
                string LR_Fax = string.Empty;
                string LR_EMail = string.Empty;
                string applicantName = string.Empty;
                string comments = string.Empty;
                string applicationNumber = string.Empty;
                string ApplicationType = string.Empty;
                string desc = string.Empty;
                var jobDocumentFieldList = rpoContext.JobDocumentFields.Where(x => x.IdJobDocument == idJobDocument).ToList();
                foreach (DocumentField item in documentFieldList)
                {
                    JobDocumentField updateJobDocumentField = jobDocumentFieldList.FirstOrDefault(x => x.IdDocumentField == item.Id);
                    var frontendFields = jobDocumentCreateOrUpdateDTO.JobDocumentFields.FirstOrDefault(x => x.IdDocumentField == item.Id);
                    if (frontendFields == null)
                    {
                        if (item.Field.FieldName == "JobFileInfo")
                        {
                            string jobFileInfo = job != null ? job.JobNumber + " - PW-1 3-2022.pdf" : string.Empty;
                            if (updateJobDocumentField == null)
                            {
                                JobDocumentField JobDocumentField = new JobDocumentField
                                {
                                    IdJobDocument = idJobDocument,
                                    IdDocumentField = Convert.ToInt32(item.Id),
                                    Value = jobFileInfo,
                                    ActualValue = jobFileInfo
                                };
                                rpoContext.JobDocumentFields.Add(JobDocumentField);
                            }
                            else
                            {
                                string pdffield = rpoContext.DocumentFields.Where(x => x.IdField == item.IdField).Select(x => x.PdfFields).FirstOrDefault();
                                pdfFields.Add(pdffield);
                                updateJobDocumentField.Value = jobFileInfo;
                                updateJobDocumentField.ActualValue = jobFileInfo;
                                rpoContext.Entry(updateJobDocumentField).State = EntityState.Modified;
                                FieldsValue.Add(new IdItemName
                                {
                                    Id = pdffield,
                                    ItemName = updateJobDocumentField.ActualValue
                                });
                                rpoContext.SaveChanges();
                            }
                        }
                        else if (item.Field.FieldName == "chkPublic")
                        {
                            if (updateJobDocumentField == null)
                            {
                                JobDocumentField JobDocumentField = new JobDocumentField
                                {
                                    IdJobDocument = idJobDocument,
                                    IdDocumentField = Convert.ToInt32(item.Id),
                                    Value = "2",
                                    ActualValue = "2"
                                };
                                rpoContext.JobDocumentFields.Add(JobDocumentField);
                            }
                            else
                            {
                                string pdffield = rpoContext.DocumentFields.Where(x => x.IdField == item.IdField).Select(x => x.PdfFields).FirstOrDefault();
                                pdfFields.Add(pdffield);
                                updateJobDocumentField.Value = "2";
                                updateJobDocumentField.ActualValue = "2";
                                rpoContext.Entry(updateJobDocumentField).State = EntityState.Modified;
                                FieldsValue.Add(new IdItemName
                                {
                                    Id = pdffield,
                                    ItemName = updateJobDocumentField.ActualValue
                                });
                                rpoContext.SaveChanges();
                            }
                        }

                        else if (item.Field.FieldName == "txtExistingStru_OC")
                        {
                            string ConstructionClassification = job != null && job.RfpAddress != null && job.RfpAddress.StructureOccupancyCategory != null ? job.RfpAddress.StructureOccupancyCategory.Code : string.Empty;
                            if (updateJobDocumentField == null)
                            {
                                JobDocumentField JobDocumentField = new JobDocumentField
                                {
                                    IdJobDocument = idJobDocument,
                                    IdDocumentField = Convert.ToInt32(item.Id),
                                    Value = ConstructionClassification,
                                    ActualValue = ConstructionClassification
                                };
                                rpoContext.JobDocumentFields.Add(JobDocumentField);
                            }
                            else
                            {
                                string pdffield = rpoContext.DocumentFields.Where(x => x.IdField == item.IdField).Select(x => x.PdfFields).FirstOrDefault();
                                pdfFields.Add(pdffield);
                                updateJobDocumentField.Value = ConstructionClassification;
                                updateJobDocumentField.ActualValue = ConstructionClassification;
                                rpoContext.Entry(updateJobDocumentField).State = EntityState.Modified;
                                FieldsValue.Add(new IdItemName
                                {
                                    Id = pdffield,
                                    ItemName = updateJobDocumentField.ActualValue
                                });
                                rpoContext.SaveChanges();
                            }
                        }

                        else if (item.Field.FieldName == "txtExistingSeismicDesign")
                        {
                            string ConstructionClassification = job != null && job.RfpAddress != null && job.RfpAddress.SeismicDesignCategory != null ? job.RfpAddress.SeismicDesignCategory.Code : string.Empty;
                            if (updateJobDocumentField == null)
                            {
                                JobDocumentField JobDocumentField = new JobDocumentField
                                {
                                    IdJobDocument = idJobDocument,
                                    IdDocumentField = Convert.ToInt32(item.Id),
                                    Value = ConstructionClassification,
                                    ActualValue = ConstructionClassification
                                };
                                rpoContext.JobDocumentFields.Add(JobDocumentField);
                            }
                            else
                            {
                                string pdffield = rpoContext.DocumentFields.Where(x => x.IdField == item.IdField).Select(x => x.PdfFields).FirstOrDefault();
                                pdfFields.Add(pdffield);
                                updateJobDocumentField.Value = ConstructionClassification;
                                updateJobDocumentField.ActualValue = ConstructionClassification;
                                rpoContext.Entry(updateJobDocumentField).State = EntityState.Modified;
                                FieldsValue.Add(new IdItemName
                                {
                                    Id = pdffield,
                                    ItemName = updateJobDocumentField.ActualValue
                                });
                                rpoContext.SaveChanges();
                            }
                        }
                        else if (item.Field.FieldName == "Job")
                        {

                            //  int jobApplicantId = Convert.ToInt32(frontendFields.Value);
                            //  JobApplication jobApplication = rpoContext.JobApplications.FirstOrDefault(x => x.Id == jobApplicantId);

                            // string applicationNumber = jobApplication != null ? jobApplication.ApplicationNumber : string.Empty;
                            if (updateJobDocumentField == null)
                            {
                                JobDocumentField JobDocumentField = new JobDocumentField
                                {
                                    IdJobDocument = idJobDocument,
                                    IdDocumentField = Convert.ToInt32(item.Id),
                                    Value = applicationNumber,
                                    ActualValue = applicationNumber
                                };
                                rpoContext.JobDocumentFields.Add(JobDocumentField);
                            }
                            else
                            {
                                string pdffield = rpoContext.DocumentFields.Where(x => x.IdField == item.IdField).Select(x => x.PdfFields).FirstOrDefault();
                                pdfFields.Add(pdffield);
                                updateJobDocumentField.Value = applicationNumber;
                                updateJobDocumentField.ActualValue = applicationNumber;
                                rpoContext.Entry(updateJobDocumentField).State = EntityState.Modified;
                                FieldsValue.Add(new IdItemName
                                {
                                    Id = pdffield,
                                    ItemName = updateJobDocumentField.ActualValue
                                });
                                rpoContext.SaveChanges();
                            }
                        }

                        else if (item.Field.FieldName == "chkPlans_Yes")
                        {
                            if (updateJobDocumentField == null)
                            {
                                JobDocumentField JobDocumentField = new JobDocumentField
                                {
                                    IdJobDocument = idJobDocument,
                                    IdDocumentField = Convert.ToInt32(item.Id),
                                    Value = "1",
                                    ActualValue = "1"
                                };
                                rpoContext.JobDocumentFields.Add(JobDocumentField);
                            }
                            else
                            {
                                string pdffield = rpoContext.DocumentFields.Where(x => x.IdField == item.IdField).Select(x => x.PdfFields).FirstOrDefault();
                                pdfFields.Add(pdffield);
                                updateJobDocumentField.Value = "1";
                                updateJobDocumentField.ActualValue = "1";
                                rpoContext.Entry(updateJobDocumentField).State = EntityState.Modified;
                                FieldsValue.Add(new IdItemName
                                {
                                    Id = pdffield,
                                    ItemName = updateJobDocumentField.ActualValue
                                });
                                rpoContext.SaveChanges();
                            }
                        }


                        else if (item.Field.FieldName == "txtJob_Description")
                        {
                            string description = desc;
                            if (docuementType == "Post Approval Amendment" || docuementType == "Reinstatement" || docuementType == "Withdrwal - Entire Job" || docuementType == "Withdrwal - Partial")
                            {
                                description = string.Empty;
                            }

                            if (updateJobDocumentField == null)
                            {
                                JobDocumentField JobDocumentField = new JobDocumentField
                                {
                                    IdJobDocument = idJobDocument,
                                    IdDocumentField = Convert.ToInt32(item.Id),
                                    Value = description,
                                    ActualValue = description
                                };
                                rpoContext.JobDocumentFields.Add(JobDocumentField);
                            }
                            else
                            {
                                string pdffield = rpoContext.DocumentFields.Where(x => x.IdField == item.IdField).Select(x => x.PdfFields).FirstOrDefault();
                                pdfFields.Add(pdffield);
                                updateJobDocumentField.Value = description;
                                updateJobDocumentField.ActualValue = description;
                                rpoContext.Entry(updateJobDocumentField).State = EntityState.Modified;
                                FieldsValue.Add(new IdItemName
                                {
                                    Id = pdffield,
                                    ItemName = updateJobDocumentField.ActualValue
                                });
                                rpoContext.SaveChanges();
                            }

                        }
                        else if (item.Field.FieldName == "txtHouseNo")
                        {
                            string houseNumber = job != null && job.RfpAddress != null ? job.RfpAddress.HouseNumber : string.Empty;

                            if (updateJobDocumentField == null)
                            {
                                JobDocumentField JobDocumentField = new JobDocumentField
                                {
                                    IdJobDocument = idJobDocument,
                                    IdDocumentField = Convert.ToInt32(item.Id),
                                    Value = houseNumber,
                                    ActualValue = houseNumber
                                };
                                rpoContext.JobDocumentFields.Add(JobDocumentField);
                            }
                            else
                            {
                                string pdffield = rpoContext.DocumentFields.Where(x => x.IdField == item.IdField).Select(x => x.PdfFields).FirstOrDefault();
                                pdfFields.Add(pdffield);
                                updateJobDocumentField.Value = houseNumber;
                                updateJobDocumentField.ActualValue = houseNumber;
                                rpoContext.Entry(updateJobDocumentField).State = EntityState.Modified;
                                FieldsValue.Add(new IdItemName
                                {
                                    Id = pdffield,
                                    ItemName = updateJobDocumentField.ActualValue
                                });
                                rpoContext.SaveChanges();
                            }
                        }
                        else if (item.Field.FieldName == "txtStreet")
                        {
                            string street = job != null && job.RfpAddress != null ? job.RfpAddress.Street : string.Empty;

                            if (updateJobDocumentField == null)
                            {
                                JobDocumentField JobDocumentField = new JobDocumentField
                                {
                                    IdJobDocument = idJobDocument,
                                    IdDocumentField = Convert.ToInt32(item.Id),
                                    Value = street,
                                    ActualValue = street
                                };
                                rpoContext.JobDocumentFields.Add(JobDocumentField);
                            }
                            else
                            {
                                string pdffield = rpoContext.DocumentFields.Where(x => x.IdField == item.IdField).Select(x => x.PdfFields).FirstOrDefault();
                                pdfFields.Add(pdffield);
                                updateJobDocumentField.Value = street;
                                updateJobDocumentField.ActualValue = street;
                                rpoContext.Entry(updateJobDocumentField).State = EntityState.Modified;
                                FieldsValue.Add(new IdItemName
                                {
                                    Id = pdffield,
                                    ItemName = updateJobDocumentField.ActualValue
                                });
                                rpoContext.SaveChanges();
                            }
                        }
                        else if (item.Field.FieldName == "txtBoro")
                        {

                            string borough = job != null && job.RfpAddress != null && job.RfpAddress.Borough != null ? job.RfpAddress.Borough.Description : string.Empty;

                            if (updateJobDocumentField == null)
                            {
                                JobDocumentField JobDocumentField = new JobDocumentField
                                {
                                    IdJobDocument = idJobDocument,
                                    IdDocumentField = Convert.ToInt32(item.Id),
                                    Value = borough,
                                    ActualValue = borough
                                };
                                rpoContext.JobDocumentFields.Add(JobDocumentField);
                            }
                            else
                            {
                                string pdffield = rpoContext.DocumentFields.Where(x => x.IdField == item.IdField).Select(x => x.PdfFields).FirstOrDefault();
                                pdfFields.Add(pdffield);
                                updateJobDocumentField.Value = borough;
                                updateJobDocumentField.ActualValue = borough;
                                rpoContext.Entry(updateJobDocumentField).State = EntityState.Modified;
                                FieldsValue.Add(new IdItemName
                                {
                                    Id = pdffield,
                                    ItemName = updateJobDocumentField.ActualValue
                                });
                                rpoContext.SaveChanges();
                            }
                        }
                        else if (item.Field.FieldName == "txtBlock")
                        {
                            string block = job != null && job.RfpAddress != null ? job.RfpAddress.Block : string.Empty;
                            if (updateJobDocumentField == null)
                            {
                                JobDocumentField JobDocumentField = new JobDocumentField
                                {
                                    IdJobDocument = idJobDocument,
                                    IdDocumentField = Convert.ToInt32(item.Id),
                                    Value = block,
                                    ActualValue = block
                                };
                                rpoContext.JobDocumentFields.Add(JobDocumentField);
                            }
                            else
                            {
                                string pdffield = rpoContext.DocumentFields.Where(x => x.IdField == item.IdField).Select(x => x.PdfFields).FirstOrDefault();
                                pdfFields.Add(pdffield);
                                updateJobDocumentField.Value = block;
                                updateJobDocumentField.ActualValue = block;
                                rpoContext.Entry(updateJobDocumentField).State = EntityState.Modified;
                                FieldsValue.Add(new IdItemName
                                {
                                    Id = pdffield,
                                    ItemName = updateJobDocumentField.ActualValue
                                });
                                rpoContext.SaveChanges();
                            }
                        }
                        else if (item.Field.FieldName == "txtLot")
                        {

                            string lot = job != null && job.RfpAddress != null ? job.RfpAddress.Lot : string.Empty;
                            if (updateJobDocumentField == null)
                            {
                                JobDocumentField JobDocumentField = new JobDocumentField
                                {
                                    IdJobDocument = idJobDocument,
                                    IdDocumentField = Convert.ToInt32(item.Id),
                                    Value = lot,
                                    ActualValue = lot
                                };
                                rpoContext.JobDocumentFields.Add(JobDocumentField);
                            }
                            else
                            {
                                string pdffield = rpoContext.DocumentFields.Where(x => x.IdField == item.IdField).Select(x => x.PdfFields).FirstOrDefault();
                                pdfFields.Add(pdffield);
                                updateJobDocumentField.Value = lot;
                                updateJobDocumentField.ActualValue = lot;
                                rpoContext.Entry(updateJobDocumentField).State = EntityState.Modified;
                                FieldsValue.Add(new IdItemName
                                {
                                    Id = pdffield,
                                    ItemName = updateJobDocumentField.ActualValue
                                });
                                rpoContext.SaveChanges();
                            }
                        }
                        else if (item.Field.FieldName == "txtBIN")
                        {
                            string binNumber = job != null && job.RfpAddress != null ? job.RfpAddress.BinNumber : string.Empty;
                            if (updateJobDocumentField == null)
                            {
                                JobDocumentField JobDocumentField = new JobDocumentField
                                {
                                    IdJobDocument = idJobDocument,
                                    IdDocumentField = Convert.ToInt32(item.Id),
                                    Value = binNumber,
                                    ActualValue = binNumber
                                };
                                rpoContext.JobDocumentFields.Add(JobDocumentField);
                            }
                            else
                            {
                                string pdffield = rpoContext.DocumentFields.Where(x => x.IdField == item.IdField).Select(x => x.PdfFields).FirstOrDefault();
                                pdfFields.Add(pdffield);
                                updateJobDocumentField.Value = binNumber;
                                updateJobDocumentField.ActualValue = binNumber;
                                rpoContext.Entry(updateJobDocumentField).State = EntityState.Modified;
                                FieldsValue.Add(new IdItemName
                                {
                                    Id = pdffield,
                                    ItemName = updateJobDocumentField.ActualValue
                                });
                                rpoContext.SaveChanges();
                            }
                        }
                        else if (item.Field.FieldName == "txtCB")
                        {
                            string comunityBoardNumber = job != null && job.RfpAddress != null ? job.RfpAddress.ComunityBoardNumber : string.Empty;

                            if (updateJobDocumentField == null)
                            {
                                JobDocumentField JobDocumentField = new JobDocumentField
                                {
                                    IdJobDocument = idJobDocument,
                                    IdDocumentField = Convert.ToInt32(item.Id),
                                    Value = comunityBoardNumber,
                                    ActualValue = comunityBoardNumber
                                };
                                rpoContext.JobDocumentFields.Add(JobDocumentField);
                            }
                            else
                            {
                                string pdffield = rpoContext.DocumentFields.Where(x => x.IdField == item.IdField).Select(x => x.PdfFields).FirstOrDefault();
                                pdfFields.Add(pdffield);
                                updateJobDocumentField.Value = comunityBoardNumber;
                                updateJobDocumentField.ActualValue = comunityBoardNumber;
                                rpoContext.Entry(updateJobDocumentField).State = EntityState.Modified;
                                FieldsValue.Add(new IdItemName
                                {
                                    Id = pdffield,
                                    ItemName = updateJobDocumentField.ActualValue
                                });
                                rpoContext.SaveChanges();
                            }
                        }
                        else if (item.Field.FieldName == "txtFloors")
                        {
                            if (updateJobDocumentField == null)
                            {
                                JobDocumentField JobDocumentField = new JobDocumentField
                                {
                                    IdJobDocument = idJobDocument,
                                    IdDocumentField = Convert.ToInt32(item.Id),
                                    Value = floorWorkingOn,
                                    ActualValue = floorWorkingOn
                                };
                                rpoContext.JobDocumentFields.Add(JobDocumentField);
                            }
                            else
                            {
                                string pdffield = rpoContext.DocumentFields.Where(x => x.IdField == item.IdField).Select(x => x.PdfFields).FirstOrDefault();
                                pdfFields.Add(pdffield);
                                updateJobDocumentField.Value = floorWorkingOn;
                                updateJobDocumentField.ActualValue = floorWorkingOn;
                                rpoContext.Entry(updateJobDocumentField).State = EntityState.Modified;
                                FieldsValue.Add(new IdItemName
                                {
                                    Id = pdffield,
                                    ItemName = updateJobDocumentField.ActualValue
                                });
                                rpoContext.SaveChanges();
                            }
                        }
                        else if (item.Field.FieldName == "txtApt")
                        {
                            string aptNo = job != null && job.RfpAddress != null ? job.Apartment : string.Empty;

                            if (updateJobDocumentField == null)
                            {
                                JobDocumentField JobDocumentField = new JobDocumentField
                                {
                                    IdJobDocument = idJobDocument,
                                    IdDocumentField = Convert.ToInt32(item.Id),
                                    Value = aptNo,
                                    ActualValue = aptNo
                                };
                                rpoContext.JobDocumentFields.Add(JobDocumentField);
                            }
                            else
                            {
                                string pdffield = rpoContext.DocumentFields.Where(x => x.IdField == item.IdField).Select(x => x.PdfFields).FirstOrDefault();
                                pdfFields.Add(pdffield);
                                updateJobDocumentField.Value = aptNo;
                                updateJobDocumentField.ActualValue = aptNo;
                                rpoContext.Entry(updateJobDocumentField).State = EntityState.Modified;
                                FieldsValue.Add(new IdItemName
                                {
                                    Id = pdffield,
                                    ItemName = updateJobDocumentField.ActualValue
                                });
                                rpoContext.SaveChanges();
                            }
                        }
                        else if (item.Field.FieldName == "txtLast")
                        {
                            if (updateJobDocumentField == null)
                            {
                                JobDocumentField JobDocumentField = new JobDocumentField
                                {
                                    IdJobDocument = idJobDocument,
                                    IdDocumentField = Convert.ToInt32(item.Id),
                                    Value = applicantLastName,
                                    ActualValue = applicantLastName
                                };
                                rpoContext.JobDocumentFields.Add(JobDocumentField);
                            }
                            else
                            {
                                string pdffield = rpoContext.DocumentFields.Where(x => x.IdField == item.IdField).Select(x => x.PdfFields).FirstOrDefault();
                                pdfFields.Add(pdffield);
                                updateJobDocumentField.Value = applicantLastName;
                                updateJobDocumentField.ActualValue = applicantLastName;
                                rpoContext.Entry(updateJobDocumentField).State = EntityState.Modified;
                                FieldsValue.Add(new IdItemName
                                {
                                    Id = pdffield,
                                    ItemName = updateJobDocumentField.ActualValue
                                });
                                rpoContext.SaveChanges();
                            }
                        }
                        else if (item.Field.FieldName == "txtFirst")
                        {
                            if (updateJobDocumentField == null)
                            {
                                JobDocumentField JobDocumentField = new JobDocumentField
                                {
                                    IdJobDocument = idJobDocument,
                                    IdDocumentField = Convert.ToInt32(item.Id),
                                    Value = applicantFirstName,
                                    ActualValue = applicantFirstName
                                };
                                rpoContext.JobDocumentFields.Add(JobDocumentField);
                            }
                            else
                            {
                                string pdffield = rpoContext.DocumentFields.Where(x => x.IdField == item.IdField).Select(x => x.PdfFields).FirstOrDefault();
                                pdfFields.Add(pdffield);
                                updateJobDocumentField.Value = applicantFirstName;
                                updateJobDocumentField.ActualValue = applicantFirstName;
                                rpoContext.Entry(updateJobDocumentField).State = EntityState.Modified;
                                FieldsValue.Add(new IdItemName
                                {
                                    Id = pdffield,
                                    ItemName = updateJobDocumentField.ActualValue
                                });
                                rpoContext.SaveChanges();
                            }
                        }
                        else if (item.Field.FieldName == "txtMI")
                        {
                            if (updateJobDocumentField == null)
                            {
                                JobDocumentField JobDocumentField = new JobDocumentField
                                {
                                    IdJobDocument = idJobDocument,
                                    IdDocumentField = Convert.ToInt32(item.Id),
                                    Value = applicantMiddleName,
                                    ActualValue = applicantMiddleName
                                };
                                rpoContext.JobDocumentFields.Add(JobDocumentField);
                            }
                            else
                            {
                                string pdffield = rpoContext.DocumentFields.Where(x => x.IdField == item.IdField).Select(x => x.PdfFields).FirstOrDefault();
                                pdfFields.Add(pdffield);
                                updateJobDocumentField.Value = applicantMiddleName;
                                updateJobDocumentField.ActualValue = applicantMiddleName;
                                rpoContext.Entry(updateJobDocumentField).State = EntityState.Modified;
                                FieldsValue.Add(new IdItemName
                                {
                                    Id = pdffield,
                                    ItemName = updateJobDocumentField.ActualValue
                                });
                                rpoContext.SaveChanges();
                            }
                        }
                        else if (item.Field.FieldName == "txtCompany")
                        {
                            if (updateJobDocumentField == null)
                            {
                                JobDocumentField JobDocumentField = new JobDocumentField
                                {
                                    IdJobDocument = idJobDocument,
                                    IdDocumentField = Convert.ToInt32(item.Id),
                                    Value = contactcompany,
                                    ActualValue = contactcompany
                                };
                                rpoContext.JobDocumentFields.Add(JobDocumentField);
                            }
                            else
                            {
                                string pdffield = rpoContext.DocumentFields.Where(x => x.IdField == item.IdField).Select(x => x.PdfFields).FirstOrDefault();
                                pdfFields.Add(pdffield);
                                updateJobDocumentField.Value = contactcompany;
                                updateJobDocumentField.ActualValue = contactcompany;
                                rpoContext.Entry(updateJobDocumentField).State = EntityState.Modified;
                                FieldsValue.Add(new IdItemName
                                {
                                    Id = pdffield,
                                    ItemName = updateJobDocumentField.ActualValue
                                });
                                rpoContext.SaveChanges();
                            }
                        }
                        else if (item.Field.FieldName == "txtPhone")
                        {
                            if (updateJobDocumentField == null)
                            {
                                JobDocumentField JobDocumentField = new JobDocumentField
                                {
                                    IdJobDocument = idJobDocument,
                                    IdDocumentField = Convert.ToInt32(item.Id),
                                    Value = contactMobilePhone,
                                    ActualValue = contactMobilePhone
                                };
                                rpoContext.JobDocumentFields.Add(JobDocumentField);
                            }
                            else
                            {
                                string pdffield = rpoContext.DocumentFields.Where(x => x.IdField == item.IdField).Select(x => x.PdfFields).FirstOrDefault();
                                pdfFields.Add(pdffield);
                                updateJobDocumentField.Value = contactMobilePhone;
                                updateJobDocumentField.ActualValue = contactMobilePhone;
                                rpoContext.Entry(updateJobDocumentField).State = EntityState.Modified;
                                FieldsValue.Add(new IdItemName
                                {
                                    Id = pdffield,
                                    ItemName = updateJobDocumentField.ActualValue
                                });
                                rpoContext.SaveChanges();
                            }
                        }
                        else if (item.Field.FieldName == "txtAddress")
                        {
                            if (updateJobDocumentField == null)
                            {
                                JobDocumentField JobDocumentField = new JobDocumentField
                                {
                                    IdJobDocument = idJobDocument,
                                    IdDocumentField = Convert.ToInt32(item.Id),
                                    Value = businessAddress,
                                    ActualValue = businessAddress
                                };
                                rpoContext.JobDocumentFields.Add(JobDocumentField);
                            }
                            else
                            {
                                string pdffield = rpoContext.DocumentFields.Where(x => x.IdField == item.IdField).Select(x => x.PdfFields).FirstOrDefault();
                                pdfFields.Add(pdffield);
                                updateJobDocumentField.Value = businessAddress;
                                updateJobDocumentField.ActualValue = businessAddress;
                                rpoContext.Entry(updateJobDocumentField).State = EntityState.Modified;
                                FieldsValue.Add(new IdItemName
                                {
                                    Id = pdffield,
                                    ItemName = updateJobDocumentField.ActualValue
                                });
                                rpoContext.SaveChanges();
                            }
                        }

                        else if (item.Field.FieldName == "txtCity")
                        {
                            if (updateJobDocumentField == null)
                            {
                                JobDocumentField JobDocumentField = new JobDocumentField
                                {
                                    IdJobDocument = idJobDocument,
                                    IdDocumentField = Convert.ToInt32(item.Id),
                                    Value = businessCity,
                                    ActualValue = businessCity
                                };
                                rpoContext.JobDocumentFields.Add(JobDocumentField);
                            }
                            else
                            {
                                string pdffield = rpoContext.DocumentFields.Where(x => x.IdField == item.IdField).Select(x => x.PdfFields).FirstOrDefault();
                                pdfFields.Add(pdffield);
                                updateJobDocumentField.Value = businessCity;
                                updateJobDocumentField.ActualValue = businessCity;
                                rpoContext.Entry(updateJobDocumentField).State = EntityState.Modified;
                                FieldsValue.Add(new IdItemName
                                {
                                    Id = pdffield,
                                    ItemName = updateJobDocumentField.ActualValue
                                });
                                rpoContext.SaveChanges();
                            }
                        }
                        else if (item.Field.FieldName == "txtState")
                        {
                            if (updateJobDocumentField == null)
                            {
                                JobDocumentField JobDocumentField = new JobDocumentField
                                {
                                    IdJobDocument = idJobDocument,
                                    IdDocumentField = Convert.ToInt32(item.Id),
                                    Value = businessState,
                                    ActualValue = businessState
                                };
                                rpoContext.JobDocumentFields.Add(JobDocumentField);
                            }
                            else
                            {
                                string pdffield = rpoContext.DocumentFields.Where(x => x.IdField == item.IdField).Select(x => x.PdfFields).FirstOrDefault();
                                pdfFields.Add(pdffield);
                                updateJobDocumentField.Value = businessState;
                                updateJobDocumentField.ActualValue = businessState;
                                rpoContext.Entry(updateJobDocumentField).State = EntityState.Modified;
                                FieldsValue.Add(new IdItemName
                                {
                                    Id = pdffield,
                                    ItemName = updateJobDocumentField.ActualValue
                                });
                                rpoContext.SaveChanges();
                            }
                        }
                        else if (item.Field.FieldName == "txtZip")
                        {
                            if (updateJobDocumentField == null)
                            {
                                JobDocumentField JobDocumentField = new JobDocumentField
                                {
                                    IdJobDocument = idJobDocument,
                                    IdDocumentField = Convert.ToInt32(item.Id),
                                    Value = businessZip,
                                    ActualValue = businessZip
                                };
                                rpoContext.JobDocumentFields.Add(JobDocumentField);
                            }
                            else
                            {
                                string pdffield = rpoContext.DocumentFields.Where(x => x.IdField == item.IdField).Select(x => x.PdfFields).FirstOrDefault();
                                pdfFields.Add(pdffield);
                                updateJobDocumentField.Value = businessZip;
                                updateJobDocumentField.ActualValue = businessZip;
                                rpoContext.Entry(updateJobDocumentField).State = EntityState.Modified;
                                FieldsValue.Add(new IdItemName
                                {
                                    Id = pdffield,
                                    ItemName = updateJobDocumentField.ActualValue
                                });
                                rpoContext.SaveChanges();
                            }
                        }
                        else if (item.Field.FieldName == "txtMobilePhone")
                        {
                            if (updateJobDocumentField == null)
                            {
                                JobDocumentField JobDocumentField = new JobDocumentField
                                {
                                    IdJobDocument = idJobDocument,
                                    IdDocumentField = Convert.ToInt32(item.Id),
                                    Value = applicantmobilenumber,
                                    ActualValue = applicantmobilenumber
                                };
                                rpoContext.JobDocumentFields.Add(JobDocumentField);
                            }
                            else
                            {
                                string pdffield = rpoContext.DocumentFields.Where(x => x.IdField == item.IdField).Select(x => x.PdfFields).FirstOrDefault();
                                pdfFields.Add(pdffield);
                                updateJobDocumentField.Value = applicantmobilenumber;
                                updateJobDocumentField.ActualValue = applicantmobilenumber;
                                rpoContext.Entry(updateJobDocumentField).State = EntityState.Modified;
                                FieldsValue.Add(new IdItemName
                                {
                                    Id = pdffield,
                                    ItemName = updateJobDocumentField.ActualValue
                                });
                                rpoContext.SaveChanges();
                            }
                        }
                        else if (item.Field.FieldName == "txtEMail")
                        {
                            if (updateJobDocumentField == null)
                            {
                                JobDocumentField JobDocumentField = new JobDocumentField
                                {
                                    IdJobDocument = idJobDocument,
                                    IdDocumentField = Convert.ToInt32(item.Id),
                                    Value = contactEmail,
                                    ActualValue = contactEmail
                                };
                                rpoContext.JobDocumentFields.Add(JobDocumentField);
                            }
                            else
                            {
                                string pdffield = rpoContext.DocumentFields.Where(x => x.IdField == item.IdField).Select(x => x.PdfFields).FirstOrDefault();
                                pdfFields.Add(pdffield);
                                updateJobDocumentField.Value = contactEmail;
                                updateJobDocumentField.ActualValue = contactEmail;
                                rpoContext.Entry(updateJobDocumentField).State = EntityState.Modified;
                                FieldsValue.Add(new IdItemName
                                {
                                    Id = pdffield,
                                    ItemName = updateJobDocumentField.ActualValue
                                });
                                rpoContext.SaveChanges();
                            }
                        }
                        else if (item.Field.FieldName == "txtLic_No")
                        {
                            if (updateJobDocumentField == null)
                            {
                                JobDocumentField JobDocumentField = new JobDocumentField
                                {
                                    IdJobDocument = idJobDocument,
                                    IdDocumentField = Convert.ToInt32(item.Id),
                                    Value = contactLic_No,
                                    ActualValue = contactLic_No
                                };
                                rpoContext.JobDocumentFields.Add(JobDocumentField);
                            }
                            else
                            {
                                string pdffield = rpoContext.DocumentFields.Where(x => x.IdField == item.IdField).Select(x => x.PdfFields).FirstOrDefault();
                                pdfFields.Add(pdffield);
                                updateJobDocumentField.Value = contactLic_No;
                                updateJobDocumentField.ActualValue = contactLic_No;
                                rpoContext.Entry(updateJobDocumentField).State = EntityState.Modified;
                                FieldsValue.Add(new IdItemName
                                {
                                    Id = pdffield,
                                    ItemName = updateJobDocumentField.ActualValue
                                });
                                rpoContext.SaveChanges();
                            }
                        }
                        else if (item.Field.FieldName == "chkPE")
                        {
                            if (updateJobDocumentField == null)
                            {
                                JobDocumentField JobDocumentField = new JobDocumentField
                                {
                                    IdJobDocument = idJobDocument,
                                    IdDocumentField = Convert.ToInt32(item.Id),
                                    Value = contactLic_state_engineer,
                                    ActualValue = contactLic_state_engineer
                                };
                                rpoContext.JobDocumentFields.Add(JobDocumentField);
                            }
                            else
                            {
                                string pdffield = rpoContext.DocumentFields.Where(x => x.IdField == item.IdField).Select(x => x.PdfFields).FirstOrDefault();
                                pdfFields.Add(pdffield);
                                updateJobDocumentField.Value = contactLic_state_engineer;
                                updateJobDocumentField.ActualValue = contactLic_state_engineer;
                                rpoContext.Entry(updateJobDocumentField).State = EntityState.Modified;
                                FieldsValue.Add(new IdItemName
                                {
                                    Id = pdffield,
                                    ItemName = updateJobDocumentField.ActualValue
                                });
                                rpoContext.SaveChanges();
                            }
                        }
                        else if (item.Field.FieldName == "chkRA")
                        {
                            if (updateJobDocumentField == null)
                            {
                                JobDocumentField JobDocumentField = new JobDocumentField
                                {
                                    IdJobDocument = idJobDocument,
                                    IdDocumentField = Convert.ToInt32(item.Id),
                                    Value = contactLic_state_architect,
                                    ActualValue = contactLic_state_architect
                                };
                                rpoContext.JobDocumentFields.Add(JobDocumentField);
                            }
                            else
                            {
                                string pdffield = rpoContext.DocumentFields.Where(x => x.IdField == item.IdField).Select(x => x.PdfFields).FirstOrDefault();
                                pdfFields.Add(pdffield);
                                updateJobDocumentField.Value = contactLic_state_architect;
                                updateJobDocumentField.ActualValue = contactLic_state_architect;
                                rpoContext.Entry(updateJobDocumentField).State = EntityState.Modified;
                                FieldsValue.Add(new IdItemName
                                {
                                    Id = pdffield,
                                    ItemName = updateJobDocumentField.ActualValue
                                });
                                rpoContext.SaveChanges();
                            }
                        }

                        else if (item.Field.FieldName == "txtFR_Last")
                        {
                            if (updateJobDocumentField == null)
                            {
                                JobDocumentField JobDocumentField = new JobDocumentField
                                {
                                    IdJobDocument = idJobDocument,
                                    IdDocumentField = Convert.ToInt32(item.Id),
                                    Value = filingRepresentativelastname,
                                    ActualValue = filingRepresentativelastname
                                };
                                rpoContext.JobDocumentFields.Add(JobDocumentField);
                            }
                            else
                            {
                                string pdffield = rpoContext.DocumentFields.Where(x => x.IdField == item.IdField).Select(x => x.PdfFields).FirstOrDefault();
                                pdfFields.Add(pdffield);
                                updateJobDocumentField.Value = filingRepresentativelastname;
                                updateJobDocumentField.ActualValue = filingRepresentativelastname;
                                rpoContext.Entry(updateJobDocumentField).State = EntityState.Modified;
                                FieldsValue.Add(new IdItemName
                                {
                                    Id = pdffield,
                                    ItemName = updateJobDocumentField.ActualValue
                                });
                                rpoContext.SaveChanges();
                            }
                        }
                        else if (item.Field.FieldName == "txtFR_First")
                        {
                            if (updateJobDocumentField == null)
                            {
                                JobDocumentField JobDocumentField = new JobDocumentField
                                {
                                    IdJobDocument = idJobDocument,
                                    IdDocumentField = Convert.ToInt32(item.Id),
                                    Value = filingRepresentativefirstname,
                                    ActualValue = filingRepresentativefirstname
                                };
                                rpoContext.JobDocumentFields.Add(JobDocumentField);
                            }
                            else
                            {
                                string pdffield = rpoContext.DocumentFields.Where(x => x.IdField == item.IdField).Select(x => x.PdfFields).FirstOrDefault();
                                pdfFields.Add(pdffield);
                                updateJobDocumentField.Value = filingRepresentativefirstname;
                                updateJobDocumentField.ActualValue = filingRepresentativefirstname;
                                rpoContext.Entry(updateJobDocumentField).State = EntityState.Modified;
                                FieldsValue.Add(new IdItemName
                                {
                                    Id = pdffield,
                                    ItemName = updateJobDocumentField.ActualValue
                                });
                                rpoContext.SaveChanges();
                            }
                        }

                        else if (item.Field.FieldName == "txtFR_Company")
                        {
                            if (updateJobDocumentField == null)
                            {
                                JobDocumentField JobDocumentField = new JobDocumentField
                                {
                                    IdJobDocument = idJobDocument,
                                    IdDocumentField = Convert.ToInt32(item.Id),
                                    Value = filingRepresentativeCompany,
                                    ActualValue = filingRepresentativeCompany
                                };
                                rpoContext.JobDocumentFields.Add(JobDocumentField);
                            }
                            else
                            {
                                string pdffield = rpoContext.DocumentFields.Where(x => x.IdField == item.IdField).Select(x => x.PdfFields).FirstOrDefault();
                                pdfFields.Add(pdffield);
                                updateJobDocumentField.Value = filingRepresentativeCompany;
                                updateJobDocumentField.ActualValue = filingRepresentativeCompany;
                                rpoContext.Entry(updateJobDocumentField).State = EntityState.Modified;
                                FieldsValue.Add(new IdItemName
                                {
                                    Id = pdffield,
                                    ItemName = updateJobDocumentField.ActualValue
                                });
                                rpoContext.SaveChanges();
                            }
                        }
                        else if (item.Field.FieldName == "txtFR_Phone")
                        {
                            if (updateJobDocumentField == null)
                            {
                                JobDocumentField JobDocumentField = new JobDocumentField
                                {
                                    IdJobDocument = idJobDocument,
                                    IdDocumentField = Convert.ToInt32(item.Id),
                                    Value = filingRepresentativePhone,
                                    ActualValue = filingRepresentativePhone
                                };
                                rpoContext.JobDocumentFields.Add(JobDocumentField);
                            }
                            else
                            {
                                string pdffield = rpoContext.DocumentFields.Where(x => x.IdField == item.IdField).Select(x => x.PdfFields).FirstOrDefault();
                                pdfFields.Add(pdffield);
                                updateJobDocumentField.Value = filingRepresentativePhone;
                                updateJobDocumentField.ActualValue = filingRepresentativePhone;
                                rpoContext.Entry(updateJobDocumentField).State = EntityState.Modified;
                                FieldsValue.Add(new IdItemName
                                {
                                    Id = pdffield,
                                    ItemName = updateJobDocumentField.ActualValue
                                });
                                rpoContext.SaveChanges();
                            }
                        }
                        else if (item.Field.FieldName == "txtFR_Address")
                        {
                            if (updateJobDocumentField == null)
                            {
                                JobDocumentField JobDocumentField = new JobDocumentField
                                {
                                    IdJobDocument = idJobDocument,
                                    IdDocumentField = Convert.ToInt32(item.Id),
                                    Value = filingRepresentativeaddress,
                                    ActualValue = filingRepresentativeaddress
                                };
                                rpoContext.JobDocumentFields.Add(JobDocumentField);
                            }
                            else
                            {
                                string pdffield = rpoContext.DocumentFields.Where(x => x.IdField == item.IdField).Select(x => x.PdfFields).FirstOrDefault();
                                pdfFields.Add(pdffield);
                                updateJobDocumentField.Value = filingRepresentativeaddress;
                                updateJobDocumentField.ActualValue = filingRepresentativeaddress;
                                rpoContext.Entry(updateJobDocumentField).State = EntityState.Modified;
                                FieldsValue.Add(new IdItemName
                                {
                                    Id = pdffield,
                                    ItemName = updateJobDocumentField.ActualValue
                                });
                                rpoContext.SaveChanges();
                            }
                        }

                        else if (item.Field.FieldName == "txtFR_City")
                        {
                            if (updateJobDocumentField == null)
                            {
                                JobDocumentField JobDocumentField = new JobDocumentField
                                {
                                    IdJobDocument = idJobDocument,
                                    IdDocumentField = Convert.ToInt32(item.Id),
                                    Value = filingRepresentativecity,
                                    ActualValue = filingRepresentativecity
                                };
                                rpoContext.JobDocumentFields.Add(JobDocumentField);
                            }
                            else
                            {
                                string pdffield = rpoContext.DocumentFields.Where(x => x.IdField == item.IdField).Select(x => x.PdfFields).FirstOrDefault();
                                pdfFields.Add(pdffield);
                                updateJobDocumentField.Value = filingRepresentativecity;
                                updateJobDocumentField.ActualValue = filingRepresentativecity;
                                rpoContext.Entry(updateJobDocumentField).State = EntityState.Modified;
                                FieldsValue.Add(new IdItemName
                                {
                                    Id = pdffield,
                                    ItemName = updateJobDocumentField.ActualValue
                                });
                                rpoContext.SaveChanges();
                            }
                        }
                        else if (item.Field.FieldName == "txtFR_State")
                        {
                            if (updateJobDocumentField == null)
                            {
                                JobDocumentField JobDocumentField = new JobDocumentField
                                {
                                    IdJobDocument = idJobDocument,
                                    IdDocumentField = Convert.ToInt32(item.Id),
                                    Value = filingRepresentativestate,
                                    ActualValue = filingRepresentativestate
                                };
                                rpoContext.JobDocumentFields.Add(JobDocumentField);
                            }
                            else
                            {
                                string pdffield = rpoContext.DocumentFields.Where(x => x.IdField == item.IdField).Select(x => x.PdfFields).FirstOrDefault();
                                pdfFields.Add(pdffield);
                                updateJobDocumentField.Value = filingRepresentativestate;
                                updateJobDocumentField.ActualValue = filingRepresentativestate;
                                rpoContext.Entry(updateJobDocumentField).State = EntityState.Modified;
                                FieldsValue.Add(new IdItemName
                                {
                                    Id = pdffield,
                                    ItemName = updateJobDocumentField.ActualValue
                                });
                                rpoContext.SaveChanges();
                            }
                        }
                        else if (item.Field.FieldName == "txtFR_Zip")
                        {
                            if (updateJobDocumentField == null)
                            {
                                JobDocumentField JobDocumentField = new JobDocumentField
                                {
                                    IdJobDocument = idJobDocument,
                                    IdDocumentField = Convert.ToInt32(item.Id),
                                    Value = filingRepresentativezip,
                                    ActualValue = filingRepresentativezip
                                };
                                rpoContext.JobDocumentFields.Add(JobDocumentField);
                            }
                            else
                            {
                                string pdffield = rpoContext.DocumentFields.Where(x => x.IdField == item.IdField).Select(x => x.PdfFields).FirstOrDefault();
                                pdfFields.Add(pdffield);
                                updateJobDocumentField.Value = filingRepresentativezip;
                                updateJobDocumentField.ActualValue = filingRepresentativezip;
                                rpoContext.Entry(updateJobDocumentField).State = EntityState.Modified;
                                FieldsValue.Add(new IdItemName
                                {
                                    Id = pdffield,
                                    ItemName = updateJobDocumentField.ActualValue
                                });
                                rpoContext.SaveChanges();
                            }
                        }
                        else if (item.Field.FieldName == "txtFR_MobilePhone")
                        {
                            if (updateJobDocumentField == null)
                            {
                                JobDocumentField JobDocumentField = new JobDocumentField
                                {
                                    IdJobDocument = idJobDocument,
                                    IdDocumentField = Convert.ToInt32(item.Id),
                                    Value = filingRepresentativemobile,
                                    ActualValue = filingRepresentativemobile
                                };
                                rpoContext.JobDocumentFields.Add(JobDocumentField);
                            }
                            else
                            {
                                string pdffield = rpoContext.DocumentFields.Where(x => x.IdField == item.IdField).Select(x => x.PdfFields).FirstOrDefault();
                                pdfFields.Add(pdffield);
                                updateJobDocumentField.Value = filingRepresentativemobile;
                                updateJobDocumentField.ActualValue = filingRepresentativemobile;
                                rpoContext.Entry(updateJobDocumentField).State = EntityState.Modified;
                                FieldsValue.Add(new IdItemName
                                {
                                    Id = pdffield,
                                    ItemName = updateJobDocumentField.ActualValue
                                });
                                rpoContext.SaveChanges();
                            }
                        }
                        else if (item.Field.FieldName == "txtFR_EMail")
                        {
                            if (updateJobDocumentField == null)
                            {
                                JobDocumentField JobDocumentField = new JobDocumentField
                                {
                                    IdJobDocument = idJobDocument,
                                    IdDocumentField = Convert.ToInt32(item.Id),
                                    Value = filingRepresentativeEmail,
                                    ActualValue = filingRepresentativeEmail
                                };
                                rpoContext.JobDocumentFields.Add(JobDocumentField);
                            }
                            else
                            {
                                string pdffield = rpoContext.DocumentFields.Where(x => x.IdField == item.IdField).Select(x => x.PdfFields).FirstOrDefault();
                                pdfFields.Add(pdffield);
                                updateJobDocumentField.Value = filingRepresentativeEmail;
                                updateJobDocumentField.ActualValue = filingRepresentativeEmail;
                                rpoContext.Entry(updateJobDocumentField).State = EntityState.Modified;
                                FieldsValue.Add(new IdItemName
                                {
                                    Id = pdffield,
                                    ItemName = updateJobDocumentField.ActualValue
                                });
                                rpoContext.SaveChanges();
                            }
                        }
                        else if (item.Field.FieldName == "txtFR_RegNo")
                        {
                            if (updateJobDocumentField == null)
                            {
                                JobDocumentField JobDocumentField = new JobDocumentField
                                {
                                    IdJobDocument = idJobDocument,
                                    IdDocumentField = Convert.ToInt32(item.Id),
                                    Value = filingRepresentativRegnumber,
                                    ActualValue = filingRepresentativRegnumber
                                };
                                rpoContext.JobDocumentFields.Add(JobDocumentField);
                            }
                            else
                            {
                                string pdffield = rpoContext.DocumentFields.Where(x => x.IdField == item.IdField).Select(x => x.PdfFields).FirstOrDefault();
                                pdfFields.Add(pdffield);
                                updateJobDocumentField.Value = filingRepresentativRegnumber;
                                updateJobDocumentField.ActualValue = filingRepresentativRegnumber;
                                rpoContext.Entry(updateJobDocumentField).State = EntityState.Modified;
                                FieldsValue.Add(new IdItemName
                                {
                                    Id = pdffield,
                                    ItemName = updateJobDocumentField.ActualValue
                                });
                                rpoContext.SaveChanges();
                            }
                        }
                        else if (item.Field.FieldName == "chkwIF")
                        {
                            string initialfiling = string.Empty;

                            if (docuementType == "Initial Filing")
                            {
                                initialfiling = "1";

                            }

                            if (updateJobDocumentField == null)
                            {
                                JobDocumentField JobDocumentField = new JobDocumentField
                                {
                                    IdJobDocument = idJobDocument,
                                    IdDocumentField = Convert.ToInt32(item.Id),
                                    Value = initialfiling,
                                    ActualValue = initialfiling
                                };
                                rpoContext.JobDocumentFields.Add(JobDocumentField);
                            }
                            else
                            {
                                string pdffield = rpoContext.DocumentFields.Where(x => x.IdField == item.IdField).Select(x => x.PdfFields).FirstOrDefault();
                                pdfFields.Add(pdffield);
                                updateJobDocumentField.Value = initialfiling;
                                updateJobDocumentField.ActualValue = initialfiling;
                                rpoContext.Entry(updateJobDocumentField).State = EntityState.Modified;
                                FieldsValue.Add(new IdItemName
                                {
                                    Id = pdffield,
                                    ItemName = updateJobDocumentField.ActualValue
                                });
                                rpoContext.SaveChanges();
                            }
                        }
                        else if (item.Field.FieldName == "chkwPA")
                        {
                            string postapproval = string.Empty;

                            if (docuementType == "Initial Filing")
                            {

                                postapproval = string.Empty;

                            }
                            if (docuementType == "Post Approval Amendment")
                            {
                                postapproval = "1";
                            }

                            if (updateJobDocumentField == null)
                            {
                                JobDocumentField JobDocumentField = new JobDocumentField
                                {
                                    IdJobDocument = idJobDocument,
                                    IdDocumentField = Convert.ToInt32(item.Id),
                                    Value = postapproval,
                                    ActualValue = postapproval
                                };
                                rpoContext.JobDocumentFields.Add(JobDocumentField);
                            }
                            else
                            {
                                string pdffield = rpoContext.DocumentFields.Where(x => x.IdField == item.IdField).Select(x => x.PdfFields).FirstOrDefault();
                                pdfFields.Add(pdffield);
                                updateJobDocumentField.Value = postapproval;
                                updateJobDocumentField.ActualValue = postapproval;
                                rpoContext.Entry(updateJobDocumentField).State = EntityState.Modified;
                                FieldsValue.Add(new IdItemName
                                {
                                    Id = pdffield,
                                    ItemName = updateJobDocumentField.ActualValue
                                });
                                rpoContext.SaveChanges();
                            }
                        }

                        else if (item.Field.FieldName == "txtExisting_OC")
                        {
                            string OccupancyClassification = job != null && job.RfpAddress != null && job.RfpAddress.OccupancyClassification != null ? job.RfpAddress.OccupancyClassification.Code : string.Empty;

                            if (updateJobDocumentField == null)
                            {
                                JobDocumentField JobDocumentField = new JobDocumentField
                                {
                                    IdJobDocument = idJobDocument,
                                    IdDocumentField = Convert.ToInt32(item.Id),
                                    Value = OccupancyClassification,
                                    ActualValue = OccupancyClassification
                                };
                                rpoContext.JobDocumentFields.Add(JobDocumentField);
                            }
                            else
                            {
                                string pdffield = rpoContext.DocumentFields.Where(x => x.IdField == item.IdField).Select(x => x.PdfFields).FirstOrDefault();
                                pdfFields.Add(pdffield);
                                updateJobDocumentField.Value = OccupancyClassification;
                                updateJobDocumentField.ActualValue = OccupancyClassification;
                                rpoContext.Entry(updateJobDocumentField).State = EntityState.Modified;
                                FieldsValue.Add(new IdItemName
                                {
                                    Id = pdffield,
                                    ItemName = updateJobDocumentField.ActualValue
                                });
                                rpoContext.SaveChanges();
                            }
                        }

                        else if (item.Field.FieldName == "txtExisting_CC")
                        {
                            string ConstructionClassification = job != null && job.RfpAddress != null && job.RfpAddress.ConstructionClassification != null ? job.RfpAddress.ConstructionClassification.Code : string.Empty;

                            if (updateJobDocumentField == null)
                            {
                                JobDocumentField JobDocumentField = new JobDocumentField
                                {
                                    IdJobDocument = idJobDocument,
                                    IdDocumentField = Convert.ToInt32(item.Id),
                                    Value = ConstructionClassification,
                                    ActualValue = ConstructionClassification
                                };
                                rpoContext.JobDocumentFields.Add(JobDocumentField);
                            }
                            else
                            {
                                string pdffield = rpoContext.DocumentFields.Where(x => x.IdField == item.IdField).Select(x => x.PdfFields).FirstOrDefault();
                                pdfFields.Add(pdffield);
                                updateJobDocumentField.Value = ConstructionClassification;
                                updateJobDocumentField.ActualValue = ConstructionClassification;
                                rpoContext.Entry(updateJobDocumentField).State = EntityState.Modified;
                                FieldsValue.Add(new IdItemName
                                {
                                    Id = pdffield,
                                    ItemName = updateJobDocumentField.ActualValue
                                });
                                rpoContext.SaveChanges();
                            }


                        }
                        else if (item.Field.FieldName == "txtExisting_MDC")
                        {
                            string DwellingClassification = job != null && job.RfpAddress != null && job.RfpAddress.MultipleDwellingClassification != null ? job.RfpAddress.MultipleDwellingClassification.Code : string.Empty;

                            if (updateJobDocumentField == null)
                            {
                                JobDocumentField JobDocumentField = new JobDocumentField
                                {
                                    IdJobDocument = idJobDocument,
                                    IdDocumentField = Convert.ToInt32(item.Id),
                                    Value = DwellingClassification,
                                    ActualValue = DwellingClassification
                                };
                                rpoContext.JobDocumentFields.Add(JobDocumentField);
                            }
                            else
                            {
                                string pdffield = rpoContext.DocumentFields.Where(x => x.IdField == item.IdField).Select(x => x.PdfFields).FirstOrDefault();
                                pdfFields.Add(pdffield);
                                updateJobDocumentField.Value = DwellingClassification;
                                updateJobDocumentField.ActualValue = DwellingClassification;
                                rpoContext.Entry(updateJobDocumentField).State = EntityState.Modified;
                                FieldsValue.Add(new IdItemName
                                {
                                    Id = pdffield,
                                    ItemName = updateJobDocumentField.ActualValue
                                });
                                rpoContext.SaveChanges();
                            }

                        }




                        else if (item.Field.FieldName == "txtExisting_Height")
                        {
                            int? intheight = job != null && job.RfpAddress != null ? job.RfpAddress.Feet : 0;
                            string height = Convert.ToString(intheight);
                            if (intheight == 0)
                            {
                                height = string.Empty;
                            }
                            if (updateJobDocumentField == null)
                            {
                                JobDocumentField JobDocumentField = new JobDocumentField
                                {
                                    IdJobDocument = idJobDocument,
                                    IdDocumentField = Convert.ToInt32(item.Id),
                                    Value = height,
                                    ActualValue = height
                                };
                                rpoContext.JobDocumentFields.Add(JobDocumentField);
                            }
                            else
                            {
                                string pdffield = rpoContext.DocumentFields.Where(x => x.IdField == item.IdField).Select(x => x.PdfFields).FirstOrDefault();
                                pdfFields.Add(pdffield);
                                updateJobDocumentField.Value = height;
                                updateJobDocumentField.ActualValue = height;
                                rpoContext.Entry(updateJobDocumentField).State = EntityState.Modified;
                                FieldsValue.Add(new IdItemName
                                {
                                    Id = pdffield,
                                    ItemName = updateJobDocumentField.ActualValue
                                });
                                rpoContext.SaveChanges();
                            }
                        }
                        else if (item.Field.FieldName == "txtProposed_Height")
                        {
                            int? intheight = job != null && job.RfpAddress != null ? job.RfpAddress.Height : 0;
                            string height = Convert.ToString(intheight);
                            if (intheight == 0)
                            {
                                // height = string.Empty;
                            }
                            if (updateJobDocumentField == null)
                            {
                                JobDocumentField JobDocumentField = new JobDocumentField
                                {
                                    IdJobDocument = idJobDocument,
                                    IdDocumentField = Convert.ToInt32(item.Id),
                                    Value = string.Empty,
                                    ActualValue = string.Empty
                                };
                                rpoContext.JobDocumentFields.Add(JobDocumentField);
                            }
                            else
                            {
                                string pdffield = rpoContext.DocumentFields.Where(x => x.IdField == item.IdField).Select(x => x.PdfFields).FirstOrDefault();
                                pdfFields.Add(pdffield);
                                updateJobDocumentField.Value = string.Empty;
                                updateJobDocumentField.ActualValue = string.Empty;
                                rpoContext.Entry(updateJobDocumentField).State = EntityState.Modified;
                                FieldsValue.Add(new IdItemName
                                {
                                    Id = pdffield,
                                    ItemName = updateJobDocumentField.ActualValue
                                });
                                rpoContext.SaveChanges();
                            }
                        }

                        else if (item.Field.FieldName == "txtExisting_Stories")
                        {
                            int? intstories = job != null && job.RfpAddress != null ? job.RfpAddress.Stories : 0;
                            string stories = Convert.ToString(intstories);
                            if (intstories == 0)
                            {
                                stories = string.Empty;
                            }
                            if (updateJobDocumentField == null)
                            {
                                JobDocumentField JobDocumentField = new JobDocumentField
                                {
                                    IdJobDocument = idJobDocument,
                                    IdDocumentField = Convert.ToInt32(item.Id),
                                    Value = stories,
                                    ActualValue = stories
                                };
                                rpoContext.JobDocumentFields.Add(JobDocumentField);
                            }
                            else
                            {
                                string pdffield = rpoContext.DocumentFields.Where(x => x.IdField == item.IdField).Select(x => x.PdfFields).FirstOrDefault();
                                pdfFields.Add(pdffield);
                                updateJobDocumentField.Value = stories;
                                updateJobDocumentField.ActualValue = stories;
                                rpoContext.Entry(updateJobDocumentField).State = EntityState.Modified;
                                FieldsValue.Add(new IdItemName
                                {
                                    Id = pdffield,
                                    ItemName = updateJobDocumentField.ActualValue
                                });
                                rpoContext.SaveChanges();
                            }
                        }

                        else if (item.Field.FieldName == "txtExisting_DwellingUnits")
                        {
                            int? intDwellingUnits = job != null && job.RfpAddress != null ? job.RfpAddress.DwellingUnits : 0;
                            string DwellingUnits = Convert.ToString(intDwellingUnits);
                            if (intDwellingUnits == 0)
                            {
                                DwellingUnits = string.Empty;
                            }
                            if (updateJobDocumentField == null)
                            {
                                JobDocumentField JobDocumentField = new JobDocumentField
                                {
                                    IdJobDocument = idJobDocument,
                                    IdDocumentField = Convert.ToInt32(item.Id),
                                    Value = DwellingUnits,
                                    ActualValue = DwellingUnits
                                };
                                rpoContext.JobDocumentFields.Add(JobDocumentField);
                            }
                            else
                            {
                                string pdffield = rpoContext.DocumentFields.Where(x => x.IdField == item.IdField).Select(x => x.PdfFields).FirstOrDefault();
                                pdfFields.Add(pdffield);
                                updateJobDocumentField.Value = DwellingUnits;
                                updateJobDocumentField.ActualValue = DwellingUnits;
                                rpoContext.Entry(updateJobDocumentField).State = EntityState.Modified;
                                FieldsValue.Add(new IdItemName
                                {
                                    Id = pdffield,
                                    ItemName = updateJobDocumentField.ActualValue
                                });
                                rpoContext.SaveChanges();
                            }

                        }
                        else if (item.Field.FieldName == "chkS")
                        {
                            string postapproval = string.Empty;

                            if (docuementType == "Initial Filing")
                            {
                                //  postapproval = "On";

                            }

                            if (updateJobDocumentField == null)
                            {
                                JobDocumentField JobDocumentField = new JobDocumentField
                                {
                                    IdJobDocument = idJobDocument,
                                    IdDocumentField = Convert.ToInt32(item.Id),
                                    Value = postapproval,
                                    ActualValue = postapproval
                                };
                                rpoContext.JobDocumentFields.Add(JobDocumentField);
                            }
                            else
                            {
                                string pdffield = rpoContext.DocumentFields.Where(x => x.IdField == item.IdField).Select(x => x.PdfFields).FirstOrDefault();
                                pdfFields.Add(pdffield);
                                updateJobDocumentField.Value = postapproval;
                                updateJobDocumentField.ActualValue = postapproval;
                                rpoContext.Entry(updateJobDocumentField).State = EntityState.Modified;
                                FieldsValue.Add(new IdItemName
                                {
                                    Id = pdffield,
                                    ItemName = updateJobDocumentField.ActualValue
                                });
                                rpoContext.SaveChanges();
                            }
                        }
                        else if (item.Field.FieldName == "chkC")
                        {
                            string postapproval = string.Empty;

                            if (docuementType == "Initial Filing")
                            {
                                // postapproval = "On";

                            }

                            if (updateJobDocumentField == null)
                            {
                                JobDocumentField JobDocumentField = new JobDocumentField
                                {
                                    IdJobDocument = idJobDocument,
                                    IdDocumentField = Convert.ToInt32(item.Id),
                                    Value = postapproval,
                                    ActualValue = postapproval
                                };
                                rpoContext.JobDocumentFields.Add(JobDocumentField);
                            }
                            else
                            {
                                string pdffield = rpoContext.DocumentFields.Where(x => x.IdField == item.IdField).Select(x => x.PdfFields).FirstOrDefault();
                                pdfFields.Add(pdffield);
                                updateJobDocumentField.Value = postapproval;
                                updateJobDocumentField.ActualValue = postapproval;
                                rpoContext.Entry(updateJobDocumentField).State = EntityState.Modified;
                                FieldsValue.Add(new IdItemName
                                {
                                    Id = pdffield,
                                    ItemName = updateJobDocumentField.ActualValue
                                });
                                rpoContext.SaveChanges();
                            }
                        }
                        else if (item.Field.FieldName == "chkO")
                        {
                            string postapproval = string.Empty;

                            if (docuementType == "Initial Filing")
                            {
                                // postapproval = "On";

                            }

                            if (updateJobDocumentField == null)
                            {
                                JobDocumentField JobDocumentField = new JobDocumentField
                                {
                                    IdJobDocument = idJobDocument,
                                    IdDocumentField = Convert.ToInt32(item.Id),
                                    Value = postapproval,
                                    ActualValue = postapproval
                                };
                                rpoContext.JobDocumentFields.Add(JobDocumentField);
                            }
                            else
                            {
                                string pdffield = rpoContext.DocumentFields.Where(x => x.IdField == item.IdField).Select(x => x.PdfFields).FirstOrDefault();
                                pdfFields.Add(pdffield);
                                updateJobDocumentField.Value = postapproval;
                                updateJobDocumentField.ActualValue = postapproval;
                                rpoContext.Entry(updateJobDocumentField).State = EntityState.Modified;
                                FieldsValue.Add(new IdItemName
                                {
                                    Id = pdffield,
                                    ItemName = updateJobDocumentField.ActualValue
                                });
                                rpoContext.SaveChanges();
                            }
                        }
                        else if (item.Field.FieldName == "chkBSANo")
                        {
                            bool isBSA = job != null && job.RfpAddress != null ? Convert.ToBoolean(job.RfpAddress.IsBSADecision) : false;
                            string BSA = string.Empty;
                            if (docuementType == "Initial Filing")
                            {
                                // BSA = "On";
                                if (isBSA)
                                { BSA = "1"; }
                                else { BSA = "2"; }
                            }

                            if (updateJobDocumentField == null)
                            {
                                JobDocumentField JobDocumentField = new JobDocumentField
                                {
                                    IdJobDocument = idJobDocument,
                                    IdDocumentField = Convert.ToInt32(item.Id),
                                    Value = BSA,
                                    ActualValue = BSA
                                };
                                rpoContext.JobDocumentFields.Add(JobDocumentField);
                            }
                            else
                            {
                                string pdffield = rpoContext.DocumentFields.Where(x => x.IdField == item.IdField).Select(x => x.PdfFields).FirstOrDefault();
                                pdfFields.Add(pdffield);
                                updateJobDocumentField.Value = BSA;
                                updateJobDocumentField.ActualValue = BSA;
                                rpoContext.Entry(updateJobDocumentField).State = EntityState.Modified;
                                FieldsValue.Add(new IdItemName
                                {
                                    Id = pdffield,
                                    ItemName = updateJobDocumentField.ActualValue
                                });
                                rpoContext.SaveChanges();
                            }
                        }
                        else if (item.Field.FieldName == "chkwC")
                        {
                            string priortoApproval = string.Empty;

                            if (docuementType == "Prior to Approval - Subsequent Filing" || docuementType == "Prior to Approval - Amend Existing File")
                            {
                                priortoApproval = "1";

                            }

                            if (updateJobDocumentField == null)
                            {
                                JobDocumentField JobDocumentField = new JobDocumentField
                                {
                                    IdJobDocument = idJobDocument,
                                    IdDocumentField = Convert.ToInt32(item.Id),
                                    Value = priortoApproval,
                                    ActualValue = priortoApproval
                                };
                                rpoContext.JobDocumentFields.Add(JobDocumentField);
                            }
                            else
                            {

                                string pdffield = rpoContext.DocumentFields.Where(x => x.IdField == item.IdField).Select(x => x.PdfFields).FirstOrDefault();
                                pdfFields.Add(pdffield);
                                updateJobDocumentField.Value = priortoApproval;
                                updateJobDocumentField.ActualValue = priortoApproval;
                                rpoContext.Entry(updateJobDocumentField).State = EntityState.Modified;
                                FieldsValue.Add(new IdItemName
                                {
                                    Id = pdffield,
                                    ItemName = updateJobDocumentField.ActualValue
                                });
                                rpoContext.SaveChanges();
                            }
                        }

                        else if (item.Field.FieldName == "chkwCA")
                        {
                            string priortoapprovalexisting = string.Empty;

                            if (docuementType.Trim().ToLower() == "Prior to Approval - Amend Existing File".Trim().ToLower())
                            {
                                priortoapprovalexisting = "On";

                            }
                            if (updateJobDocumentField == null)
                            {
                                JobDocumentField JobDocumentField = new JobDocumentField
                                {
                                    IdJobDocument = idJobDocument,
                                    IdDocumentField = Convert.ToInt32(item.Id),
                                    Value = priortoapprovalexisting,
                                    ActualValue = priortoapprovalexisting
                                };
                                rpoContext.JobDocumentFields.Add(JobDocumentField);
                            }
                            else
                            {
                                string pdffield = rpoContext.DocumentFields.Where(x => x.IdField == item.IdField).Select(x => x.PdfFields).FirstOrDefault();
                                pdfFields.Add(pdffield);
                                updateJobDocumentField.Value = priortoapprovalexisting;
                                updateJobDocumentField.ActualValue = priortoapprovalexisting;
                                rpoContext.Entry(updateJobDocumentField).State = EntityState.Modified;
                                FieldsValue.Add(new IdItemName
                                {
                                    Id = pdffield,
                                    ItemName = updateJobDocumentField.ActualValue
                                });
                                rpoContext.SaveChanges();
                            }
                        }
                        else if (item.Field.FieldName == "chkwCW")
                        {
                            string priortoapprovalsubsequent = string.Empty;

                            if (docuementType == "Prior to Approval - Subsequent Filing")
                            {
                                priortoapprovalsubsequent = "On";

                            }

                            if (updateJobDocumentField == null)
                            {
                                JobDocumentField JobDocumentField = new JobDocumentField
                                {
                                    IdJobDocument = idJobDocument,
                                    IdDocumentField = Convert.ToInt32(item.Id),
                                    Value = priortoapprovalsubsequent,
                                    ActualValue = priortoapprovalsubsequent
                                };
                                rpoContext.JobDocumentFields.Add(JobDocumentField);
                            }
                            else
                            {
                                string pdffield = rpoContext.DocumentFields.Where(x => x.IdField == item.IdField).Select(x => x.PdfFields).FirstOrDefault();
                                pdfFields.Add(pdffield);
                                updateJobDocumentField.Value = priortoapprovalsubsequent;
                                updateJobDocumentField.ActualValue = priortoapprovalsubsequent;
                                rpoContext.Entry(updateJobDocumentField).State = EntityState.Modified;
                                FieldsValue.Add(new IdItemName
                                {
                                    Id = pdffield,
                                    ItemName = updateJobDocumentField.ActualValue
                                });
                                rpoContext.SaveChanges();
                            }
                        }                       
                        else if (item.Field.FieldName == "chkwPA")
                        {
                            string postapproval = string.Empty;

                            if (docuementType == "Initial Filing")
                            {
                                postapproval = "1";

                            }

                            if (updateJobDocumentField == null)
                            {
                                JobDocumentField JobDocumentField = new JobDocumentField
                                {
                                    IdJobDocument = idJobDocument,
                                    IdDocumentField = Convert.ToInt32(item.Id),
                                    Value = postapproval,
                                    ActualValue = postapproval
                                };
                                rpoContext.JobDocumentFields.Add(JobDocumentField);
                            }
                            else
                            {
                                string pdffield = rpoContext.DocumentFields.Where(x => x.IdField == item.IdField).Select(x => x.PdfFields).FirstOrDefault();
                                pdfFields.Add(pdffield);
                                updateJobDocumentField.Value = postapproval;
                                updateJobDocumentField.ActualValue = postapproval;
                                rpoContext.Entry(updateJobDocumentField).State = EntityState.Modified;
                                FieldsValue.Add(new IdItemName
                                {
                                    Id = pdffield,
                                    ItemName = updateJobDocumentField.ActualValue
                                });
                                rpoContext.SaveChanges();
                            }
                        }
                        else if (item.Field.FieldName == "chkwRE")
                        {
                            string Reinstatement = string.Empty;

                            if (docuementType == "Reinstatement")
                            {
                                Reinstatement = "1";

                            }

                            if (updateJobDocumentField == null)
                            {
                                JobDocumentField JobDocumentField = new JobDocumentField
                                {
                                    IdJobDocument = idJobDocument,
                                    IdDocumentField = Convert.ToInt32(item.Id),
                                    Value = Reinstatement,
                                    ActualValue = Reinstatement
                                };
                                rpoContext.JobDocumentFields.Add(JobDocumentField);
                            }
                            else
                            {
                                string pdffield = rpoContext.DocumentFields.Where(x => x.IdField == item.IdField).Select(x => x.PdfFields).FirstOrDefault();
                                pdfFields.Add(pdffield);
                                updateJobDocumentField.Value = Reinstatement;
                                updateJobDocumentField.ActualValue = Reinstatement;
                                rpoContext.Entry(updateJobDocumentField).State = EntityState.Modified;
                                FieldsValue.Add(new IdItemName
                                {
                                    Id = pdffield,
                                    ItemName = updateJobDocumentField.ActualValue
                                });
                                rpoContext.SaveChanges();
                            }
                        }
                        else if (item.Field.FieldName == "chkwW")
                        {
                            string withdraw = string.Empty;

                            if (docuementType == "Withdrawal - Partial" || docuementType == "Withdrawal - Entire Job")
                            {
                                withdraw = "1";

                            }

                            if (updateJobDocumentField == null)
                            {
                                JobDocumentField JobDocumentField = new JobDocumentField
                                {
                                    IdJobDocument = idJobDocument,
                                    IdDocumentField = Convert.ToInt32(item.Id),
                                    Value = withdraw,
                                    ActualValue = withdraw
                                };
                                rpoContext.JobDocumentFields.Add(JobDocumentField);
                            }
                            else
                            {
                                string pdffield = rpoContext.DocumentFields.Where(x => x.IdField == item.IdField).Select(x => x.PdfFields).FirstOrDefault();
                                pdfFields.Add(pdffield);
                                updateJobDocumentField.Value = withdraw;
                                updateJobDocumentField.ActualValue = withdraw;
                                rpoContext.Entry(updateJobDocumentField).State = EntityState.Modified;
                                FieldsValue.Add(new IdItemName
                                {
                                    Id = pdffield,
                                    ItemName = updateJobDocumentField.ActualValue
                                });
                                rpoContext.SaveChanges();
                            }
                        }
                        else if (item.Field.FieldName == "chkwWP")
                        {
                            string withdrawpartial = string.Empty;

                            if (docuementType == "Withdrawal - Partial")
                            {
                                withdrawpartial = "On";

                            }
                            if (updateJobDocumentField == null)
                            {
                                JobDocumentField JobDocumentField = new JobDocumentField
                                {
                                    IdJobDocument = idJobDocument,
                                    IdDocumentField = Convert.ToInt32(item.Id),
                                    Value = withdrawpartial,
                                    ActualValue = withdrawpartial
                                };
                                rpoContext.JobDocumentFields.Add(JobDocumentField);
                            }
                            else
                            {
                                string pdffield = rpoContext.DocumentFields.Where(x => x.IdField == item.IdField).Select(x => x.PdfFields).FirstOrDefault();
                                pdfFields.Add(pdffield);
                                updateJobDocumentField.Value = withdrawpartial;
                                updateJobDocumentField.ActualValue = withdrawpartial;
                                rpoContext.Entry(updateJobDocumentField).State = EntityState.Modified;
                                FieldsValue.Add(new IdItemName
                                {
                                    Id = pdffield,
                                    ItemName = updateJobDocumentField.ActualValue
                                });
                                rpoContext.SaveChanges();
                            }
                        }
                        else if (item.Field.FieldName == "chkwWE")
                        {
                            string withdrawentire = string.Empty;

                            if (docuementType == "Withdrawal - Entire Job")
                            {
                                withdrawentire = "On";

                            }


                            if (updateJobDocumentField == null)
                            {
                                JobDocumentField JobDocumentField = new JobDocumentField
                                {
                                    IdJobDocument = idJobDocument,
                                    IdDocumentField = Convert.ToInt32(item.Id),
                                    Value = withdrawentire,
                                    ActualValue = withdrawentire
                                };
                                rpoContext.JobDocumentFields.Add(JobDocumentField);
                            }
                            else
                            {
                                string pdffield = rpoContext.DocumentFields.Where(x => x.IdField == item.IdField).Select(x => x.PdfFields).FirstOrDefault();
                                pdfFields.Add(pdffield);
                                updateJobDocumentField.Value = withdrawentire;
                                updateJobDocumentField.ActualValue = withdrawentire;
                                rpoContext.Entry(updateJobDocumentField).State = EntityState.Modified;
                                FieldsValue.Add(new IdItemName
                                {
                                    Id = pdffield,
                                    ItemName = updateJobDocumentField.ActualValue
                                });
                                rpoContext.SaveChanges();
                            }
                        }

                        else if (item.Field.FieldName == "chkwPA")
                        {
                            string pa = string.Empty;

                            if (docuementType == "Post Approval Amendment")
                            {
                                pa = "1";

                            }


                            if (updateJobDocumentField == null)
                            {
                                JobDocumentField JobDocumentField = new JobDocumentField
                                {
                                    IdJobDocument = idJobDocument,
                                    IdDocumentField = Convert.ToInt32(item.Id),
                                    Value = pa,
                                    ActualValue = pa
                                };
                                rpoContext.JobDocumentFields.Add(JobDocumentField);
                            }
                            else
                            {
                                string pdffield = rpoContext.DocumentFields.Where(x => x.IdField == item.IdField).Select(x => x.PdfFields).FirstOrDefault();
                                pdfFields.Add(pdffield);
                                updateJobDocumentField.Value = pa;
                                updateJobDocumentField.ActualValue = pa;
                                rpoContext.Entry(updateJobDocumentField).State = EntityState.Modified;
                                FieldsValue.Add(new IdItemName
                                {
                                    Id = pdffield,
                                    ItemName = updateJobDocumentField.ActualValue
                                });
                                rpoContext.SaveChanges();
                            }
                        }


                        else if (item.Field.FieldName == "chkwNA")
                        {
                            string chkwNA = string.Empty;

                            if (docuementType == "New Applicant")
                            {
                                chkwNA = "1";

                            }


                            if (updateJobDocumentField == null)
                            {
                                JobDocumentField JobDocumentField = new JobDocumentField
                                {
                                    IdJobDocument = idJobDocument,
                                    IdDocumentField = Convert.ToInt32(item.Id),
                                    Value = chkwNA,
                                    ActualValue = chkwNA
                                };
                                rpoContext.JobDocumentFields.Add(JobDocumentField);
                            }
                            else
                            {
                                string pdffield = rpoContext.DocumentFields.Where(x => x.IdField == item.IdField).Select(x => x.PdfFields).FirstOrDefault();
                                pdfFields.Add(pdffield);
                                updateJobDocumentField.Value = chkwNA;
                                updateJobDocumentField.ActualValue = chkwNA;
                                rpoContext.Entry(updateJobDocumentField).State = EntityState.Modified;
                                FieldsValue.Add(new IdItemName
                                {
                                    Id = pdffield,
                                    ItemName = updateJobDocumentField.ActualValue
                                });
                                rpoContext.SaveChanges();
                            }
                        }

                        else if (item.Field.FieldName == "chk6BL")
                        {
                            String val = String.Empty;

                            permitTypecodeArr = permitTypecode.Split(',').ToArray();

                            var str = Array.FindAll(permitTypecodeArr, s => s.Equals("BL"));

                            if (str.Length > 0)
                            {
                                val = "On";

                            }
                            if (updateJobDocumentField == null)
                            {
                                JobDocumentField JobDocumentField = new JobDocumentField
                                {
                                    IdJobDocument = idJobDocument,
                                    IdDocumentField = Convert.ToInt32(item.Id),
                                    Value = val,
                                    ActualValue = val
                                };
                                rpoContext.JobDocumentFields.Add(JobDocumentField);
                            }
                            else
                            {
                                string pdffield = rpoContext.DocumentFields.Where(x => x.IdField == item.IdField).Select(x => x.PdfFields).FirstOrDefault();
                                pdfFields.Add(pdffield);
                                updateJobDocumentField.Value = val;
                                updateJobDocumentField.ActualValue = val;
                                rpoContext.Entry(updateJobDocumentField).State = EntityState.Modified;
                                FieldsValue.Add(new IdItemName
                                {
                                    Id = pdffield,
                                    ItemName = updateJobDocumentField.ActualValue
                                });
                                rpoContext.SaveChanges();
                            }
                        }
                        else if (item.Field.FieldName == "chk6FA")
                        {

                            String val = String.Empty;

                            permitTypecodeArr = permitTypecode.Split(',').ToArray();

                            var str = Array.FindAll(permitTypecodeArr, s => s.Equals("FA/New"));

                            if (str.Length > 0)
                            {
                                val = "On";

                            }


                            if (updateJobDocumentField == null)
                            {
                                JobDocumentField JobDocumentField = new JobDocumentField
                                {
                                    IdJobDocument = idJobDocument,
                                    IdDocumentField = Convert.ToInt32(item.Id),
                                    Value = val,
                                    ActualValue = val
                                };
                                rpoContext.JobDocumentFields.Add(JobDocumentField);
                            }
                            else
                            {
                                string pdffield = rpoContext.DocumentFields.Where(x => x.IdField == item.IdField).Select(x => x.PdfFields).FirstOrDefault();
                                pdfFields.Add(pdffield);
                                updateJobDocumentField.Value = val;
                                updateJobDocumentField.ActualValue = val;
                                rpoContext.Entry(updateJobDocumentField).State = EntityState.Modified;
                                FieldsValue.Add(new IdItemName
                                {
                                    Id = pdffield,
                                    ItemName = updateJobDocumentField.ActualValue
                                });
                                rpoContext.SaveChanges();
                            }
                        }
                        else if (item.Field.FieldName == "chk6FB")
                        {

                            String val = String.Empty;

                            permitTypecodeArr = permitTypecode.Split(',').ToArray();

                            var str = Array.FindAll(permitTypecodeArr, s => s.Equals("FB"));

                            if (str.Length > 0)
                            {
                                val = "On";

                            }

                            if (updateJobDocumentField == null)
                            {
                                JobDocumentField JobDocumentField = new JobDocumentField
                                {
                                    IdJobDocument = idJobDocument,
                                    IdDocumentField = Convert.ToInt32(item.Id),
                                    Value = val,
                                    ActualValue = val
                                };
                                rpoContext.JobDocumentFields.Add(JobDocumentField);
                            }
                            else
                            {
                                string pdffield = rpoContext.DocumentFields.Where(x => x.IdField == item.IdField).Select(x => x.PdfFields).FirstOrDefault();
                                pdfFields.Add(pdffield);
                                updateJobDocumentField.Value = val;
                                updateJobDocumentField.ActualValue = val;
                                rpoContext.Entry(updateJobDocumentField).State = EntityState.Modified;
                                FieldsValue.Add(new IdItemName
                                {
                                    Id = pdffield,
                                    ItemName = updateJobDocumentField.ActualValue
                                });
                                rpoContext.SaveChanges();
                            }
                        }
                        else if (item.Field.FieldName == "chk6FS")
                        {


                            String val = String.Empty;

                            permitTypecodeArr = permitTypecode.Split(',').ToArray();

                            var str = Array.FindAll(permitTypecodeArr, s => s.Equals("FS"));

                            if (str.Length > 0)
                            {
                                val = "On";
                            }

                            if (updateJobDocumentField == null)
                            {
                                JobDocumentField JobDocumentField = new JobDocumentField
                                {
                                    IdJobDocument = idJobDocument,
                                    IdDocumentField = Convert.ToInt32(item.Id),
                                    Value = val,
                                    ActualValue = val
                                };
                                rpoContext.JobDocumentFields.Add(JobDocumentField);
                            }
                            else
                            {
                                string pdffield = rpoContext.DocumentFields.Where(x => x.IdField == item.IdField).Select(x => x.PdfFields).FirstOrDefault();
                                pdfFields.Add(pdffield);
                                updateJobDocumentField.Value = val;
                                updateJobDocumentField.ActualValue = val;
                                rpoContext.Entry(updateJobDocumentField).State = EntityState.Modified;
                                FieldsValue.Add(new IdItemName
                                {
                                    Id = pdffield,
                                    ItemName = updateJobDocumentField.ActualValue
                                });
                                rpoContext.SaveChanges();
                            }
                        }
                        else if (item.Field.FieldName == "chk6FP")
                        {


                            String val = String.Empty;

                            permitTypecodeArr = permitTypecode.Split(',').ToArray();

                            var str = Array.FindAll(permitTypecodeArr, s => s.Equals("FP"));

                            if (str.Length > 0)
                            {
                                val = "On";

                            }

                            if (updateJobDocumentField == null)
                            {
                                JobDocumentField JobDocumentField = new JobDocumentField
                                {
                                    IdJobDocument = idJobDocument,
                                    IdDocumentField = Convert.ToInt32(item.Id),
                                    Value = val,
                                    ActualValue = val
                                };
                                rpoContext.JobDocumentFields.Add(JobDocumentField);
                            }
                            else
                            {
                                string pdffield = rpoContext.DocumentFields.Where(x => x.IdField == item.IdField).Select(x => x.PdfFields).FirstOrDefault();
                                pdfFields.Add(pdffield);
                                updateJobDocumentField.Value = val;
                                updateJobDocumentField.ActualValue = val;
                                rpoContext.Entry(updateJobDocumentField).State = EntityState.Modified;
                                FieldsValue.Add(new IdItemName
                                {
                                    Id = pdffield,
                                    ItemName = updateJobDocumentField.ActualValue
                                });
                                rpoContext.SaveChanges();
                            }
                        }
                        else if (item.Field.FieldName == "chk6MH")
                        {

                            String val = String.Empty;

                            permitTypecodeArr = permitTypecode.Split(',').ToArray();

                            var str = Array.FindAll(permitTypecodeArr, s => s.Equals("MH"));

                            if (str.Length > 0)
                            {
                                val = "On";

                            }

                            if (updateJobDocumentField == null)
                            {
                                JobDocumentField JobDocumentField = new JobDocumentField
                                {
                                    IdJobDocument = idJobDocument,
                                    IdDocumentField = Convert.ToInt32(item.Id),
                                    Value = val,
                                    ActualValue = val
                                };
                                rpoContext.JobDocumentFields.Add(JobDocumentField);
                            }
                            else
                            {
                                string pdffield = rpoContext.DocumentFields.Where(x => x.IdField == item.IdField).Select(x => x.PdfFields).FirstOrDefault();
                                pdfFields.Add(pdffield);
                                updateJobDocumentField.Value = val;
                                updateJobDocumentField.ActualValue = val;
                                rpoContext.Entry(updateJobDocumentField).State = EntityState.Modified;
                                FieldsValue.Add(new IdItemName
                                {
                                    Id = pdffield,
                                    ItemName = updateJobDocumentField.ActualValue
                                });
                                rpoContext.SaveChanges();
                            }
                        }
                        else if (item.Field.FieldName == "chk6PL")
                        {

                            String val = String.Empty;

                            permitTypecodeArr = permitTypecode.Split(',').ToArray();

                            var str = Array.FindAll(permitTypecodeArr, s => s.Equals("PL"));

                            if (str.Length > 0)
                            {
                                val = "On";

                            }


                            if (updateJobDocumentField == null)
                            {
                                JobDocumentField JobDocumentField = new JobDocumentField
                                {
                                    IdJobDocument = idJobDocument,
                                    IdDocumentField = Convert.ToInt32(item.Id),
                                    Value = val,
                                    ActualValue = val
                                };
                                rpoContext.JobDocumentFields.Add(JobDocumentField);
                            }
                            else
                            {
                                string pdffield = rpoContext.DocumentFields.Where(x => x.IdField == item.IdField).Select(x => x.PdfFields).FirstOrDefault();
                                pdfFields.Add(pdffield);
                                updateJobDocumentField.Value = val;
                                updateJobDocumentField.ActualValue = val;
                                rpoContext.Entry(updateJobDocumentField).State = EntityState.Modified;
                                FieldsValue.Add(new IdItemName
                                {
                                    Id = pdffield,
                                    ItemName = updateJobDocumentField.ActualValue
                                });

                                rpoContext.SaveChanges();
                            }
                        }
                        else if (item.Field.FieldName == "chk6SD")
                        {

                            String val = String.Empty;

                            permitTypecodeArr = permitTypecode.Split(',').ToArray();

                            var str = Array.FindAll(permitTypecodeArr, s => s.Equals("SD"));

                            if (str.Length > 0)
                            {
                                val = "On";

                            }


                            if (updateJobDocumentField == null)
                            {
                                JobDocumentField JobDocumentField = new JobDocumentField
                                {
                                    IdJobDocument = idJobDocument,
                                    IdDocumentField = Convert.ToInt32(item.Id),
                                    Value = val,
                                    ActualValue = val
                                };
                                rpoContext.JobDocumentFields.Add(JobDocumentField);
                            }
                            else
                            {
                                string pdffield = rpoContext.DocumentFields.Where(x => x.IdField == item.IdField).Select(x => x.PdfFields).FirstOrDefault();
                                pdfFields.Add(pdffield);
                                updateJobDocumentField.Value = val;
                                updateJobDocumentField.ActualValue = val;
                                rpoContext.Entry(updateJobDocumentField).State = EntityState.Modified;
                                FieldsValue.Add(new IdItemName
                                {
                                    Id = pdffield,
                                    ItemName = updateJobDocumentField.ActualValue
                                });
                                rpoContext.SaveChanges();
                            }
                        }
                        else if (item.Field.FieldName == "chk6SP")
                        {

                            String val = String.Empty;

                            permitTypecodeArr = permitTypecode.Split(',').ToArray();

                            var str = Array.FindAll(permitTypecodeArr, s => s.Equals("SP"));

                            if (str.Length > 0)
                            {
                                val = "On";

                            }


                            if (updateJobDocumentField == null)
                            {
                                JobDocumentField JobDocumentField = new JobDocumentField
                                {
                                    IdJobDocument = idJobDocument,
                                    IdDocumentField = Convert.ToInt32(item.Id),
                                    Value = val,
                                    ActualValue = val
                                };
                                rpoContext.JobDocumentFields.Add(JobDocumentField);
                            }
                            else
                            {
                                string pdffield = rpoContext.DocumentFields.Where(x => x.IdField == item.IdField).Select(x => x.PdfFields).FirstOrDefault();
                                pdfFields.Add(pdffield);
                                updateJobDocumentField.Value = val;
                                updateJobDocumentField.ActualValue = val;
                                rpoContext.Entry(updateJobDocumentField).State = EntityState.Modified;
                                FieldsValue.Add(new IdItemName
                                {
                                    Id = pdffield,
                                    ItemName = updateJobDocumentField.ActualValue
                                });
                                rpoContext.SaveChanges();
                            }
                        }
                        else if (item.Field.FieldName == "chk6GC")
                        {
                            String val = String.Empty;

                            permitTypecodeArr = permitTypecode.Split(',').ToArray();

                            var str = Array.FindAll(permitTypecodeArr, s => s.Equals("OT/GC"));

                            if (str.Length > 0)
                            {
                                val = "On";

                            }

                            if (updateJobDocumentField == null)
                            {
                                JobDocumentField JobDocumentField = new JobDocumentField
                                {
                                    IdJobDocument = idJobDocument,
                                    IdDocumentField = Convert.ToInt32(item.Id),
                                    Value = val,
                                    ActualValue = val
                                };
                                rpoContext.JobDocumentFields.Add(JobDocumentField);
                            }
                            else
                            {
                                string pdffield = rpoContext.DocumentFields.Where(x => x.IdField == item.IdField).Select(x => x.PdfFields).FirstOrDefault();
                                pdfFields.Add(pdffield);
                                updateJobDocumentField.Value = val;
                                updateJobDocumentField.ActualValue = val;
                                rpoContext.Entry(updateJobDocumentField).State = EntityState.Modified;
                                FieldsValue.Add(new IdItemName
                                {
                                    Id = pdffield,
                                    ItemName = updateJobDocumentField.ActualValue
                                });
                                rpoContext.SaveChanges();
                            }
                        }



                        else if (item.Field.FieldName == "txtTotalEstCost")
                        {
                            if (updateJobDocumentField == null)
                            {
                                JobDocumentField JobDocumentField = new JobDocumentField
                                {
                                    IdJobDocument = idJobDocument,
                                    IdDocumentField = Convert.ToInt32(item.Id),
                                    Value = estfees,
                                    ActualValue = estfees
                                };
                                rpoContext.JobDocumentFields.Add(JobDocumentField);
                            }
                            else
                            {
                                string pdffield = rpoContext.DocumentFields.Where(x => x.IdField == item.IdField).Select(x => x.PdfFields).FirstOrDefault();
                                pdfFields.Add(pdffield);
                                updateJobDocumentField.Value = estfees;
                                updateJobDocumentField.ActualValue = estfees;
                                rpoContext.Entry(updateJobDocumentField).State = EntityState.Modified;
                                FieldsValue.Add(new IdItemName
                                {
                                    Id = pdffield,
                                    ItemName = updateJobDocumentField.ActualValue
                                });
                                rpoContext.SaveChanges();
                            }
                        }


                        else if (item.Field.FieldName == "txtApplicantName")
                        {

                            if (docuementType == "Withdrwal - Entire Job" || docuementType == "Withdrwal - Partial")
                            {
                                applicantName = string.Empty;
                            }
                            if (updateJobDocumentField == null)
                            {
                                JobDocumentField JobDocumentField = new JobDocumentField
                                {
                                    IdJobDocument = idJobDocument,
                                    IdDocumentField = Convert.ToInt32(item.Id),
                                    Value = applicantName,
                                    ActualValue = applicantName
                                };
                                rpoContext.JobDocumentFields.Add(JobDocumentField);
                            }
                            else
                            {
                                string pdffield = rpoContext.DocumentFields.Where(x => x.IdField == item.IdField).Select(x => x.PdfFields).FirstOrDefault();
                                pdfFields.Add(pdffield);
                                updateJobDocumentField.Value = applicantName;
                                updateJobDocumentField.ActualValue = applicantName;
                                rpoContext.Entry(updateJobDocumentField).State = EntityState.Modified;
                                FieldsValue.Add(new IdItemName
                                {
                                    Id = pdffield,
                                    ItemName = updateJobDocumentField.ActualValue
                                });
                                rpoContext.SaveChanges();
                            }
                        }


                        else if (item.Field.FieldName == "txtLR_Name")
                        {
                            if (docuementType == "Prior to Approval - Subsequent Filing")
                            {
                                LR_Name = string.Empty;
                            }
                            if (updateJobDocumentField == null)
                            {
                                JobDocumentField JobDocumentField = new JobDocumentField
                                {
                                    IdJobDocument = idJobDocument,
                                    IdDocumentField = Convert.ToInt32(item.Id),
                                    Value = LR_Name,
                                    ActualValue = LR_Name
                                };
                                rpoContext.JobDocumentFields.Add(JobDocumentField);
                            }
                            else
                            {
                                string pdffield = rpoContext.DocumentFields.Where(x => x.IdField == item.IdField).Select(x => x.PdfFields).FirstOrDefault();
                                pdfFields.Add(pdffield);
                                updateJobDocumentField.Value = LR_Name;
                                updateJobDocumentField.ActualValue = LR_Name;
                                rpoContext.Entry(updateJobDocumentField).State = EntityState.Modified;
                                FieldsValue.Add(new IdItemName
                                {
                                    Id = pdffield,
                                    ItemName = updateJobDocumentField.ActualValue
                                });
                                rpoContext.SaveChanges();
                            }
                        }
                        else if (item.Field.FieldName == "txtLR_Relationship")
                        {
                            if (docuementType == "Prior to Approval - Subsequent Filing")
                            {
                                LR_Relationship = string.Empty;
                            }
                            if (updateJobDocumentField == null)
                            {
                                JobDocumentField JobDocumentField = new JobDocumentField
                                {
                                    IdJobDocument = idJobDocument,
                                    IdDocumentField = Convert.ToInt32(item.Id),
                                    Value = LR_Relationship,
                                    ActualValue = LR_Relationship
                                };
                                rpoContext.JobDocumentFields.Add(JobDocumentField);
                            }
                            else
                            {
                                string pdffield = rpoContext.DocumentFields.Where(x => x.IdField == item.IdField).Select(x => x.PdfFields).FirstOrDefault();
                                pdfFields.Add(pdffield);
                                updateJobDocumentField.Value = LR_Relationship;
                                updateJobDocumentField.ActualValue = LR_Relationship;
                                rpoContext.Entry(updateJobDocumentField).State = EntityState.Modified;
                                FieldsValue.Add(new IdItemName
                                {
                                    Id = pdffield,
                                    ItemName = updateJobDocumentField.ActualValue
                                });
                                rpoContext.SaveChanges();
                            }
                        }
                        else if (item.Field.FieldName == "txtLR_Company")
                        {
                            if (docuementType == "Prior to Approval - Subsequent Filing")
                            {
                                LR_Company = string.Empty;
                            }
                            if (updateJobDocumentField == null)
                            {
                                JobDocumentField JobDocumentField = new JobDocumentField
                                {
                                    IdJobDocument = idJobDocument,
                                    IdDocumentField = Convert.ToInt32(item.Id),
                                    Value = LR_Company,
                                    ActualValue = LR_Company
                                };
                                rpoContext.JobDocumentFields.Add(JobDocumentField);
                            }
                            else
                            {
                                string pdffield = rpoContext.DocumentFields.Where(x => x.IdField == item.IdField).Select(x => x.PdfFields).FirstOrDefault();
                                pdfFields.Add(pdffield);
                                updateJobDocumentField.Value = LR_Company;
                                updateJobDocumentField.ActualValue = LR_Company;
                                rpoContext.Entry(updateJobDocumentField).State = EntityState.Modified;
                                FieldsValue.Add(new IdItemName
                                {
                                    Id = pdffield,
                                    ItemName = updateJobDocumentField.ActualValue
                                });
                                rpoContext.SaveChanges();
                            }
                        }
                        else if (item.Field.FieldName == "txtLR_Address")
                        {
                            if (docuementType == "Prior to Approval - Subsequent Filing")
                            {
                                LR_Address = string.Empty;
                            }
                            if (updateJobDocumentField == null)
                            {
                                JobDocumentField JobDocumentField = new JobDocumentField
                                {
                                    IdJobDocument = idJobDocument,
                                    IdDocumentField = Convert.ToInt32(item.Id),
                                    Value = LR_Address,
                                    ActualValue = LR_Address
                                };
                                rpoContext.JobDocumentFields.Add(JobDocumentField);
                            }
                            else
                            {
                                string pdffield = rpoContext.DocumentFields.Where(x => x.IdField == item.IdField).Select(x => x.PdfFields).FirstOrDefault();
                                pdfFields.Add(pdffield);
                                updateJobDocumentField.Value = LR_Address;
                                updateJobDocumentField.ActualValue = LR_Address;
                                rpoContext.Entry(updateJobDocumentField).State = EntityState.Modified;
                                FieldsValue.Add(new IdItemName
                                {
                                    Id = pdffield,
                                    ItemName = updateJobDocumentField.ActualValue
                                });
                                rpoContext.SaveChanges();
                            }
                        }
                        else if (item.Field.FieldName == "txtLR_City")
                        {
                            if (docuementType == "Prior to Approval - Subsequent Filing")
                            {
                                LR_City = string.Empty;
                            }
                            if (updateJobDocumentField == null)
                            {
                                JobDocumentField JobDocumentField = new JobDocumentField
                                {
                                    IdJobDocument = idJobDocument,
                                    IdDocumentField = Convert.ToInt32(item.Id),
                                    Value = LR_City,
                                    ActualValue = LR_City
                                };
                                rpoContext.JobDocumentFields.Add(JobDocumentField);
                            }
                            else
                            {
                                string pdffield = rpoContext.DocumentFields.Where(x => x.IdField == item.IdField).Select(x => x.PdfFields).FirstOrDefault();
                                pdfFields.Add(pdffield);
                                updateJobDocumentField.Value = LR_City;
                                updateJobDocumentField.ActualValue = LR_City;
                                rpoContext.Entry(updateJobDocumentField).State = EntityState.Modified;
                                FieldsValue.Add(new IdItemName
                                {
                                    Id = pdffield,
                                    ItemName = updateJobDocumentField.ActualValue
                                });
                                rpoContext.SaveChanges();
                            }
                        }
                        else if (item.Field.FieldName == "txtLR_State")
                        {
                            if (docuementType == "Prior to Approval - Subsequent Filing")
                            {
                                LR_State = string.Empty;
                            }
                            if (updateJobDocumentField == null)
                            {
                                JobDocumentField JobDocumentField = new JobDocumentField
                                {
                                    IdJobDocument = idJobDocument,
                                    IdDocumentField = Convert.ToInt32(item.Id),
                                    Value = LR_State,
                                    ActualValue = LR_State
                                };
                                rpoContext.JobDocumentFields.Add(JobDocumentField);
                            }
                            else
                            {
                                string pdffield = rpoContext.DocumentFields.Where(x => x.IdField == item.IdField).Select(x => x.PdfFields).FirstOrDefault();
                                pdfFields.Add(pdffield);
                                updateJobDocumentField.Value = LR_State;
                                updateJobDocumentField.ActualValue = LR_State;
                                rpoContext.Entry(updateJobDocumentField).State = EntityState.Modified;
                                FieldsValue.Add(new IdItemName
                                {
                                    Id = pdffield,
                                    ItemName = updateJobDocumentField.ActualValue
                                });
                                rpoContext.SaveChanges();
                            }
                        }
                        else if (item.Field.FieldName == "txtLR_Zip")
                        {
                            if (docuementType == "Prior to Approval - Subsequent Filing")
                            {
                                LR_Zip = string.Empty;
                            }
                            if (updateJobDocumentField == null)
                            {
                                JobDocumentField JobDocumentField = new JobDocumentField
                                {
                                    IdJobDocument = idJobDocument,
                                    IdDocumentField = Convert.ToInt32(item.Id),
                                    Value = LR_Zip,
                                    ActualValue = LR_Zip
                                };
                                rpoContext.JobDocumentFields.Add(JobDocumentField);
                            }
                            else
                            {
                                string pdffield = rpoContext.DocumentFields.Where(x => x.IdField == item.IdField).Select(x => x.PdfFields).FirstOrDefault();
                                pdfFields.Add(pdffield);
                                updateJobDocumentField.Value = LR_Zip;
                                updateJobDocumentField.ActualValue = LR_Zip;
                                rpoContext.Entry(updateJobDocumentField).State = EntityState.Modified;
                                FieldsValue.Add(new IdItemName
                                {
                                    Id = pdffield,
                                    ItemName = updateJobDocumentField.ActualValue
                                });
                                rpoContext.SaveChanges();
                            }
                        }
                        else if (item.Field.FieldName == "txtLR_Phone")
                        {
                            if (docuementType == "Prior to Approval - Subsequent Filing")
                            {
                                LR_Phone = string.Empty;
                            }
                            if (updateJobDocumentField == null)
                            {
                                JobDocumentField JobDocumentField = new JobDocumentField
                                {
                                    IdJobDocument = idJobDocument,
                                    IdDocumentField = Convert.ToInt32(item.Id),
                                    Value = LR_Phone,
                                    ActualValue = LR_Phone
                                };
                                rpoContext.JobDocumentFields.Add(JobDocumentField);
                            }
                            else
                            {
                                string pdffield = rpoContext.DocumentFields.Where(x => x.IdField == item.IdField).Select(x => x.PdfFields).FirstOrDefault();
                                pdfFields.Add(pdffield);
                                updateJobDocumentField.Value = LR_Phone;
                                updateJobDocumentField.ActualValue = LR_Phone;
                                rpoContext.Entry(updateJobDocumentField).State = EntityState.Modified;
                                FieldsValue.Add(new IdItemName
                                {
                                    Id = pdffield,
                                    ItemName = updateJobDocumentField.ActualValue
                                });
                                rpoContext.SaveChanges();
                            }
                        }
                        else if (item.Field.FieldName == "txtLR_Fax")
                        {
                            if (docuementType == "Prior to Approval - Subsequent Filing")
                            {
                                LR_Fax = string.Empty;
                            }
                            if (updateJobDocumentField == null)
                            {
                                JobDocumentField JobDocumentField = new JobDocumentField
                                {
                                    IdJobDocument = idJobDocument,
                                    IdDocumentField = Convert.ToInt32(item.Id),
                                    Value = LR_Fax,
                                    ActualValue = LR_Fax
                                };
                                rpoContext.JobDocumentFields.Add(JobDocumentField);
                            }
                            else
                            {
                                string pdffield = rpoContext.DocumentFields.Where(x => x.IdField == item.IdField).Select(x => x.PdfFields).FirstOrDefault();
                                pdfFields.Add(pdffield);
                                updateJobDocumentField.Value = LR_Fax;
                                updateJobDocumentField.ActualValue = LR_Fax;
                                rpoContext.Entry(updateJobDocumentField).State = EntityState.Modified;
                                FieldsValue.Add(new IdItemName
                                {
                                    Id = pdffield,
                                    ItemName = updateJobDocumentField.ActualValue
                                });
                                rpoContext.SaveChanges();
                            }
                        }
                        else if (item.Field.FieldName == "txtLR_EMail")
                        {
                            if (docuementType == "Prior to Approval - Subsequent Filing")
                            {
                                LR_EMail = string.Empty;
                            }
                            if (updateJobDocumentField == null)
                            {
                                JobDocumentField JobDocumentField = new JobDocumentField
                                {
                                    IdJobDocument = idJobDocument,
                                    IdDocumentField = Convert.ToInt32(item.Id),
                                    Value = LR_EMail,
                                    ActualValue = LR_EMail
                                };
                                rpoContext.JobDocumentFields.Add(JobDocumentField);
                            }
                            else
                            {
                                string pdffield = rpoContext.DocumentFields.Where(x => x.IdField == item.IdField).Select(x => x.PdfFields).FirstOrDefault();
                                pdfFields.Add(pdffield);
                                updateJobDocumentField.Value = LR_EMail;
                                updateJobDocumentField.ActualValue = LR_EMail;
                                rpoContext.Entry(updateJobDocumentField).State = EntityState.Modified;
                                FieldsValue.Add(new IdItemName
                                {
                                    Id = pdffield,
                                    ItemName = updateJobDocumentField.ActualValue
                                });
                                rpoContext.SaveChanges();
                            }
                        }

                        else if (item.Field.FieldName == "txtComments")
                        {
                            if (updateJobDocumentField == null)
                            {
                                JobDocumentField JobDocumentField = new JobDocumentField
                                {
                                    IdJobDocument = idJobDocument,
                                    IdDocumentField = Convert.ToInt32(item.Id),
                                    Value = comments,
                                    ActualValue = comments
                                };
                                rpoContext.JobDocumentFields.Add(JobDocumentField);
                            }
                            else
                            {
                                string pdffield = rpoContext.DocumentFields.Where(x => x.IdField == item.IdField).Select(x => x.PdfFields).FirstOrDefault();
                                pdfFields.Add(pdffield);
                                updateJobDocumentField.Value = comments;
                                updateJobDocumentField.ActualValue = comments;
                                rpoContext.Entry(updateJobDocumentField).State = EntityState.Modified;
                                FieldsValue.Add(new IdItemName
                                {
                                    Id = pdffield,
                                    ItemName = updateJobDocumentField.ActualValue
                                });
                                rpoContext.SaveChanges();
                            }
                        }
                        else if (item.Field.FieldName == "txtZoning_District")
                        {
                            string zoneDistrict = job != null && job.RfpAddress != null ? job.RfpAddress.ZoneDistrict : string.Empty;


                            if (updateJobDocumentField == null)
                            {
                                JobDocumentField JobDocumentField = new JobDocumentField
                                {
                                    IdJobDocument = idJobDocument,
                                    IdDocumentField = Convert.ToInt32(item.Id),
                                    Value = zoneDistrict,
                                    ActualValue = zoneDistrict
                                };
                                rpoContext.JobDocumentFields.Add(JobDocumentField);
                            }
                            else
                            {
                                string pdffield = rpoContext.DocumentFields.Where(x => x.IdField == item.IdField).Select(x => x.PdfFields).FirstOrDefault();
                                pdfFields.Add(pdffield);
                                updateJobDocumentField.Value = zoneDistrict;
                                updateJobDocumentField.ActualValue = zoneDistrict;
                                rpoContext.Entry(updateJobDocumentField).State = EntityState.Modified;
                                FieldsValue.Add(new IdItemName
                                {
                                    Id = pdffield,
                                    ItemName = updateJobDocumentField.ActualValue
                                });
                                rpoContext.SaveChanges();
                            }
                        }
                        else if (item.Field.FieldName == "txtZoning_Overlay")
                        {
                            if (updateJobDocumentField == null)
                            {
                                JobDocumentField JobDocumentField = new JobDocumentField
                                {
                                    IdJobDocument = idJobDocument,
                                    IdDocumentField = Convert.ToInt32(item.Id),
                                    Value = job != null && job.RfpAddress != null ? job.RfpAddress.Overlay : string.Empty,
                                    ActualValue = job != null && job.RfpAddress != null ? job.RfpAddress.Overlay : string.Empty
                                };
                                rpoContext.JobDocumentFields.Add(JobDocumentField);
                            }
                            else
                            {
                                string pdffield = rpoContext.DocumentFields.Where(x => x.IdField == item.IdField).Select(x => x.PdfFields).FirstOrDefault();
                                pdfFields.Add(pdffield);
                                updateJobDocumentField.Value = job != null && job.RfpAddress != null ? job.RfpAddress.Overlay : string.Empty;
                                updateJobDocumentField.ActualValue = job != null && job.RfpAddress != null ? job.RfpAddress.Overlay : string.Empty;
                                rpoContext.Entry(updateJobDocumentField).State = EntityState.Modified;
                                FieldsValue.Add(new IdItemName
                                {
                                    Id = pdffield,
                                    ItemName = updateJobDocumentField.ActualValue
                                });
                                rpoContext.SaveChanges();
                            }
                        }

                        else if (item.Field.FieldName == "txtZoning_SpecialDistrict")
                        {
                            string zonespecialDistrict = job != null && job.RfpAddress != null ? job.RfpAddress.SpecialDistrict : string.Empty;

                            if (updateJobDocumentField == null)
                            {
                                JobDocumentField JobDocumentField = new JobDocumentField
                                {
                                    IdJobDocument = idJobDocument,
                                    IdDocumentField = Convert.ToInt32(item.Id),
                                    Value = zonespecialDistrict,
                                    ActualValue = zonespecialDistrict
                                };
                                rpoContext.JobDocumentFields.Add(JobDocumentField);
                            }
                            else
                            {
                                string pdffield = rpoContext.DocumentFields.Where(x => x.IdField == item.IdField).Select(x => x.PdfFields).FirstOrDefault();
                                pdfFields.Add(pdffield);
                                updateJobDocumentField.Value = zonespecialDistrict;
                                updateJobDocumentField.ActualValue = zonespecialDistrict;
                                rpoContext.Entry(updateJobDocumentField).State = EntityState.Modified;
                                FieldsValue.Add(new IdItemName
                                {
                                    Id = pdffield,
                                    ItemName = updateJobDocumentField.ActualValue
                                });
                                rpoContext.SaveChanges();
                            }
                        }


                        else if (item.Field.FieldName == "txtMap_No")
                        {
                            string map = job != null && job.RfpAddress != null ? job.RfpAddress.Map : string.Empty;

                            if (updateJobDocumentField == null)
                            {
                                JobDocumentField JobDocumentField = new JobDocumentField
                                {
                                    IdJobDocument = idJobDocument,
                                    IdDocumentField = Convert.ToInt32(item.Id),
                                    Value = map,
                                    ActualValue = map
                                };
                                rpoContext.JobDocumentFields.Add(JobDocumentField);
                            }
                            else
                            {
                                string pdffield = rpoContext.DocumentFields.Where(x => x.IdField == item.IdField).Select(x => x.PdfFields).FirstOrDefault();
                                pdfFields.Add(pdffield);
                                updateJobDocumentField.Value = map;
                                updateJobDocumentField.ActualValue = map;
                                rpoContext.Entry(updateJobDocumentField).State = EntityState.Modified;
                                FieldsValue.Add(new IdItemName
                                {
                                    Id = pdffield,
                                    ItemName = updateJobDocumentField.ActualValue
                                });
                                rpoContext.SaveChanges();
                            }
                        }


                        else if (item.Field.FieldName == "txtSt_Leg_Wth")
                        {
                            string StreetLegalWidth = job != null && job.RfpAddress != null ? Convert.ToString(job.RfpAddress.StreetLegalWidth) : string.Empty;
                            if (updateJobDocumentField == null)
                            {
                                JobDocumentField JobDocumentField = new JobDocumentField
                                {
                                    IdJobDocument = idJobDocument,
                                    IdDocumentField = Convert.ToInt32(item.Id),
                                    Value = StreetLegalWidth,
                                    ActualValue = StreetLegalWidth
                                };
                                rpoContext.JobDocumentFields.Add(JobDocumentField);
                            }
                            else
                            {
                                string pdffield = rpoContext.DocumentFields.Where(x => x.IdField == item.IdField).Select(x => x.PdfFields).FirstOrDefault();
                                pdfFields.Add(pdffield);
                                updateJobDocumentField.Value = StreetLegalWidth;
                                updateJobDocumentField.ActualValue = StreetLegalWidth;
                                rpoContext.Entry(updateJobDocumentField).State = EntityState.Modified;
                                FieldsValue.Add(new IdItemName
                                {
                                    Id = pdffield,
                                    ItemName = updateJobDocumentField.ActualValue
                                });
                                rpoContext.SaveChanges();
                            }
                        }


                        else if (item.Field.FieldName == "txtOwner_Name")
                        {
                            string val = job != null && job.RfpAddress != null && job.RfpAddress.OwnerContact != null ? job.RfpAddress.OwnerContact.FirstName + " " + job.RfpAddress.OwnerContact.LastName : string.Empty;
                            if (docuementType == "Post Approval Amendment")
                            {
                                val = string.Empty;
                            }

                            if (updateJobDocumentField == null)
                            {
                                JobDocumentField JobDocumentField = new JobDocumentField
                                {
                                    IdJobDocument = idJobDocument,
                                    IdDocumentField = Convert.ToInt32(item.Id),
                                    Value = val,
                                    ActualValue = val
                                };
                                rpoContext.JobDocumentFields.Add(JobDocumentField);
                            }
                            else
                            {
                                string pdffield = rpoContext.DocumentFields.Where(x => x.IdField == item.IdField).Select(x => x.PdfFields).FirstOrDefault();
                                pdfFields.Add(pdffield);
                                updateJobDocumentField.Value = val;
                                updateJobDocumentField.ActualValue = val;
                                rpoContext.Entry(updateJobDocumentField).State = EntityState.Modified;
                                FieldsValue.Add(new IdItemName
                                {
                                    Id = pdffield,
                                    ItemName = updateJobDocumentField.ActualValue
                                });
                                rpoContext.SaveChanges();
                            }
                        }
                        else if (item.Field.FieldName == "txtOwner_Relationship")
                        {
                            string val = job != null && job.RfpAddress != null && job.RfpAddress.OwnerContact != null && job.RfpAddress.OwnerContact.ContactTitle != null ? job.RfpAddress.OwnerContact.ContactTitle.Name : string.Empty;
                            if (docuementType == "Post Approval Amendment")
                            {
                                val = string.Empty;
                            }
                            if (updateJobDocumentField == null)
                            {
                                JobDocumentField JobDocumentField = new JobDocumentField
                                {
                                    IdJobDocument = idJobDocument,
                                    IdDocumentField = Convert.ToInt32(item.Id),
                                    Value = val,
                                    ActualValue = val
                                };
                                rpoContext.JobDocumentFields.Add(JobDocumentField);
                            }
                            else
                            {
                                string pdffield = rpoContext.DocumentFields.Where(x => x.IdField == item.IdField).Select(x => x.PdfFields).FirstOrDefault();
                                pdfFields.Add(pdffield);
                                updateJobDocumentField.Value = val;
                                updateJobDocumentField.ActualValue = val;
                                rpoContext.Entry(updateJobDocumentField).State = EntityState.Modified;
                                FieldsValue.Add(new IdItemName
                                {
                                    Id = pdffield,
                                    ItemName = updateJobDocumentField.ActualValue
                                });
                                rpoContext.SaveChanges();
                            }
                        }
                        else if (item.Field.FieldName == "txtOwner_Company")
                        {
                            Contact owner = job != null && job.RfpAddress != null && job.RfpAddress.OwnerContact != null ? job.RfpAddress.OwnerContact : null;
                            string val = owner != null && owner.Company != null ? owner.Company.Name : string.Empty;
                            if (docuementType == "Post Approval Amendment")
                            {
                                val = string.Empty;
                            }

                            if (updateJobDocumentField == null)
                            {
                                JobDocumentField JobDocumentField = new JobDocumentField
                                {
                                    IdJobDocument = idJobDocument,
                                    IdDocumentField = Convert.ToInt32(item.Id),
                                    Value = val,
                                    ActualValue = val
                                };
                                rpoContext.JobDocumentFields.Add(JobDocumentField);
                            }
                            else
                            {
                                string pdffield = rpoContext.DocumentFields.Where(x => x.IdField == item.IdField).Select(x => x.PdfFields).FirstOrDefault();
                                pdfFields.Add(pdffield);
                                updateJobDocumentField.Value = val;
                                updateJobDocumentField.ActualValue = val;
                                rpoContext.Entry(updateJobDocumentField).State = EntityState.Modified;
                                FieldsValue.Add(new IdItemName
                                {
                                    Id = pdffield,
                                    ItemName = updateJobDocumentField.ActualValue
                                });
                                rpoContext.SaveChanges();
                            }
                        }
                        else if (item.Field.FieldName == "txtOwner_Address")
                        {
                            Address ownerAddress = new Address();
                            ownerAddress = job != null && job.RfpAddress != null && job.RfpAddress.OwnerContact != null && job.RfpAddress.OwnerContact.Addresses != null ? job.RfpAddress.OwnerContact.Addresses.FirstOrDefault(x => x.IsMainAddress == true) : null;
                            if (job != null && job.RfpAddress != null && job.RfpAddress.OwnerContact != null && job.RfpAddress.OwnerContact != null && job.RfpAddress.OwnerContact.IsPrimaryCompanyAddress == true)
                            {
                                int? company_id = job != null && job.RfpAddress != null && job.RfpAddress.OwnerContact != null && job.RfpAddress.OwnerContact != null && job.RfpAddress.OwnerContact != null ? job.RfpAddress.OwnerContact.IdCompany : 0;
                                ownerAddress = job != null && job.RfpAddress != null && job.RfpAddress.OwnerContact != null && job.RfpAddress.OwnerContact.Addresses != null && job.RfpAddress.OwnerContact.Company != null ? job.RfpAddress.OwnerContact.Company.Addresses.FirstOrDefault(x => x.IdCompany == company_id) : null;
                            }
                            string val = ownerAddress != null ? ownerAddress.Address1 + " " + ownerAddress.Address2 : string.Empty;
                            if (docuementType == "Post Approval Amendment")
                            {
                                val = string.Empty;
                            }
                            if (updateJobDocumentField == null)
                            {
                                JobDocumentField JobDocumentField = new JobDocumentField
                                {
                                    IdJobDocument = idJobDocument,
                                    IdDocumentField = Convert.ToInt32(item.Id),
                                    Value = val,
                                    ActualValue = val
                                };
                                rpoContext.JobDocumentFields.Add(JobDocumentField);
                            }
                            else
                            {
                                string pdffield = rpoContext.DocumentFields.Where(x => x.IdField == item.IdField).Select(x => x.PdfFields).FirstOrDefault();
                                pdfFields.Add(pdffield);
                                updateJobDocumentField.Value = val;
                                updateJobDocumentField.ActualValue = val;
                                rpoContext.Entry(updateJobDocumentField).State = EntityState.Modified;
                                FieldsValue.Add(new IdItemName
                                {
                                    Id = pdffield,
                                    ItemName = updateJobDocumentField.ActualValue
                                });
                                rpoContext.SaveChanges();
                            }
                        }
                        else if (item.Field.FieldName == "txtOwner_City")
                        {
                            Address ownerAddress = new Address();
                            ownerAddress = job != null && job.RfpAddress != null && job.RfpAddress.OwnerContact != null && job.RfpAddress.OwnerContact.Addresses != null ? job.RfpAddress.OwnerContact.Addresses.FirstOrDefault(x => x.IsMainAddress == true) : null;
                            if (job != null && job.RfpAddress != null && job.RfpAddress.OwnerContact != null && job.RfpAddress.OwnerContact != null && job.RfpAddress.OwnerContact.IsPrimaryCompanyAddress == true)
                            {
                                int? company_id = job != null && job.RfpAddress != null && job.RfpAddress.OwnerContact != null && job.RfpAddress.OwnerContact != null && job.RfpAddress.OwnerContact != null ? job.RfpAddress.OwnerContact.IdCompany : 0;
                                ownerAddress = job != null && job.RfpAddress != null && job.RfpAddress.OwnerContact != null && job.RfpAddress.OwnerContact.Addresses != null && job.RfpAddress.OwnerContact.Company != null ? job.RfpAddress.OwnerContact.Company.Addresses.FirstOrDefault(x => x.IdCompany == company_id) : null;
                            }
                            string val = ownerAddress != null ? ownerAddress.City : string.Empty;
                            if (docuementType == "Post Approval Amendment")
                            {
                                val = string.Empty;
                            }
                            if (updateJobDocumentField == null)
                            {
                                JobDocumentField JobDocumentField = new JobDocumentField
                                {
                                    IdJobDocument = idJobDocument,
                                    IdDocumentField = Convert.ToInt32(item.Id),
                                    Value = val,
                                    ActualValue = val
                                };
                                rpoContext.JobDocumentFields.Add(JobDocumentField);
                            }
                            else
                            {
                                string pdffield = rpoContext.DocumentFields.Where(x => x.IdField == item.IdField).Select(x => x.PdfFields).FirstOrDefault();
                                pdfFields.Add(pdffield);
                                updateJobDocumentField.Value = val;
                                updateJobDocumentField.ActualValue = val;
                                rpoContext.Entry(updateJobDocumentField).State = EntityState.Modified;
                                FieldsValue.Add(new IdItemName
                                {
                                    Id = pdffield,
                                    ItemName = updateJobDocumentField.ActualValue
                                });
                                rpoContext.SaveChanges();
                            }
                        }
                        else if (item.Field.FieldName == "txtOwner_State")
                        {
                            Address ownerAddress = new Address();
                            ownerAddress = job != null && job.RfpAddress != null && job.RfpAddress.OwnerContact != null && job.RfpAddress.OwnerContact.Addresses != null ? job.RfpAddress.OwnerContact.Addresses.FirstOrDefault(x => x.IsMainAddress == true) : null;
                            if (job != null && job.RfpAddress != null && job.RfpAddress.OwnerContact != null && job.RfpAddress.OwnerContact != null && job.RfpAddress.OwnerContact.IsPrimaryCompanyAddress == true)
                            {
                                int? company_id = job != null && job.RfpAddress != null && job.RfpAddress.OwnerContact != null && job.RfpAddress.OwnerContact != null && job.RfpAddress.OwnerContact != null ? job.RfpAddress.OwnerContact.IdCompany : 0;
                                ownerAddress = job != null && job.RfpAddress != null && job.RfpAddress.OwnerContact != null && job.RfpAddress.OwnerContact.Addresses != null && job.RfpAddress.OwnerContact.Company != null ? job.RfpAddress.OwnerContact.Company.Addresses.FirstOrDefault(x => x.IdCompany == company_id) : null;
                            }

                            string val = ownerAddress != null && ownerAddress.State != null ? ownerAddress.State.Acronym : string.Empty;
                            if (docuementType == "Post Approval Amendment")
                            {
                                val = string.Empty;
                            }
                            if (updateJobDocumentField == null)
                            {
                                JobDocumentField JobDocumentField = new JobDocumentField
                                {
                                    IdJobDocument = idJobDocument,
                                    IdDocumentField = Convert.ToInt32(item.Id),
                                    Value = val,
                                    ActualValue = val
                                };
                                rpoContext.JobDocumentFields.Add(JobDocumentField);
                            }
                            else
                            {
                                string pdffield = rpoContext.DocumentFields.Where(x => x.IdField == item.IdField).Select(x => x.PdfFields).FirstOrDefault();
                                pdfFields.Add(pdffield);
                                updateJobDocumentField.Value = val;
                                updateJobDocumentField.ActualValue = val;
                                rpoContext.Entry(updateJobDocumentField).State = EntityState.Modified;
                                FieldsValue.Add(new IdItemName
                                {
                                    Id = pdffield,
                                    ItemName = updateJobDocumentField.ActualValue
                                });
                                rpoContext.SaveChanges();
                            }
                        }
                        else if (item.Field.FieldName == "txtOwner_Zip")
                        {
                            Address ownerAddress = new Address();
                            ownerAddress = job != null && job.RfpAddress != null && job.RfpAddress.OwnerContact != null && job.RfpAddress.OwnerContact.Addresses != null ? job.RfpAddress.OwnerContact.Addresses.FirstOrDefault(x => x.IsMainAddress == true) : null;
                            if (job != null && job.RfpAddress != null && job.RfpAddress.OwnerContact != null && job.RfpAddress.OwnerContact != null && job.RfpAddress.OwnerContact.IsPrimaryCompanyAddress == true)
                            {
                                int? company_id = job != null && job.RfpAddress != null && job.RfpAddress.OwnerContact != null && job.RfpAddress.OwnerContact != null && job.RfpAddress.OwnerContact != null ? job.RfpAddress.OwnerContact.IdCompany : 0;
                                ownerAddress = job != null && job.RfpAddress != null && job.RfpAddress.OwnerContact != null && job.RfpAddress.OwnerContact.Addresses != null && job.RfpAddress.OwnerContact.Company != null ? job.RfpAddress.OwnerContact.Company.Addresses.FirstOrDefault(x => x.IdCompany == company_id) : null;
                            }

                            string val = ownerAddress != null ? ownerAddress.ZipCode : string.Empty;
                            if (docuementType == "Post Approval Amendment")
                            {
                                val = string.Empty;
                            }
                            if (updateJobDocumentField == null)
                            {
                                JobDocumentField JobDocumentField = new JobDocumentField
                                {
                                    IdJobDocument = idJobDocument,
                                    IdDocumentField = Convert.ToInt32(item.Id),
                                    Value = val,
                                    ActualValue = val
                                };
                                rpoContext.JobDocumentFields.Add(JobDocumentField);
                            }
                            else
                            {
                                string pdffield = rpoContext.DocumentFields.Where(x => x.IdField == item.IdField).Select(x => x.PdfFields).FirstOrDefault();
                                pdfFields.Add(pdffield);
                                updateJobDocumentField.Value = val;
                                updateJobDocumentField.ActualValue = val;
                                rpoContext.Entry(updateJobDocumentField).State = EntityState.Modified;
                                FieldsValue.Add(new IdItemName
                                {
                                    Id = pdffield,
                                    ItemName = updateJobDocumentField.ActualValue
                                });
                                rpoContext.SaveChanges();
                            }
                        }
                        else if (item.Field.FieldName == "txtOwner_Phone")
                        {
                            string ownerPhone = job != null && job.RfpAddress != null && job.RfpAddress.OwnerContact != null ? job.RfpAddress.OwnerContact.WorkPhone : string.Empty;
                            if (ownerPhone == null || ownerPhone == "")
                            {
                                ownerPhone = job != null && job.RfpAddress != null && job.RfpAddress.OwnerContact != null ? job.RfpAddress.OwnerContact.MobilePhone : string.Empty;
                            }
                            if (docuementType == "Post Approval Amendment")
                            {
                                ownerPhone = string.Empty;
                            }
                            if (updateJobDocumentField == null)
                            {
                                JobDocumentField JobDocumentField = new JobDocumentField
                                {
                                    IdJobDocument = idJobDocument,
                                    IdDocumentField = Convert.ToInt32(item.Id),
                                    Value = ownerPhone,
                                    ActualValue = ownerPhone
                                };
                                rpoContext.JobDocumentFields.Add(JobDocumentField);
                            }
                            else
                            {
                                string pdffield = rpoContext.DocumentFields.Where(x => x.IdField == item.IdField).Select(x => x.PdfFields).FirstOrDefault();
                                pdfFields.Add(pdffield);
                                updateJobDocumentField.Value = ownerPhone;
                                updateJobDocumentField.ActualValue = ownerPhone;
                                rpoContext.Entry(updateJobDocumentField).State = EntityState.Modified;
                                FieldsValue.Add(new IdItemName
                                {
                                    Id = pdffield,
                                    ItemName = updateJobDocumentField.ActualValue
                                });
                                rpoContext.SaveChanges();
                            }
                        }
                        else if (item.Field.FieldName == "txtOwner_EMail")
                        {
                            string val = job != null && job.RfpAddress != null && job.RfpAddress.OwnerContact != null ? job.RfpAddress.OwnerContact.Email : string.Empty;
                            if (docuementType == "Post Approval Amendment")
                            {
                                val = string.Empty;
                            }

                            if (updateJobDocumentField == null)
                            {
                                JobDocumentField JobDocumentField = new JobDocumentField
                                {
                                    IdJobDocument = idJobDocument,
                                    IdDocumentField = Convert.ToInt32(item.Id),
                                    Value = val,
                                    ActualValue = val
                                };
                                rpoContext.JobDocumentFields.Add(JobDocumentField);
                            }
                            else
                            {
                                string pdffield = rpoContext.DocumentFields.Where(x => x.IdField == item.IdField).Select(x => x.PdfFields).FirstOrDefault();
                                pdfFields.Add(pdffield);
                                updateJobDocumentField.Value = val;
                                updateJobDocumentField.ActualValue = val;
                                rpoContext.Entry(updateJobDocumentField).State = EntityState.Modified;
                                FieldsValue.Add(new IdItemName
                                {
                                    Id = pdffield,
                                    ItemName = updateJobDocumentField.ActualValue
                                });
                                rpoContext.SaveChanges();
                            }
                        }

                        else if (item.Field.FieldName == "txtSO_Name")
                        {
                            // string val = job != null && job.RfpAddress != null ? Convert.ToString(job.RfpAddress.StreetLegalWidth) : string.Empty;

                            string val = string.Empty;
                            string ownertype = job != null && job.RfpAddress != null && job.RfpAddress.OwnerType != null && !string.IsNullOrEmpty(job.RfpAddress.OwnerType.Name) ? job.RfpAddress.OwnerType.Name : string.Empty;
                            if (ownertype.ToLower() == "Condo/Co-Op".ToLower() || ownertype.ToLower() == "CORPORATION".ToLower())
                            {
                                val = job != null && job.RfpAddress != null && job.RfpAddress.SecondOfficer != null ? job.RfpAddress.SecondOfficer.FirstName + " " + job.RfpAddress.SecondOfficer.LastName : string.Empty;
                                if (docuementType == "Post Approval Amendment")
                                {
                                    val = string.Empty;
                                }
                            }
                            if (updateJobDocumentField == null)
                            {
                                JobDocumentField JobDocumentField = new JobDocumentField
                                {
                                    IdJobDocument = idJobDocument,
                                    IdDocumentField = Convert.ToInt32(item.Id),
                                    Value = val,
                                    ActualValue = val
                                };
                                rpoContext.JobDocumentFields.Add(JobDocumentField);
                            }
                            else
                            {
                                string pdffield = rpoContext.DocumentFields.Where(x => x.IdField == item.IdField).Select(x => x.PdfFields).FirstOrDefault();
                                pdfFields.Add(pdffield);
                                updateJobDocumentField.Value = val;
                                updateJobDocumentField.ActualValue = val;
                                rpoContext.Entry(updateJobDocumentField).State = EntityState.Modified;
                                FieldsValue.Add(new IdItemName
                                {
                                    Id = pdffield,
                                    ItemName = updateJobDocumentField.ActualValue
                                });
                                rpoContext.SaveChanges();
                            }
                        }
                        else if (item.Field.FieldName == "txtSO_Title")
                        {
                            string val = string.Empty;
                            string ownertype = job != null && job.RfpAddress != null && job.RfpAddress.OwnerType != null && !string.IsNullOrEmpty(job.RfpAddress.OwnerType.Name) ? job.RfpAddress.OwnerType.Name : string.Empty;
                            if (ownertype.ToLower() == "Condo/Co-Op".ToLower() || ownertype.ToLower() == "Corporation".ToLower())
                            {
                                val = job != null && job.RfpAddress != null && job.RfpAddress.SecondOfficer != null && job.RfpAddress.SecondOfficer.ContactTitle != null ? job.RfpAddress.SecondOfficer.ContactTitle.Name : string.Empty;
                                if (docuementType == "Post Approval Amendment")
                                {
                                    val = string.Empty;
                                }
                            }
                            if (updateJobDocumentField == null)
                            {
                                JobDocumentField JobDocumentField = new JobDocumentField
                                {
                                    IdJobDocument = idJobDocument,
                                    IdDocumentField = Convert.ToInt32(item.Id),
                                    Value = val,
                                    ActualValue = val
                                };
                                rpoContext.JobDocumentFields.Add(JobDocumentField);
                            }
                            else
                            {
                                string pdffield = rpoContext.DocumentFields.Where(x => x.IdField == item.IdField).Select(x => x.PdfFields).FirstOrDefault();
                                pdfFields.Add(pdffield);
                                updateJobDocumentField.Value = val;
                                updateJobDocumentField.ActualValue = val;
                                rpoContext.Entry(updateJobDocumentField).State = EntityState.Modified;
                                FieldsValue.Add(new IdItemName
                                {
                                    Id = pdffield,
                                    ItemName = updateJobDocumentField.ActualValue
                                });
                                rpoContext.SaveChanges();
                            }
                        }
                        else if (item.Field.FieldName == "txtSO_Address")
                        {


                            string val = string.Empty;
                            string ownertype = job != null && job.RfpAddress != null && job.RfpAddress.OwnerType != null && !string.IsNullOrEmpty(job.RfpAddress.OwnerType.Name) ? job.RfpAddress.OwnerType.Name : string.Empty;
                            if (ownertype.ToLower() == "Condo/Co-Op".ToLower() || ownertype.ToLower() == "Corporation".ToLower())
                            {
                                Contact contact = job != null && job.RfpAddress.SecondOfficer != null ? job.RfpAddress.SecondOfficer : null;
                                Address contactAddress = contact != null && contact != null && contact.Addresses != null ? contact.Addresses.Where(x => x.IsMainAddress == true).FirstOrDefault() : null;

                                val = contactAddress != null ? contactAddress.Address1 + " " + contactAddress.Address2 : string.Empty;
                                if (docuementType == "Post Approval Amendment")
                                {
                                    val = string.Empty;
                                }

                            }

                            if (updateJobDocumentField == null)
                            {
                                JobDocumentField JobDocumentField = new JobDocumentField
                                {
                                    IdJobDocument = idJobDocument,
                                    IdDocumentField = Convert.ToInt32(item.Id),
                                    Value = val,
                                    ActualValue = val
                                };
                                rpoContext.JobDocumentFields.Add(JobDocumentField);
                            }
                            else
                            {
                                string pdffield = rpoContext.DocumentFields.Where(x => x.IdField == item.IdField).Select(x => x.PdfFields).FirstOrDefault();
                                pdfFields.Add(pdffield);
                                updateJobDocumentField.Value = val;
                                updateJobDocumentField.ActualValue = val;
                                rpoContext.Entry(updateJobDocumentField).State = EntityState.Modified;
                                FieldsValue.Add(new IdItemName
                                {
                                    Id = pdffield,
                                    ItemName = updateJobDocumentField.ActualValue
                                });
                                rpoContext.SaveChanges();
                            }
                        }
                        else if (item.Field.FieldName == "txtSO_City")
                        {

                            string val = string.Empty;
                            string ownertype = job != null && job.RfpAddress != null && job.RfpAddress.OwnerType != null && !string.IsNullOrEmpty(job.RfpAddress.OwnerType.Name) ? job.RfpAddress.OwnerType.Name : string.Empty;
                            if (ownertype.ToLower() == "Condo/Co-Op".ToLower() || ownertype.ToLower() == "Corporation".ToLower())
                            {
                                Contact contact = job != null && job.RfpAddress.SecondOfficer != null ? job.RfpAddress.SecondOfficer : null;
                                Address contactAddress = contact != null && contact != null && contact.Addresses != null ? contact.Addresses.Where(x => x.IsMainAddress == true).FirstOrDefault() : null;

                                val = contactAddress != null ? contactAddress.City : string.Empty;
                                if (docuementType == "Post Approval Amendment")
                                {
                                    val = string.Empty;
                                }

                            }

                            if (updateJobDocumentField == null)
                            {
                                JobDocumentField JobDocumentField = new JobDocumentField
                                {
                                    IdJobDocument = idJobDocument,
                                    IdDocumentField = Convert.ToInt32(item.Id),
                                    Value = val,
                                    ActualValue = val
                                };
                                rpoContext.JobDocumentFields.Add(JobDocumentField);
                            }
                            else
                            {
                                string pdffield = rpoContext.DocumentFields.Where(x => x.IdField == item.IdField).Select(x => x.PdfFields).FirstOrDefault();
                                pdfFields.Add(pdffield);
                                updateJobDocumentField.Value = val;
                                updateJobDocumentField.ActualValue = val;
                                rpoContext.Entry(updateJobDocumentField).State = EntityState.Modified;
                                FieldsValue.Add(new IdItemName
                                {
                                    Id = pdffield,
                                    ItemName = updateJobDocumentField.ActualValue
                                });
                                rpoContext.SaveChanges();
                            }
                        }
                        else if (item.Field.FieldName == "txtSO_State")
                        {

                            string val = string.Empty;
                            string ownertype = job != null && job.RfpAddress != null && job.RfpAddress.OwnerType != null && !string.IsNullOrEmpty(job.RfpAddress.OwnerType.Name) ? job.RfpAddress.OwnerType.Name : string.Empty;
                            if (ownertype.ToLower() == "Condo/Co-Op".ToLower() || ownertype.ToLower() == "Corporation".ToLower())
                            {
                                Contact contact = job != null && job.RfpAddress.SecondOfficer != null ? job.RfpAddress.SecondOfficer : null;
                                Address contactAddress = contact != null && contact != null && contact.Addresses != null ? contact.Addresses.Where(x => x.IsMainAddress == true).FirstOrDefault() : null;

                                val = contactAddress != null && contactAddress.State != null ? contactAddress.State.Acronym : string.Empty;
                                if (docuementType == "Post Approval Amendment")
                                {
                                    val = string.Empty;
                                }
                            }
                            if (updateJobDocumentField == null)
                            {
                                JobDocumentField JobDocumentField = new JobDocumentField
                                {
                                    IdJobDocument = idJobDocument,
                                    IdDocumentField = Convert.ToInt32(item.Id),
                                    Value = val,
                                    ActualValue = val
                                };
                                rpoContext.JobDocumentFields.Add(JobDocumentField);
                            }
                            else
                            {
                                string pdffield = rpoContext.DocumentFields.Where(x => x.IdField == item.IdField).Select(x => x.PdfFields).FirstOrDefault();
                                pdfFields.Add(pdffield);
                                updateJobDocumentField.Value = val;
                                updateJobDocumentField.ActualValue = val;
                                rpoContext.Entry(updateJobDocumentField).State = EntityState.Modified;
                                FieldsValue.Add(new IdItemName
                                {
                                    Id = pdffield,
                                    ItemName = updateJobDocumentField.ActualValue
                                });
                                rpoContext.SaveChanges();
                            }
                        }
                        else if (item.Field.FieldName == "txtSO_Zip")
                        {
                            string val = string.Empty;
                            string ownertype = job != null && job.RfpAddress != null && job.RfpAddress.OwnerType != null && !string.IsNullOrEmpty(job.RfpAddress.OwnerType.Name) ? job.RfpAddress.OwnerType.Name : string.Empty;
                            if (ownertype.ToLower() == "Condo/Co-Op".ToLower() || ownertype.ToLower() == "Corporation".ToLower())
                            {
                                Contact contact = job != null && job.RfpAddress.SecondOfficer != null ? job.RfpAddress.SecondOfficer : null;
                                Address contactAddress = contact != null && contact != null && contact.Addresses != null ? contact.Addresses.Where(x => x.IsMainAddress == true).FirstOrDefault() : null;

                                val = contactAddress != null ? contactAddress.ZipCode : string.Empty;
                                if (docuementType == "Post Approval Amendment")
                                {
                                    val = string.Empty;
                                }

                            }
                            if (updateJobDocumentField == null)
                            {
                                JobDocumentField JobDocumentField = new JobDocumentField
                                {
                                    IdJobDocument = idJobDocument,
                                    IdDocumentField = Convert.ToInt32(item.Id),
                                    Value = val,
                                    ActualValue = val
                                };
                                rpoContext.JobDocumentFields.Add(JobDocumentField);
                            }
                            else
                            {
                                string pdffield = rpoContext.DocumentFields.Where(x => x.IdField == item.IdField).Select(x => x.PdfFields).FirstOrDefault();
                                pdfFields.Add(pdffield);
                                updateJobDocumentField.Value = val;
                                updateJobDocumentField.ActualValue = val;
                                rpoContext.Entry(updateJobDocumentField).State = EntityState.Modified;
                                FieldsValue.Add(new IdItemName
                                {
                                    Id = pdffield,
                                    ItemName = updateJobDocumentField.ActualValue
                                });
                                rpoContext.SaveChanges();
                            }
                        }
                        else if (item.Field.FieldName == "txtSO_Phone")
                        {
                            string val = string.Empty;
                            string ownertype = job != null && job.RfpAddress != null && job.RfpAddress.OwnerType != null && !string.IsNullOrEmpty(job.RfpAddress.OwnerType.Name) ? job.RfpAddress.OwnerType.Name : string.Empty;
                            if (ownertype.ToLower() == "Condo/Co-Op".ToLower() || ownertype.ToLower() == "Corporation".ToLower())
                            {
                                val = job != null && job.RfpAddress != null && job.RfpAddress.SecondOfficer != null ? job.RfpAddress.SecondOfficer.WorkPhone : string.Empty;
                                if (docuementType == "Post Approval Amendment")
                                {
                                    val = string.Empty;
                                }
                            }
                            if (updateJobDocumentField == null)
                            {
                                JobDocumentField JobDocumentField = new JobDocumentField
                                {
                                    IdJobDocument = idJobDocument,
                                    IdDocumentField = Convert.ToInt32(item.Id),
                                    Value = val,
                                    ActualValue = val
                                };
                                rpoContext.JobDocumentFields.Add(JobDocumentField);
                            }
                            else
                            {
                                string pdffield = rpoContext.DocumentFields.Where(x => x.IdField == item.IdField).Select(x => x.PdfFields).FirstOrDefault();
                                pdfFields.Add(pdffield);
                                updateJobDocumentField.Value = val;
                                updateJobDocumentField.ActualValue = val;
                                rpoContext.Entry(updateJobDocumentField).State = EntityState.Modified;
                                FieldsValue.Add(new IdItemName
                                {
                                    Id = pdffield,
                                    ItemName = updateJobDocumentField.ActualValue
                                });
                                rpoContext.SaveChanges();
                            }
                        }
                        else if (item.Field.FieldName == "txtSO_EMail")
                        {
                            string val = string.Empty;
                            string ownertype = job != null && job.RfpAddress != null && job.RfpAddress.OwnerType != null && !string.IsNullOrEmpty(job.RfpAddress.OwnerType.Name) ? job.RfpAddress.OwnerType.Name : string.Empty;
                            if (ownertype.ToLower() == "Condo/Co-Op".ToLower() || ownertype.ToLower() == "Corporation".ToLower())
                            {
                                val = job != null && job.RfpAddress != null && job.RfpAddress.SecondOfficer != null ? job.RfpAddress.SecondOfficer.Email : string.Empty;
                                if (docuementType == "Post Approval Amendment")
                                {
                                    val = string.Empty;
                                }
                            }

                            if (updateJobDocumentField == null)
                            {
                                JobDocumentField JobDocumentField = new JobDocumentField
                                {
                                    IdJobDocument = idJobDocument,
                                    IdDocumentField = Convert.ToInt32(item.Id),
                                    Value = val,
                                    ActualValue = val
                                };
                                rpoContext.JobDocumentFields.Add(JobDocumentField);
                            }
                            else
                            {
                                string pdffield = rpoContext.DocumentFields.Where(x => x.IdField == item.IdField).Select(x => x.PdfFields).FirstOrDefault();
                                pdfFields.Add(pdffield);
                                updateJobDocumentField.Value = val;
                                updateJobDocumentField.ActualValue = val;
                                rpoContext.Entry(updateJobDocumentField).State = EntityState.Modified;
                                FieldsValue.Add(new IdItemName
                                {
                                    Id = pdffield,
                                    ItemName = updateJobDocumentField.ActualValue
                                });
                                rpoContext.SaveChanges();
                            }
                        }

                        else if (item.Field.FieldName == "chk26I")
                        {
                            string val = string.Empty;
                            string ownertype = job != null && job.RfpAddress != null && job.RfpAddress.OwnerType != null && !string.IsNullOrEmpty(job.RfpAddress.OwnerType.Name) ? job.RfpAddress.OwnerType.Name : string.Empty;
                            if (ownertype.ToUpper() == "INDIVIDUAL")
                            {
                                val = "1";
                            }
                            if (ownertype.ToUpper() == "PARTNERSHIP")
                            {
                                val = "2";
                            }
                            if (ownertype.ToUpper() == "CORPORATION")
                            {
                                val = "3";
                            }
                            if (ownertype.ToLower() == "Condo/Co-Op".ToLower())
                            {
                                val = "5";
                                if (docuementType == "Post Approval Amendment")
                                {
                                    val = string.Empty;
                                }
                            }

                            if (updateJobDocumentField == null)
                            {
                                JobDocumentField JobDocumentField = new JobDocumentField
                                {
                                    IdJobDocument = idJobDocument,
                                    IdDocumentField = Convert.ToInt32(item.Id),
                                    Value = val,
                                    ActualValue = val
                                };
                                rpoContext.JobDocumentFields.Add(JobDocumentField);
                            }
                            else
                            {
                                string pdffield = rpoContext.DocumentFields.Where(x => x.IdField == item.IdField).Select(x => x.PdfFields).FirstOrDefault();
                                pdfFields.Add(pdffield);
                                updateJobDocumentField.Value = val;
                                updateJobDocumentField.ActualValue = val;
                                rpoContext.Entry(updateJobDocumentField).State = EntityState.Modified;
                                FieldsValue.Add(new IdItemName
                                {
                                    Id = pdffield,
                                    ItemName = updateJobDocumentField.ActualValue
                                });
                                rpoContext.SaveChanges();
                            }
                        }
                        else if (item.Field.FieldName == "chk26P")
                        {
                            string val = string.Empty;
                            string ownertype = job != null && job.RfpAddress != null && job.RfpAddress.OwnerType != null && !string.IsNullOrEmpty(job.RfpAddress.OwnerType.Name) ? job.RfpAddress.OwnerType.Name : string.Empty;
                            if (ownertype.ToUpper() == "PARTNERSHIP")
                            {
                                val = "2";
                            }

                            if (updateJobDocumentField == null)
                            {
                                JobDocumentField JobDocumentField = new JobDocumentField
                                {
                                    IdJobDocument = idJobDocument,
                                    IdDocumentField = Convert.ToInt32(item.Id),
                                    Value = val,
                                    ActualValue = val
                                };
                                rpoContext.JobDocumentFields.Add(JobDocumentField);
                            }
                            else
                            {
                                string pdffield = rpoContext.DocumentFields.Where(x => x.IdField == item.IdField).Select(x => x.PdfFields).FirstOrDefault();
                                pdfFields.Add(pdffield);
                                updateJobDocumentField.Value = val;
                                updateJobDocumentField.ActualValue = val;
                                rpoContext.Entry(updateJobDocumentField).State = EntityState.Modified;
                                FieldsValue.Add(new IdItemName
                                {
                                    Id = pdffield,
                                    ItemName = updateJobDocumentField.ActualValue
                                });
                                rpoContext.SaveChanges();
                            }
                        }
                        else if (item.Field.FieldName == "chk26C")
                        {
                            string val = string.Empty;
                            string ownertype = job != null && job.RfpAddress != null && job.RfpAddress.OwnerType != null && !string.IsNullOrEmpty(job.RfpAddress.OwnerType.Name) ? job.RfpAddress.OwnerType.Name : string.Empty;
                            if (ownertype == "CORPORATION")
                            {
                                val = "3";
                            }


                            if (updateJobDocumentField == null)
                            {
                                JobDocumentField JobDocumentField = new JobDocumentField
                                {
                                    IdJobDocument = idJobDocument,
                                    IdDocumentField = Convert.ToInt32(item.Id),
                                    Value = val,
                                    ActualValue = val
                                };
                                rpoContext.JobDocumentFields.Add(JobDocumentField);
                            }
                            else
                            {
                                string pdffield = rpoContext.DocumentFields.Where(x => x.IdField == item.IdField).Select(x => x.PdfFields).FirstOrDefault();
                                pdfFields.Add(pdffield);
                                updateJobDocumentField.Value = val;
                                updateJobDocumentField.ActualValue = val;
                                rpoContext.Entry(updateJobDocumentField).State = EntityState.Modified;
                                FieldsValue.Add(new IdItemName
                                {
                                    Id = pdffield,
                                    ItemName = updateJobDocumentField.ActualValue
                                });
                                rpoContext.SaveChanges();
                            }
                        }
                        else if (item.Field.FieldName == "chk26G")
                        {
                            string val = string.Empty;
                            string ownertype = job != null && job.RfpAddress != null && job.RfpAddress.OwnerType != null && !string.IsNullOrEmpty(job.RfpAddress.OwnerType.Name) ? job.RfpAddress.OwnerType.Name : string.Empty;
                            if (ownertype == "GOV-OTHER")
                            {
                                val = "On";
                            }

                            if (updateJobDocumentField == null)
                            {
                                JobDocumentField JobDocumentField = new JobDocumentField
                                {
                                    IdJobDocument = idJobDocument,
                                    IdDocumentField = Convert.ToInt32(item.Id),
                                    Value = val,
                                    ActualValue = val
                                };
                                rpoContext.JobDocumentFields.Add(JobDocumentField);
                            }
                            else
                            {
                                string pdffield = rpoContext.DocumentFields.Where(x => x.IdField == item.IdField).Select(x => x.PdfFields).FirstOrDefault();
                                pdfFields.Add(pdffield);
                                updateJobDocumentField.Value = val;
                                updateJobDocumentField.ActualValue = val;
                                rpoContext.Entry(updateJobDocumentField).State = EntityState.Modified;
                                FieldsValue.Add(new IdItemName
                                {
                                    Id = pdffield,
                                    ItemName = updateJobDocumentField.ActualValue
                                });
                                rpoContext.SaveChanges();
                            }
                        }
                        else if (item.Field.FieldName == "chk26O")
                        {


                            string val = string.Empty;
                            string ownertype = job != null && job.RfpAddress != null && job.RfpAddress.OwnerType != null && !string.IsNullOrEmpty(job.RfpAddress.OwnerType.Name) ? job.RfpAddress.OwnerType.Name : string.Empty;
                            if (ownertype.ToLower() == "Condo/Co-Op".ToLower())
                            {
                                val = "5";
                                if (docuementType == "Post Approval Amendment")
                                {
                                    val = string.Empty;
                                }


                            }

                            if (updateJobDocumentField == null)
                            {
                                JobDocumentField JobDocumentField = new JobDocumentField
                                {
                                    IdJobDocument = idJobDocument,
                                    IdDocumentField = Convert.ToInt32(item.Id),
                                    Value = val,
                                    ActualValue = val
                                };
                                rpoContext.JobDocumentFields.Add(JobDocumentField);
                            }
                            else
                            {
                                string pdffield = rpoContext.DocumentFields.Where(x => x.IdField == item.IdField).Select(x => x.PdfFields).FirstOrDefault();
                                pdfFields.Add(pdffield);
                                updateJobDocumentField.Value = val;
                                updateJobDocumentField.ActualValue = val;
                                rpoContext.Entry(updateJobDocumentField).State = EntityState.Modified;
                                FieldsValue.Add(new IdItemName
                                {
                                    Id = pdffield,
                                    ItemName = updateJobDocumentField.ActualValue
                                });
                                rpoContext.SaveChanges();
                            }
                        }

                        else if (item.Field.FieldName == "chk26A")
                        {
                            string val = string.Empty;
                            string ownertype = job != null && job.RfpAddress != null && job.RfpAddress.OwnerType != null && !string.IsNullOrEmpty(job.RfpAddress.OwnerType.Name) ? job.RfpAddress.OwnerType.Name : string.Empty;
                            if (ownertype == "DCAS")
                            {
                                val = "On";
                            }

                            if (updateJobDocumentField == null)
                            {
                                JobDocumentField JobDocumentField = new JobDocumentField
                                {
                                    IdJobDocument = idJobDocument,
                                    IdDocumentField = Convert.ToInt32(item.Id),
                                    Value = val,
                                    ActualValue = val
                                };
                                rpoContext.JobDocumentFields.Add(JobDocumentField);
                            }
                            else
                            {
                                string pdffield = rpoContext.DocumentFields.Where(x => x.IdField == item.IdField).Select(x => x.PdfFields).FirstOrDefault();
                                pdfFields.Add(pdffield);
                                updateJobDocumentField.Value = val;
                                updateJobDocumentField.ActualValue = val;
                                rpoContext.Entry(updateJobDocumentField).State = EntityState.Modified;
                                FieldsValue.Add(new IdItemName
                                {
                                    Id = pdffield,
                                    ItemName = updateJobDocumentField.ActualValue
                                });
                                rpoContext.SaveChanges();
                            }
                        }
                        else if (item.Field.FieldName == "chk26H")
                        {
                            string val = string.Empty;
                            string ownertype = job != null && job.RfpAddress != null && job.RfpAddress.OwnerType != null && !string.IsNullOrEmpty(job.RfpAddress.OwnerType.Name) ? job.RfpAddress.OwnerType.Name : string.Empty;
                            if (ownertype == "HHC")
                            {
                                val = "On";
                            }

                            if (updateJobDocumentField == null)
                            {
                                JobDocumentField JobDocumentField = new JobDocumentField
                                {
                                    IdJobDocument = idJobDocument,
                                    IdDocumentField = Convert.ToInt32(item.Id),
                                    Value = val,
                                    ActualValue = val
                                };
                                rpoContext.JobDocumentFields.Add(JobDocumentField);
                            }
                            else
                            {
                                string pdffield = rpoContext.DocumentFields.Where(x => x.IdField == item.IdField).Select(x => x.PdfFields).FirstOrDefault();
                                pdfFields.Add(pdffield);
                                updateJobDocumentField.Value = val;
                                updateJobDocumentField.ActualValue = val;
                                rpoContext.Entry(updateJobDocumentField).State = EntityState.Modified;
                                FieldsValue.Add(new IdItemName
                                {
                                    Id = pdffield,
                                    ItemName = updateJobDocumentField.ActualValue
                                });
                                rpoContext.SaveChanges();
                            }
                        }
                        else if (item.Field.FieldName == "chk26Y")
                        {
                            string val = string.Empty;
                            string ownertype = job != null && job.RfpAddress != null && job.RfpAddress.OwnerType != null && !string.IsNullOrEmpty(job.RfpAddress.OwnerType.Name) ? job.RfpAddress.OwnerType.Name : string.Empty;
                            if (ownertype == "NYCHA")
                            {
                                val = "On";
                            }

                            if (updateJobDocumentField == null)
                            {
                                JobDocumentField JobDocumentField = new JobDocumentField
                                {
                                    IdJobDocument = idJobDocument,
                                    IdDocumentField = Convert.ToInt32(item.Id),
                                    Value = val,
                                    ActualValue = val
                                };
                                rpoContext.JobDocumentFields.Add(JobDocumentField);
                            }
                            else
                            {
                                string pdffield = rpoContext.DocumentFields.Where(x => x.IdField == item.IdField).Select(x => x.PdfFields).FirstOrDefault();
                                pdfFields.Add(pdffield);
                                updateJobDocumentField.Value = val;
                                updateJobDocumentField.ActualValue = val;
                                rpoContext.Entry(updateJobDocumentField).State = EntityState.Modified;
                                FieldsValue.Add(new IdItemName
                                {
                                    Id = pdffield,
                                    ItemName = updateJobDocumentField.ActualValue
                                });
                                rpoContext.SaveChanges();
                            }
                        }
                        else if (item.Field.FieldName == "chk26E")
                        {
                            string val = string.Empty;
                            string ownertype = job != null && job.RfpAddress != null && job.RfpAddress.OwnerType != null && !string.IsNullOrEmpty(job.RfpAddress.OwnerType.Name) ? job.RfpAddress.OwnerType.Name : string.Empty;
                            if (ownertype == "DOE")
                            {
                                val = "On";
                            }

                            if (updateJobDocumentField == null)
                            {
                                JobDocumentField JobDocumentField = new JobDocumentField
                                {
                                    IdJobDocument = idJobDocument,
                                    IdDocumentField = Convert.ToInt32(item.Id),
                                    Value = val,
                                    ActualValue = val
                                };
                                rpoContext.JobDocumentFields.Add(JobDocumentField);
                            }
                            else
                            {
                                string pdffield = rpoContext.DocumentFields.Where(x => x.IdField == item.IdField).Select(x => x.PdfFields).FirstOrDefault();
                                pdfFields.Add(pdffield);
                                updateJobDocumentField.Value = val;
                                updateJobDocumentField.ActualValue = val;
                                rpoContext.Entry(updateJobDocumentField).State = EntityState.Modified;
                                FieldsValue.Add(new IdItemName
                                {
                                    Id = pdffield,
                                    ItemName = updateJobDocumentField.ActualValue
                                });
                                rpoContext.SaveChanges();
                            }
                        }
                        else if (item.Field.FieldName == "chk26D")
                        {
                            string val = string.Empty;
                            string ownertype = job != null && job.RfpAddress != null && job.RfpAddress.OwnerType != null && !string.IsNullOrEmpty(job.RfpAddress.OwnerType.Name) ? job.RfpAddress.OwnerType.Name : string.Empty;
                            if (ownertype == "HPD")
                            {
                                val = "On";
                            }

                            if (updateJobDocumentField == null)
                            {
                                JobDocumentField JobDocumentField = new JobDocumentField
                                {
                                    IdJobDocument = idJobDocument,
                                    IdDocumentField = Convert.ToInt32(item.Id),
                                    Value = val,
                                    ActualValue = val
                                };
                                rpoContext.JobDocumentFields.Add(JobDocumentField);
                            }
                            else
                            {
                                string pdffield = rpoContext.DocumentFields.Where(x => x.IdField == item.IdField).Select(x => x.PdfFields).FirstOrDefault();
                                pdfFields.Add(pdffield);
                                updateJobDocumentField.Value = val;
                                updateJobDocumentField.ActualValue = val;
                                rpoContext.Entry(updateJobDocumentField).State = EntityState.Modified;
                                FieldsValue.Add(new IdItemName
                                {
                                    Id = pdffield,
                                    ItemName = updateJobDocumentField.ActualValue
                                });
                                rpoContext.SaveChanges();
                            }
                        }
                        else if (item.Field.FieldName == "chkSoilDisturbanceNo")
                        {
                            if (updateJobDocumentField == null)
                            {
                                JobDocumentField JobDocumentField = new JobDocumentField
                                {
                                    IdJobDocument = idJobDocument,
                                    IdDocumentField = Convert.ToInt32(item.Id),
                                    Value = "On",
                                    ActualValue = "On"
                                };
                                rpoContext.JobDocumentFields.Add(JobDocumentField);
                            }
                            else
                            {
                                updateJobDocumentField.Value = "On";
                                updateJobDocumentField.ActualValue = "On";
                                rpoContext.Entry(updateJobDocumentField).State = EntityState.Modified;
                                rpoContext.SaveChanges();
                            }
                        }
                        else if (item.Field.FieldName == "chkMS4AreaNo")
                        {
                            if (updateJobDocumentField == null)
                            {
                                JobDocumentField JobDocumentField = new JobDocumentField
                                {
                                    IdJobDocument = idJobDocument,
                                    IdDocumentField = Convert.ToInt32(item.Id),
                                    Value = "On",
                                    ActualValue = "On"
                                };
                                rpoContext.JobDocumentFields.Add(JobDocumentField);
                            }
                            else
                            {
                                updateJobDocumentField.Value = "On";
                                updateJobDocumentField.ActualValue = "On";
                                rpoContext.Entry(updateJobDocumentField).State = EntityState.Modified;
                                rpoContext.SaveChanges();
                            }
                        }
                        else if (item.Field.FieldName == "chk26T")
                        {
                            string val = string.Empty;
                            string ownertype = job != null && job.RfpAddress != null && job.RfpAddress.OwnerType != null && !string.IsNullOrEmpty(job.RfpAddress.OwnerType.Name) ? job.RfpAddress.OwnerType.Name : string.Empty;
                            if (ownertype == "NY STATE")
                            {
                                val = "On";
                            }

                            if (updateJobDocumentField == null)
                            {
                                JobDocumentField JobDocumentField = new JobDocumentField
                                {
                                    IdJobDocument = idJobDocument,
                                    IdDocumentField = Convert.ToInt32(item.Id),
                                    Value = val,
                                    ActualValue = val
                                };
                                rpoContext.JobDocumentFields.Add(JobDocumentField);
                            }
                            else
                            {
                                string pdffield = rpoContext.DocumentFields.Where(x => x.IdField == item.IdField).Select(x => x.PdfFields).FirstOrDefault();
                                pdfFields.Add(pdffield);
                                updateJobDocumentField.Value = val;
                                updateJobDocumentField.ActualValue = val;
                                rpoContext.Entry(updateJobDocumentField).State = EntityState.Modified;
                                FieldsValue.Add(new IdItemName
                                {
                                    Id = pdffield,
                                    ItemName = updateJobDocumentField.ActualValue
                                });
                                rpoContext.SaveChanges();
                            }
                        }

                        rpoContext.SaveChanges();
                    }
                    else
                    {

                        if (item.Field.FieldName == "Application")
                        {
                            int jobApplicantId = Convert.ToInt32(frontendFields.Value);
                            JobApplication jobApplication = rpoContext.JobApplications.FirstOrDefault(x => x.Id == jobApplicantId);
                            // ApplicationType = jobApplication != null && jobApplication.JobApplicationType != null ? jobApplication.JobApplicationType.Description : string.Empty;
                            ApplicationType = rpoContext.JobApplicationTypes.Where(x => x.Id == jobApplication.IdJobApplicationType).Select(x => x.Description).FirstOrDefault();

                            applicationNumber = jobApplication != null ? jobApplication.ApplicationNumber : string.Empty;
                            floorWorkingOn = jobApplication != null ? jobApplication.FloorWorking : string.Empty;

                            if (updateJobDocumentField == null)
                            {
                                JobDocumentField JobDocumentField = new JobDocumentField
                                {
                                    IdJobDocument = idJobDocument,
                                    IdDocumentField = Convert.ToInt32(item.Id),
                                    Value = frontendFields.Value,
                                    ActualValue = applicationNumber
                                };
                                rpoContext.JobDocumentFields.Add(JobDocumentField);
                            }
                            else
                            {
                                updateJobDocumentField.Value = frontendFields.Value;
                                updateJobDocumentField.ActualValue = applicationNumber;
                                rpoContext.Entry(updateJobDocumentField).State = EntityState.Modified;
                                rpoContext.SaveChanges();
                            }
                        }

                        else if (item.Field.FieldName == "Applicant")
                        {
                            int certifierid = Convert.ToInt32(frontendFields.Value);

                            JobContact jobContact = rpoContext.JobContacts.Where(x => x.Id == certifierid).FirstOrDefault();

                            applicantName = jobContact != null && jobContact.Contact != null ? jobContact.Contact.FirstName + " " + jobContact.Contact.LastName : string.Empty;
                            applicantFirstName = jobContact != null && jobContact.Contact != null ? jobContact.Contact.FirstName : string.Empty;
                            applicantMiddleName = jobContact != null && jobContact.Contact != null ? jobContact.Contact.MiddleName : string.Empty;
                            applicantLastName = jobContact != null && jobContact.Contact != null ? jobContact.Contact.LastName : string.Empty;
                            contactcompany = jobContact != null && jobContact.Contact != null && jobContact.Contact.Company != null ? jobContact.Contact.Company.Name : string.Empty;
                            // Address compnayAddress = jobContact != null && jobContact.Company != null && jobContact.Company.Addresses != null ? jobContact.Company.Addresses.OrderBy(x => x.AddressType.DisplayOrder).FirstOrDefault() : null;
                            Address compnayAddress = Common.GetContactAddressForJobDocument(jobContact);
                            businessAddress = compnayAddress != null ? compnayAddress.Address1 + " " + compnayAddress.Address2 : string.Empty;
                            businessCity = compnayAddress != null ? compnayAddress.City : string.Empty;
                            businessState = compnayAddress != null && compnayAddress.State != null ? compnayAddress.State.Acronym : string.Empty;
                            businessZip = compnayAddress != null ? compnayAddress.ZipCode : string.Empty;

                            contactMobilePhone = Common.GetContactPhoneNumberForJobDocument(jobContact);
                            //!= null && jobContact.Contact != null ? jobContact.Contact.MobilePhone : string.Empty;
                            contactEmail = jobContact != null ? jobContact.Contact.Email : string.Empty;
                            applicantmobilenumber = jobContact != null ? jobContact.Contact.MobilePhone : string.Empty;

                            string licenceTypeNumber = jobContact != null && jobContact.Contact != null && jobContact.Contact.ContactLicenses != null && jobContact.Contact.ContactLicenses.Count > 0 ?
                                 jobContact.Contact.ContactLicenses.Select(x => x.Number).FirstOrDefault() : string.Empty;
                            if (!string.IsNullOrEmpty(licenceTypeNumber))
                            {
                                ContactLicense contactLicenseType = rpoContext.ContactLicenses.Where(a => a.Number == licenceTypeNumber).FirstOrDefault();
                                ContactLicenseType LicenseType = rpoContext.ContactLicenseTypes.Where(b => b.Id == contactLicenseType.IdContactLicenseType).FirstOrDefault();
                                if (LicenseType.Name == "Engineer")
                                {
                                    contactLic_state_engineer = "1";
                                    contactLic_No = licenceTypeNumber;
                                }
                                else if (LicenseType.Name == "Architect")
                                {
                                    contactLic_state_architect = "2";
                                    contactLic_No = licenceTypeNumber;
                                }
                            }
                            else
                            {
                                licenceTypeNumber = jobContact != null && jobContact.Contact != null && jobContact.Contact.ContactLicenses != null && jobContact.Contact.ContactLicenses.Count > 0 ?
                                jobContact.Contact.ContactLicenses.Select(x => x.ContactLicenseType.Name).FirstOrDefault() : string.Empty;
                                if (licenceTypeNumber.ToLower() == ("Engineer").ToLower())
                                {
                                    contactLic_state_engineer = "1";
                                }
                                else if (licenceTypeNumber.ToLower() == ("Architect").ToLower())
                                {
                                    contactLic_state_architect = "2";
                                }
                            }
                            contactTitle = jobContact != null && jobContact.Contact != null && jobContact.Contact.ContactTitle != null ? jobContact.Contact.ContactTitle.Name : string.Empty;
                            documentDescription = documentDescription + (!string.IsNullOrEmpty(documentDescription) && !string.IsNullOrEmpty(applicantFirstName + " " + applicantLastName) ? " | " : string.Empty) + (!string.IsNullOrEmpty(applicantFirstName + " " + applicantLastName) ? "Applicant: " + applicantFirstName + " " + applicantLastName : string.Empty);

                            if (updateJobDocumentField == null)
                            {
                                JobDocumentField JobDocumentField = new JobDocumentField
                                {
                                    IdJobDocument = idJobDocument,
                                    IdDocumentField = frontendFields.IdDocumentField,
                                    Value = frontendFields.Value,
                                    ActualValue = applicantLastName
                                };
                                rpoContext.JobDocumentFields.Add(JobDocumentField);
                                rpoContext.SaveChanges();
                            }
                            else
                            {
                                updateJobDocumentField.Value = frontendFields.Value;
                                updateJobDocumentField.ActualValue = applicantLastName;
                                rpoContext.Entry(updateJobDocumentField).State = EntityState.Modified;
                                rpoContext.SaveChanges();
                            }
                        }

                        else if (item.Field.FieldName == "Filing Representative")
                        {
                            int idFilingRepresentative = Convert.ToInt32(frontendFields.Value);
                            //Employee employee = rpoContext.Employees.Where(x => x.Id == idFilingRepresentative).FirstOrDefault();
                            Employee employee = Common.GetEmployeeInformation(idFilingRepresentative);

                            filingRepresentativefirstname = employee != null ? employee.FirstName : string.Empty;
                            filingRepresentativelastname = employee != null ? employee.LastName : string.Empty;
                            frfirstname = employee != null ? employee.FirstName : string.Empty;
                            frLastname = employee != null ? employee.LastName : string.Empty;

                            filingRepresentativeCompany = "RPO INC";
                            filingRepresentativeaddress = employee != null ? employee.Address1 : string.Empty;
                            filingRepresentativePhone = employee != null ? employee.WorkPhone : string.Empty;
                            filingRepresentativeEmail = employee != null ? employee.Email : string.Empty;
                            filingRepresentativestate = employee != null ? employee.State.Acronym : string.Empty;
                            filingRepresentativecity = employee != null ? employee.City : string.Empty;
                            filingRepresentativezip = employee != null ? employee.ZipCode : string.Empty;
                            filingRepresentativemobile = employee != null ? employee.MobilePhone : string.Empty;
                            //  filingRepresentativeEmail = employee != null ? employee.Email : string.Empty;

                            string filingRepresentative = employee != null ? employee.FirstName + " " + employee.LastName : string.Empty;

                            AgentCertificate agentCertificate = rpoContext.AgentCertificates
                            .Include("DocumentType").FirstOrDefault(x => x.IdEmployee == idFilingRepresentative && x.DocumentType.Name.Equals("DOB Filing Representative"));
                            filingRepresentativRegnumber = agentCertificate != null ? agentCertificate.NumberId : string.Empty;
                            // documentDescription = documentDescription + (!string.IsNullOrEmpty(filingRepresentative) ? "Filing Representative: " + filingRepresentative : string.Empty);

                            documentDescription = documentDescription + (!string.IsNullOrEmpty(frfirstname) && !string.IsNullOrEmpty(frLastname) ? " | Filing Representative: " + frfirstname + " " + frLastname : string.Empty);
                            updateJobDocumentField = jobDocumentFieldList.FirstOrDefault(x => x.IdDocumentField == item.Id);
                            if (updateJobDocumentField == null)
                            {
                                JobDocumentField JobDocumentField = new JobDocumentField
                                {
                                    IdJobDocument = idJobDocument,
                                    IdDocumentField = Convert.ToInt32(item.Id),
                                    Value = frontendFields.Value,
                                    ActualValue = filingRepresentative,

                                };
                                rpoContext.JobDocumentFields.Add(JobDocumentField);
                            }
                            else
                            {
                                updateJobDocumentField.Value = frontendFields.Value;
                                updateJobDocumentField.ActualValue = filingRepresentative;
                                rpoContext.Entry(updateJobDocumentField).State = EntityState.Modified;
                                rpoContext.SaveChanges();
                            }
                        }

                        else if (item.Field.FieldName == "Filing Representative2")
                        {
                            int idFilingRepresentative = Convert.ToInt32(frontendFields.Value);
                            //Employee employee = rpoContext.Employees.Where(x => x.Id == idFilingRepresentative).FirstOrDefault();
                            if (idFilingRepresentative != 0)
                            {
                                Employee employee = Common.GetEmployeeInformation(idFilingRepresentative);


                                filingRepresentativefirstname = filingRepresentativefirstname + (employee != null ? (!string.IsNullOrEmpty(filingRepresentativefirstname) ? "/" : string.Empty) + employee.FirstName : string.Empty);
                                filingRepresentativelastname = filingRepresentativelastname + (employee != null ? (!string.IsNullOrEmpty(filingRepresentativelastname) ? "/" : string.Empty) + employee.LastName : string.Empty);
                                frfirstname = employee != null ? employee.FirstName : string.Empty;
                                frLastname = employee != null ? employee.LastName : string.Empty;

                                filingRepresentativeCompany = "RPO INC";
                                filingRepresentativePhone = employee != null ? employee.WorkPhone : string.Empty;
                            }
                            documentDescription = documentDescription + (!string.IsNullOrEmpty(frfirstname) && !string.IsNullOrEmpty(frLastname) ? " | Filing Representative: " + frfirstname + " " + frLastname : string.Empty);
                            //  filingRepresentativeEmail = employee != null ? employee.Email : string.Empty;

                            //documentDescription = documentDescription + (!string.IsNullOrEmpty(filingRepresentative) ? "Filing Representative: " + filingRepresentative : string.Empty);

                            updateJobDocumentField = jobDocumentFieldList.FirstOrDefault(x => x.IdDocumentField == item.Id);
                            if (updateJobDocumentField == null)
                            {
                                JobDocumentField JobDocumentField = new JobDocumentField
                                {
                                    IdJobDocument = idJobDocument,
                                    IdDocumentField = Convert.ToInt32(item.Id),
                                    Value = frontendFields.Value,
                                    ActualValue = frontendFields.Value,

                                };
                                rpoContext.JobDocumentFields.Add(JobDocumentField);
                            }
                            else
                            {
                                updateJobDocumentField.Value = frontendFields.Value;
                                updateJobDocumentField.ActualValue = frontendFields.Value;
                                rpoContext.Entry(updateJobDocumentField).State = EntityState.Modified;
                                rpoContext.SaveChanges();
                            }
                        }

                        else if (item.Field.FieldName == "Filing Representative3")
                        {
                            int idFilingRepresentative = Convert.ToInt32(frontendFields.Value);
                            //Employee employee = rpoContext.Employees.Where(x => x.Id == idFilingRepresentative).FirstOrDefault();


                            //   string filingRepresentative = employee != null ? employee.FirstName + " " + employee.LastName : string.Empty;
                            if (idFilingRepresentative != 0)
                            {
                                Employee employee = Common.GetEmployeeInformation(idFilingRepresentative);

                                filingRepresentativefirstname = filingRepresentativefirstname + (employee != null ? (!string.IsNullOrEmpty(filingRepresentativefirstname) ? "/" : string.Empty) + employee.FirstName : string.Empty);
                                filingRepresentativelastname = filingRepresentativelastname + (employee != null ? (!string.IsNullOrEmpty(filingRepresentativelastname) ? "/" : string.Empty) + employee.LastName : string.Empty);
                                frfirstname = employee != null ? employee.FirstName : string.Empty;
                                frLastname = employee != null ? employee.LastName : string.Empty;

                                filingRepresentativeCompany = "RPO INC";
                                filingRepresentativePhone = employee != null ? employee.WorkPhone : string.Empty;
                            }
                            // filingRepresentativeEmail = employee != null ? employee.Email : string.Empty;

                            // documentDescription = documentDescription + (!string.IsNullOrEmpty(filingRepresentative) ? "Filing Representative: " + filingRepresentative : string.Empty);
                            documentDescription = documentDescription + (!string.IsNullOrEmpty(frfirstname) && !string.IsNullOrEmpty(frLastname) ? " | Filing Representative: " + frfirstname + " " + frLastname : string.Empty);
                            updateJobDocumentField = jobDocumentFieldList.FirstOrDefault(x => x.IdDocumentField == item.Id);
                            if (updateJobDocumentField == null)
                            {
                                JobDocumentField JobDocumentField = new JobDocumentField
                                {
                                    IdJobDocument = idJobDocument,
                                    IdDocumentField = Convert.ToInt32(item.Id),
                                    Value = frontendFields.Value,
                                    ActualValue = frontendFields.Value,

                                };
                                rpoContext.JobDocumentFields.Add(JobDocumentField);
                            }
                            else
                            {
                                updateJobDocumentField.Value = frontendFields.Value;
                                updateJobDocumentField.ActualValue = frontendFields.Value;
                                rpoContext.Entry(updateJobDocumentField).State = EntityState.Modified;
                                rpoContext.SaveChanges();
                            }
                        }

                        else if (item.Field.FieldName == "Type")
                        {
                            int certifierid = Convert.ToInt32(frontendFields.Value);
                            JobDocumentType jobDocumentType = rpoContext.JobDocumentTypes.FirstOrDefault(x => x.Id == certifierid);
                            docuementType = jobDocumentType != null ? jobDocumentType.Type : string.Empty;

                            documentDescription = documentDescription + (!string.IsNullOrEmpty(docuementType) ? "Type: " + docuementType : string.Empty);

                            if (updateJobDocumentField == null)
                            {
                                JobDocumentField JobDocumentField = new JobDocumentField
                                {
                                    IdJobDocument = idJobDocument,
                                    IdDocumentField = frontendFields.IdDocumentField,
                                    Value = frontendFields.Value,
                                    ActualValue = docuementType
                                };
                                rpoContext.JobDocumentFields.Add(JobDocumentField);
                                rpoContext.SaveChanges();
                            }
                            else
                            {
                                updateJobDocumentField.Value = frontendFields.Value;
                                updateJobDocumentField.ActualValue = docuementType;
                                rpoContext.Entry(updateJobDocumentField).State = EntityState.Modified;
                                rpoContext.SaveChanges();
                            }
                        }

                        else if (item.Field.FieldName == "Job Document Work Type")
                        {
                            string workTypes = frontendFields.Value;
                            List<int> workTypesLst = !string.IsNullOrEmpty(workTypes) ? (workTypes.Split(',') != null && workTypes.Split(',').Any() ? workTypes.Split(',').Select(x => int.Parse(x)).ToList() : new List<int>()) : new List<int>();


                            var jobApplicationWorkPermitType = rpoContext.JobApplicationWorkPermitTypes
                                                                        .Include("JobWorkType")
                                                                        .Where(x => workTypesLst.Contains(x.Id))
                                                                        .Select(x => new
                                                                        {
                                                                            Permittype = x.PermitType != null && x.PermitType != "" ? x.PermitType : x.JobWorkType.Description,
                                                                            PermitTypeCode = x.Code,
                                                                            Fees = x.PermitType != null && x.PermitType != "" ? x.EstimatedCost : x.EstimatedCost,
                                                                            WorkDescription = x.WorkDescription != "" ? x.WorkDescription : string.Empty
                                                                        }).ToList();
                            //Fees = x.PermitType != null && x.PermitType != "" ? x.RenewalFee : x.EstimatedCost

                            string permitType = jobApplicationWorkPermitType != null ? String.Join(",", jobApplicationWorkPermitType.Select(x => x.Permittype)) : string.Empty;
                            permitTypecode = jobApplicationWorkPermitType != null ? String.Join(",", jobApplicationWorkPermitType.Select(x => x.PermitTypeCode)) : string.Empty;
                            string fees = jobApplicationWorkPermitType != null ? String.Join(",", jobApplicationWorkPermitType.Select(x => x.Fees)) : string.Empty;
                            //  string fees1 = 0;
                            double? d = 0;
                            //string desc = string.Empty;
                            documentDescription = documentDescription + (!string.IsNullOrEmpty(permitType) ? " | Job Document Work Type: " + permitType : string.Empty);
                            foreach (var item1 in jobApplicationWorkPermitType)
                            {
                                if (jobApplicationWorkPermitType.Count > 1)
                                {
                                    d = d + (item1.Fees == null ? 0 : item1.Fees);
                                    if (!string.IsNullOrEmpty(item1.WorkDescription))
                                    {
                                        desc = desc + item1.WorkDescription + ". ,";
                                    }
                                }
                                else
                                {
                                    d = d + (item1.Fees == null ? 0 : item1.Fees);
                                    if (!string.IsNullOrEmpty(item1.WorkDescription))
                                    {
                                        desc = desc + item1.WorkDescription + ".";
                                    }
                                }

                            }
                            if (desc.Length > 2)
                            {
                                desc = desc.Remove(desc.Length - 2);
                            }
                            estfees = Convert.ToString(d);
                            // int fees1 = jobApplicationWorkPermitType != null ?  Convert.ToInt32(jobApplicationWorkPermitType.Select(x => x.Fees))  : string.Empty;
                            if (updateJobDocumentField == null)
                            {
                                JobDocumentField JobDocumentField = new JobDocumentField
                                {
                                    IdJobDocument = idJobDocument,
                                    IdDocumentField = frontendFields.IdDocumentField,
                                    Value = workTypes,
                                    ActualValue = permitType
                                };
                                rpoContext.JobDocumentFields.Add(JobDocumentField);
                                rpoContext.SaveChanges();
                            }

                            else
                            {
                                updateJobDocumentField.Value = workTypes;
                                updateJobDocumentField.ActualValue = permitType;
                                rpoContext.Entry(updateJobDocumentField).State = EntityState.Modified;
                                rpoContext.SaveChanges();
                            }
                        }

                        else if (item.Field.FieldName == "For")
                        {
                            jobDocumentFor = frontendFields.Value;
                            if (updateJobDocumentField == null)
                            {
                                JobDocumentField JobDocumentField = new JobDocumentField
                                {
                                    IdJobDocument = idJobDocument,
                                    IdDocumentField = frontendFields.IdDocumentField,
                                    Value = frontendFields.Value,
                                    ActualValue = frontendFields.Value
                                };
                                rpoContext.JobDocumentFields.Add(JobDocumentField);
                                rpoContext.SaveChanges();
                            }

                            else
                            {
                                updateJobDocumentField.Value = frontendFields.Value;
                                updateJobDocumentField.ActualValue = frontendFields.Value;
                                rpoContext.Entry(updateJobDocumentField).State = EntityState.Modified;
                                rpoContext.SaveChanges();
                            }
                        }
                        else if (item.Field.FieldName == "Lessee Responsible")
                        {
                            int certifierid = Convert.ToInt32(frontendFields.Value);

                            JobContact jobContact = rpoContext.JobContacts.Where(x => x.Id == certifierid).FirstOrDefault();

                            LR_Name = jobContact != null && jobContact.Contact != null ? jobContact.Contact.LastName + " " + jobContact.Contact.FirstName : string.Empty;
                            // LR_Relationship = jobContact != null && jobContact.Contact != null ? jobContact.Contact.ContactTitle.Name: string.Empty;
                            // applicantMiddleName = jobContact != null && jobContact.Contact != null ? jobContact.Contact.MiddleName : string.Empty;
                            //applicantLastName = jobContact != null && jobContact.Contact != null ? jobContact.Contact.LastName : string.Empty;
                            LR_Company = jobContact != null && jobContact.Contact != null && jobContact.Contact.Company != null ? jobContact.Contact.Company.Name : string.Empty;
                            // Address compnayAddress = jobContact != null && jobContact.Company != null && jobContact.Company.Addresses != null ? jobContact.Company.Addresses.OrderBy(x => x.AddressType.DisplayOrder).FirstOrDefault() : null;
                            Address compnayAddress = Common.GetContactAddressForJobDocument(jobContact);
                            LR_Address = compnayAddress != null ? compnayAddress.Address1 + " " + compnayAddress.Address2 : string.Empty;
                            LR_City = compnayAddress != null ? compnayAddress.City : string.Empty;
                            LR_State = compnayAddress != null && compnayAddress.State != null ? compnayAddress.State.Acronym : string.Empty;
                            LR_Zip = compnayAddress != null ? compnayAddress.ZipCode : string.Empty;

                            LR_Phone = Common.GetContactPhoneNumberForJobDocument(jobContact);
                            //!= null && jobContact.Contact != null ? jobContact.Contact.MobilePhone : string.Empty;
                            LR_EMail = jobContact != null ? jobContact.Contact.Email : string.Empty;
                            LR_Relationship = jobContact != null && jobContact.Contact != null && jobContact.Contact.ContactTitle != null ? jobContact.Contact.ContactTitle.Name : string.Empty;

                            documentDescription = documentDescription + (!string.IsNullOrEmpty(LR_Name) ? " | Lessee Responsible: " + LR_Name : string.Empty);
                            //  documentDescription = documentDescription + (!string.IsNullOrEmpty(documentDescription) && !string.IsNullOrEmpty(applicantFirstName + " " + applicantLastName) ? " | " : string.Empty) + (!string.IsNullOrEmpty(applicantFirstName + " " + applicantLastName) ? "Applicant: " + applicantFirstName + " " + applicantLastName : string.Empty);

                            if (updateJobDocumentField == null)
                            {
                                JobDocumentField JobDocumentField = new JobDocumentField
                                {
                                    IdJobDocument = idJobDocument,
                                    IdDocumentField = frontendFields.IdDocumentField,
                                    Value = frontendFields.Value,
                                    ActualValue = applicantLastName
                                };
                                rpoContext.JobDocumentFields.Add(JobDocumentField);
                                rpoContext.SaveChanges();
                            }
                            else
                            {
                                updateJobDocumentField.Value = frontendFields.Value;
                                updateJobDocumentField.ActualValue = applicantLastName;
                                rpoContext.Entry(updateJobDocumentField).State = EntityState.Modified;
                                rpoContext.SaveChanges();
                            }

                        }

                        else if (item.Field.FieldName == "Job Description")
                        {

                            comments = frontendFields.Value;
                            documentDescription = documentDescription + (!string.IsNullOrEmpty(comments) ? " | Job Description: " + comments : string.Empty);
                            // jobDocumentFor = frontendFields.Value;
                            if (updateJobDocumentField == null)
                            {
                                JobDocumentField JobDocumentField = new JobDocumentField
                                {
                                    IdJobDocument = idJobDocument,
                                    IdDocumentField = frontendFields.IdDocumentField,
                                    Value = frontendFields.Value,
                                    ActualValue = frontendFields.Value
                                };
                                rpoContext.JobDocumentFields.Add(JobDocumentField);
                                rpoContext.SaveChanges();
                            }

                            else
                            {
                                updateJobDocumentField.Value = frontendFields.Value;
                                updateJobDocumentField.ActualValue = frontendFields.Value;
                                rpoContext.Entry(updateJobDocumentField).State = EntityState.Modified;
                                rpoContext.SaveChanges();
                            }


                        }


                        else
                        {
                            if (updateJobDocumentField == null)
                            {
                                JobDocumentField JobDocumentField = new JobDocumentField
                                {
                                    IdJobDocument = idJobDocument,
                                    IdDocumentField = frontendFields.IdDocumentField,
                                    Value = frontendFields.Value
                                };
                                rpoContext.JobDocumentFields.Add(JobDocumentField);
                                rpoContext.SaveChanges();
                            }
                            else
                            {
                                updateJobDocumentField.Value = frontendFields.Value;
                                rpoContext.Entry(updateJobDocumentField).State = EntityState.Modified;
                                rpoContext.SaveChanges();
                            }
                        }
                    }
                }
            }
            List<string> newpdfString = pdfFields;
            List<int> newDocumentFieldId = DocumentFieldsIds;
            jobDocument.DocumentDescription = documentDescription;
            jobDocument.JobDocumentFor = jobDocumentFor;
            rpoContext.SaveChanges();
            GenerateEditedJobDocument(idJobDocument, pdfFields, newDocumentFieldId, FieldsValue);


        }

    }

    public class IdItemName
    {
        /// <summary>
        /// Gets or sets the identifier.
        /// </summary>
        /// <value>The identifier.</value>
        public string Id { get; set; }

        /// <summary>
        /// Gets or sets the name of the item.
        /// </summary>
        /// <value>The name of the item.</value>
        public string ItemName { get; set; }
    }

}